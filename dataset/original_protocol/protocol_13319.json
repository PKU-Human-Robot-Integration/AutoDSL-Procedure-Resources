{
  "id": 17145,
  "origin_website": "Jove",
  "title": "A 3D Digital Model for the Diagnosis and Treatment of Pulmonary Nodules",
  "procedures": [
    "NOTE: During the data preprocessing stage, the original DICOM data must be sorted and intercepted to ensure compatibility with various devices and consistent results. Adequate adjustable capacity must be reserved for intensity processing, and a continuous 3D perspective is essential for observation. In this protocol, a methodical description of the research approach is provided, detailing a case involving an 84-year-old female patient presenting with pulmonary nodules. This patient provided informed consent for her diagnosis via digital modeling and authorized the utilization of her data for scientific research purposes. The model reconstruction function is derived from the PulmonaryNodule software tool (see the Table of Materials for details). Ethical clearance was obtained from The Ethics Committee of Dongzhimen Hospital, affiliated to Beijing University of Chinese Medicine (DZMEC-KY-2019.90).\n1. Data collection and preparation\nLDCT data for the detection of pulmonary nodules\n\tNOTE: The differences seen in the parameters values do not depend on the research method used.\n\t\nAcquire patient consent for the acquisition of DICOM data. Transfer all data to the designated working directory.\nIdentify the data directory with the highest number of scanning layers and the thinnest layer thickness to optimize the accuracy based on the file information. Generally, the more DICOM scan files a patient has, the thinner the scan layer thickness.\nBy implementing the Dicominfo function and using the DICOM files as the function parameters, obtain the slice thickness and pixel spacing parameters in the MATLAB environment. These parameters are essential for setting the 3D volume display rate. For the example data utilized in this study, the slice thickness was 1 mm, the pixel spacing was 0.5 mm, and a total of 200 layers were scanned.\nCorrecting the sorting of the scanned data\n\tNOTE: The sequence of every image should be sorted for volume construction.",
    "Read the location data of every image by using the function Dicominfo. Obtain the location by inputting info.SliceLocation into the MATLAB workspace.\nImplement the SliceLocation function to store the location array for a variable, and make a plot of it (Figure 1).\nBy using the Data Tips button at the top-right of the GUI, add a data tip to the plot on the point that represents the maximum location value of the normal sequence (the top location of the patient imaging; Figure 1).\nSort all the images, and extract the images starting at 1 to the maximum location value by implementing the function VolumeResort.\nStore the volumes of the valid images with the sorted index, which will be useful for tracing back to the important nodules.\nInspecting the thoracic volume\n\tNOTE: Having a well-defined data-storing structure makes follow-up work more convenient.\n\t\nImplement the VolumeInspect function to show three views of the constructed volume. Drag the crosshair intersection up and down in the coronal axis to quickly browse all the images in the horizontal axis (Figure 2).\nMove the crosshair to the horizontal axis to browse all the images in the coronal axis. The crosshair is in the same spatial coordinates in the 3D volume; therefore, moving it on one axis will change the location of the images in the other two axes.\nFor the VolumeInspect function, use the default intensity window for the lung in the GUI. Adjust the actual filter performance by holding the left mouse button and dragging in the axis.\n2. Digital model for horizontal 3D reconstruction\nNOTE: The 3Dlung_Horizon subprocess performs a thorough examination of pulmonary nodules from a horizontal perspective.",
    "Implement the Build_3Dlung_Horizon function in MATLAB workplace to reconstruct the 3D digital model of the pulmonary nodules under the filter window of the lung, and then open the GUI to check the horizontal 3D model (Figure 3).\nUnlike in step 1.3.2, the GUI in Figure 3 is a continuous 3D lung structure in which various types of pulmonary nodules and their relative spatial relationships with the lung tissue can be seen clearly. When dragging the scroll bar on the GUI with the mouse, the continuous 3D lung structure can be observed.\nThe upper-right corner of the GUI in Figure 3 provides icons for zooming in, zooming out, returning to the global view, and marking the coordinates of the pixel selected. Use the zoom function to observe the local features of the lesions and output relevant 3D structural output pictures. Use the Mark pixel coordinates button to calculate the distance between two points in order to measure the size of the nodules.\nThe default color bar is the jet colormap, which means that blue to red represents values from low to high. Right-click Color Bar in the pop-up menu to select the common gray colormap and reset the whole GUI.\nIf the filter window is not satisfied, use the left mouse button to drag up and down in the middle of the figure to adjust the window level. Drag left and right to adjust the window width, and the corresponding accurate filtering range will be displayed on the color bar.\n3. Constructing a 3D digital model for any specific nodule\nNOTE: The slice number is a parameter of the function 3D_Nodules, which reconstructs a 3D digital model that can be viewed from every perspective.",
    "To determine the slice number, as in Figure 3, check at the top-right of the scroll bar; in Figure 3, the slice number is 70. Use the function Build_3D_Nodules with two parameters, including the slice number and the thoracic volume created in step 1.3, to reconstruct a 3D digital model for specific nodules. This is a user-defined model, as the input slice number is variable and depends on the user.\nIf the Build_3D_Nodules function is executed correctly, the user can check the pulmonary nodule located in a certain slice number from various perspectives in the pop-up GUI (Figure 4). To do this, perform the following actions:\n\t\nPress and hold the left mouse button, as in the center of Figure 4, and drag it in any direction to change the perspective of the pulmonary nodules. It should be noted that the observation angle should take into account the anatomical considerations and try to show both the medical characteristics of the pulmonary nodules and the relationship between the nodules and the surrounding tissues.\nUse the zoom and move icons in the upper-right corner, as done in Figure 3. Additionally, by rolling the middle mouse button, the user can continuously zoom in or zoom out of the view of the model.\nThe GUI in Figure 4 shows the coordinate indication of the model in the lower-left corner, where the positive direction on the z-axis is the scanning direction in the horizontal position. Implement the screenshot tool provided by the operating system to save the required 3D projection of the nodules.\n4. Digital model of a coronal 3D reconstruction",
    "NOTE: The Build_3Dlung_Coronal subprocess is executed to evaluate pulmonary nodules from an alternative coronal perspective, thus aiding clinicians and patients in developing a more precise and inclusive understanding of the location and attributes of the nodules.\nImplement the Build_3Dlung_Coronal function in the MATLAB workplace to reconstruct the 3D digital model of pulmonary nodules under the filter window of the lung, and then open the GUI, as prepared by the function, to check the coronal 3D model (Figure 5).\nThe GUI in Figure 5 shows a continuous coronal 3D lung structure in which various types of pulmonary nodules and their relative spatial relationships with the lung tissue can be seen clearly. Drag the scroll bar on the GUI with the mouse to observe the continuous coronal 3D lung structure.\nThe upper-right corner of the GUI, as shown in Figure 5, also provides icons for zooming in, zooming out, returning to the global view, and marking the coordinates of the pixel selected. Use these functions to observe the local features of the lesions and to generate relevant 3D structural pictures. Mark the pixel coordinates to calculate the distance between two points, which is often used to measure the size of the nodules.\nThe default color bar is the jet colormap, in which the colors from blue to red represent values from low to high. Right-click the color bar in the pop-up menu to select the common gray colormap and reset the whole GUI.\nIf the filter window is not appropriate, use the left mouse button to drag up and down in the middle of the figure to adjust the window level; drag left and right to adjust the window width, and the corresponding accurate filtering range will be displayed on the color bar.\n5. Output 3D video for dominant pulmonary nodules",
    "NOTE: Converting the optimal 3D digital model of a pulmonary nodule into a dynamic 3D video enables physicians and patients to better comprehend the condition and make accurate judgments, which is especially critical for formulating effective treatment plans.\nIn the workspace, prepare the required 3D digital model, and pre-visualize the relative spatial relationships between the pulmonary nodules and the lung tissue to be displayed from various angles (Figure 3 and Figure 4).\nIn this study, Adobe Captivate 2019 was used to record all the GUI interaction processes. To begin, open the software, and create a new screen recording project. Turn the camera off, and the red screen recording range box will pop up for recording only the screen operation. In this study, the version 5.1 GUI was included in the box. Click the recording button to operate the GUI, and generate a digital video file of the screen recording.\nAfter recording the dynamic display of the pulmonary nodules, return to the operating environment of the software by clicking on the icon in the taskbar.\nBy using the video publishing feature, save the recorded dynamic video of the 3D digital model of the pulmonary nodules. Click on File > Distribute and configure the file storage path. Name the file, and save the desired digital video file.\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Medicine"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research"
  ]
}