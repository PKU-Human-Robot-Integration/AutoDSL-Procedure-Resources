{
  "id": 11978,
  "origin_website": "Jove",
  "title": "Machine Learning Algorithms for Early Detection of Bone Metastases in an Experimental Rat Model",
  "procedures": [
    "All care and experimental procedures were performed in accordance with national and regional legislation on animal protection, and all animal procedures were approved by the State Government of Franconia, Germany (reference number 55.2 DMS-2532-2-228).\n1. Induction of breast cancer bone metastases in the right hind leg of nude rats\nNOTE: A detailed description of the induction of breast cancer bone metastases in nude rats has been published elsewhere6,8. The most relevant steps are presented below.\nCulture MDA-MB-231 human breast cancer cells in RPMI-1640, supplemented with 10% fetal calf serum (FCS). Keep the cells under standard conditions (37 °C, 5% CO2) and passage the cells 2–3 times a week.\nWash near-confluent MDA-MB-231 cells with 2 mM EDTA in phosphate-buffered saline (PBS), and then detach the cells with 0.25% trypsin. Determine the cell concentration with a Neubauer’s chamber and resuspend them in 200 µL of RPMI-1640 at a concentration of 1.5 x 105 cells/200 µL.\nUse 6–8 week-old nude rats and keep them under pathogen-free, controlled conditions (21 °C ± 2 °C room temperature, 60% humidity, and 12 h light-dark rhythm). Offer autoclaved feed and water ad libitum.\nBefore performing the surgery, inject an analgesic drug (e.g., Carprofen 4 mg/kg) subcutaneously. Anesthetize rats with an isoflurane (1–1.5 vol. %)/oxygen mixture at a flow rate of 2 L/min. Check the anesthetic depth by toe pinching.\nFor surgery, use an operating microscope with a 16x magnification.\nPerform a 2–3 cm cut in the rat’s right inguinal region. Dissect all arteries in the right inguinal region, including the femoral artery (FA), the superficial epigastric artery (SEA), the descending genicular artery (DGA), the popliteal artery (PA), and the saphenous artery (SA). Place two removable clips on the FA: one proximal to the beginning of the SEA, and another directly proximal to the beginning of the DGA.",
    "Ligate the distal portion of the SEA. Perform a cut of the SEA’s wall and insert a 0.3 mm diameter needle into the SEA. Connect a syringe containing the cell suspension from step 1.2 to the needle. Remove the distal clip from the FA and clip the SA instead.\nSlowly inject the MDA-MB-231 cell suspension from step 1.2 (1.5 x 105 cells/200 µL) into the SEA. Remove the needle, ligate the SEA, and remove the artery clips. Close the wound using surgical clips and terminate anesthesia. Monitor the animals daily to assess tumor size and any evidence of pain.\n2. Magnetic resonance imaging (MRI)\nNOTE: For a detailed description of MRI procedures, please see Bäuerle et al.11.\nPerform MRI 10 days PI using a dedicated experimental scanner (see Table of Materials) or a human MR system with an appropriate animal coil.\nAnesthetize the rat with an isoflurane (1–1.5 vol. %)/oxygen mixture as described above. Place a catheter in the rat’s tail vein and tape it to the tail. Connect a syringe containing the contrast agent (0.1 mmol/kg Gd-DTPA in approximately 0.5 mL).\nPlace the anesthetized rat in the MR system. Locate the distal femur and proximal tibia of the right hind leg in an anatomic sequence (e.g., T2-weighted turbo spin echo sequence; TR = 8,654 ms; TE = 37 ms; matrix 320 x 272; FOV = 65 mm x 55 mm; slice thickness = 1 mm; scan time 11:24 min).",
    "Determine the slices covering the distal femur and proximal tibia of the right hind leg and start the DCE-MRI sequence (e.g., fast low angle shot sequence; TR = 3.9 ms; TE = 0.88 ms; matrix = 256 x 216; FOV = 65 x 54 mm2; slice thickness = 1 mm; 8 slices; 100 time points; scan time = 8:25 min). After 30 s, start injecting the contrast agent over a time period of 10 s.\n\tNOTE: The total time to perform an MRI examination is approximately 20 min per animal.\n3. Positron emission tomography/computed tomography (PET/CT)\nNOTE: For a detailed description of the PET procedures, please see Cheng at al.12.\nPerform PET/CT imaging 10 days PI using a dedicated experimental scanner (see Table of Materials).\nKeep the animals fasted prior to imaging. Anesthetize the rat as described in step 2.2 and insert a catheter in the tail vein as described above.\nInject 6 MBq of 18F-Fluorodeoxyglucose (18F-FDG) into the tail vein and wait ~30 min to allow the tracer to distribute properly.\nPerform a CT acquisition (tube voltage = 80 kV, tube current = 500 µA, isotropic resolution = 48.9 µm, duration = 10 min).\nPerform a static PET acquisition (lower/upper discriminatory level = 350/650 keV; timing window = 3.438 ns; duration = 15 min).\n4. Alternative imaging strategies\nFor an early assessment of MDA-MB-231 cells in the hind leg, inoculate 1.5 x 105 labeled cells /200 µL for bioluminescence (i.e., cells expressing luciferin, MDA-MB-231-LUC13) or fluorescence imaging (i.e., cells expressing green or red fluorescent protein, MDA-MB-231-GFP/RFP13). Use the system for preclinical optical imaging to detect intraosseous MDA-MB-231 cells after tumor cell inoculation14. \nPerform experimental ultrasound using a dedicated scanner after intravenous injection of microbubbles to derive morphological and functional parameters of vascularization comparable to MRI7.\n5. MRI analysis",
    "Use a DICOM viewer15 with a DCE Plugin16 and load the DCE sequence in 4D-mode by clicking the “Import” button in the top menu, selecting the DICOM folder containing the MR images from step 2.4, and clicking “4D Viewer” in the top menu.\nPlace a circular 2-dimensional region of interest (ROI), with a target size of 1.5 mm2, in the proximal tibial shaft’s bone marrow of the right hind leg, preferably using image numbers 4 or 5 from the sequence consisting of 8 images, as these center images provide more stable results.\nStart the DCE plugin from the top menu, select “Relative Enhancement” in the “Plot Type” field, and define the baseline range from time points 1 to 5 by typing these numbers into the respective fields. Export the analysis as a .txt file with the respective button and choose “DCEraw.txt” as the file name.\nOpen RStudio17 and load the provided DCE-Script.R file via the “File” menu by selecting “Open File”. Run the entire script by selecting “Code”, then “Run Region” and then “Run All” from the menu. Copy the output to the provided template file named “ImagingFeatures.xlsx” (Figure 2).\nIn the DICOM viewer, place a second ROI within the back muscle of the animal and repeat steps 5.2–5.4 to obtain the muscle DCE measurements for normalization purposes. Within the spreadsheet “ImagingFeatures.xlsx”, the respective bone measurements are automatically divided by the respective muscle measurements for normalization purposes.\nRepeat steps 5.1–5.5 for all animals and complete the spreadsheet.\n6. PET/CT analysis\nOpen the PET/CT analysis software and import the data obtained in step 3 by clicking “File”, followed by “Manual import”. Mark the ct.img.hd and the pet.img.hdr files. Click “Open” and select “Import all”.\nOpen the datasets by selecting “General analysis”, followed by “OK”.",
    "Select “ROI Quantification”, followed by “Create”, and then “Create a ROI from a template”. Place a 2-dimensional ROI approximately 4 mm x 6 mm into the proximal tibial shaft’s bone marrow of the right hind leg.\nSelect “ROIs (Target 1 overlay)” and write down mean, minimum, and maximum values in Bq/mL.\nCalculate the maximum standardized uptake value (SUVmax): Divide the maximum value (Bq/mL) by the injected activity and multiply the result by the weight of the animal in grams. Enter the result into the spreadsheet (Figure 2).\n7. Determining the tumor-take rate\nTo diagnose tumor growth in the right hind leg, repeat MR and PET/CT imaging on day 30 PI, as described above.\n\tNOTE: Tumors will be clearly visible on day 30 PI and feature T2w-hyperintense lesions and clear contrast enhancement in MRI, along with a clearly elevated SUVmax in PET/CT. According to previous experiments, 60%–80% of the animals will develop metastases in their right hind leg.\nComplete the spreadsheet by adding an additional “Tumor” column and enter “1” for every animal that presents metastases, and “0” for every animal without visible tumor burden (Figure 2). Save the spreadsheet as “ImagingFeatures.xlsx” within the Downloads folder.\n8. Feature selection\nTo determine the most relevant features for prediction of future tumor growth, import the spreadsheet into an open-source data visualization, machine learning, and data mining toolkit18.\nDraw the File-subroutine from the Data menu into the workspace on the right and double-click it. Load the spreadsheet by clicking the “Folder” icon and selecting the file “ImagingFeatures.xlsx”. Select the “Export” worksheet and assign the target-attribute to the variable “Tumor”. Assign the “Skip” function to the animal number (Figure 3).\nDraw the “Rank” subroutine from the Data menu into the workspace and connect the “File” and “Rank” subroutines by drawing a line between them.",
    "Open the “Rank” subroutine by double-clicking on its icon, and select the “Information Gain” algorithm19.\nFrom the five acquired parameters, use the top three for further analyses (SUVmax, PE, and AUC).\n\tNote: These parameters reflect metabolic activity (SUVmax) and tissue vascularization (PE and AUC).\n9. ML analysis\nOpen RStudio 3.4.117 and load the provided TrainModel.R-Script via the “File” menu.\nInstall the required libraries (this only has to be done once) by typing: install.packages(c(\"caret\", \"readxl\", \"pROC\", \"RcmdrPlugin.EZR\", \"ggplot2\"))\nTo load the required libraries and set the Downloads folder as the working directory, select the lines 3–5 within the TrainModel.R Script.\nRun the selected code by clicking “Code” within the menu, and then “Run Selected Line(s)”.\n10. Training an avNNet ML algorithm\nTo train an avNNet algorithm, select the lines 8–39 from the TrainModel.R-Script (see step 9.1).\nRun the selected code by clicking “Code” within the menu, and then “Run Selected Line(s)”.\n11. Analyzing the ML algorithm’s results\nTo assess standard parameters of diagnostic accuracy (sensitivity, specificity, positive and negative predictive values, and likelihood ratios), select the lines 41–50 from the TrainModel.R-Script.\nRun the selected code by clicking “Code” within the menu, and then “Run Selected Line(s)”.\n12. Comparing the final model's Receiver Operating Characteristic (ROC) curve with the ROC curves of its constituent parameters\nTo perform DeLong’s tests to compare the model’s ROC curve with the ROC curves of its constituent parameters, select the lines 52–62 from the TrainModel.R-Script (see step 9.1).\nRun the selected code by clicking “Code” within the menu, and then “Run Selected Line(s)”.\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Cancer Research"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research"
  ]
}