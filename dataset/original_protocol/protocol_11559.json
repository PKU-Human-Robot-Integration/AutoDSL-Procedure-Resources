{
  "id": 12521,
  "origin_website": "Jove",
  "title": "Feeding Experimentation Device (FED): Construction and Validation of an Open-source Device for Measuring Food Intake in Rodents",
  "procedures": [
    "NOTE: This protocol is written for components specifically named in the Table of Materials. While similar functionality can be achieved using other hardware, FED was programmed for the Arduino Pro microcontroller (henceforth termed: microcontroller) and listed accessories. Other microcontrollers may work equally well, but will require the user to modify the code to support them. Offline data analysis was coded using the Python programming language.\n1. Preparation and Software Installation\nProcure electronic components needed to construct FED (see Table 1 andFed Github BoM.xlxs at: https://github.com/KravitzLab/FED/tree/master/doc).\n\tNOTE: Alternative suppliers may be used for many parts on this table, provided they have equivalent specifications.\nPrint all 3D designed components (Figure 1, available at: https://github.com/KravitzLab/FED/wiki/3D-Printed-Components). 3D printers with a 200 micron resolution should be capable of printing FED.\nDownload and install the Integrated Development Environment (IDE) platform to program the microcontroller.\nDownload and install additional libraries to enable functionality of motor shield and data logger (available at: https://github.com/KravitzLab/fed/tree/master/fed-arduino).\nProcure tools needed for assembly (e.g. a soldering iron, heat gun, solder, wire strippers, needle-nosed pliers, and both flat-head and screwdrivers).\n2. Soldering Electrical Components\nNOTE: Use heat shrink tubing to protect all soldered joints. Prior to soldering connections, slide a piece of shrink wrap tubing (~2 cm) tubing around one of the wires. After soldering the connection, center the tubing on the connection point and use a heat gun to heat shrink the tubing.\nPreparing connectors (Figure 2A)\nPrepare four 2-pin JST connector pairs and label both male and female sides \"A\", \"B\", \"C\", and \"D\", respectively. Remove the red wire from both sides of connector pair \"D\".\nPrepare one 3-pin JST connector pair and label both male and female sides \"E\".\nMicrocontroller and stackable shields (Figure 2B)",
    "Solder female stackable headers with sockets on the top side of the microcontroller. Clip protruding wire from headers on the bottom of the microcontroller.\nSolder female stackable headers with sockets on the top side of the SD data logging shield. Leave protruding wires at bottom of the shield.\nSolder male headers onto the motor shield with pins protruding from the bottom.\nPlace a coin cell battery into the slot of SD shield to provide power to the real-time clock module.\nExternal power button (Figure 2C)\n\tNOTE: A latching metal pushbutton has five connections: power, ground, normally closed (NC1), normally open (NO1), and common (C1).\n\t\nSolder the 2-pin male connector \"A\" to C1 (use red wire) and ground (use black wire). Heat-shrink all connections.\nSolder the 2-pin male connector \"B\" to + (use red wire) and NO1 (use black wire). Heat-shrink all connections.\nPhotointerrupter (Figure 2D)\nSolder photointerrupter (the black part) to breakout board.\nSolder a 4.7K resistor to the front of the breakout board.\nSolder the male 3-pin connector \"E\" to the back of the breakout board: red wire to PWR, green wire to GND, and white wire to SGL.\nTrim loose wires on back of photointerrupter break out board.\nBoost board (Figure 2E)\nSolder the 2-pin female connector \"A\" to 5V and Ground pins on the boost board.\nSolder the black wire from male connector \"D\" to the additional GND pin on the boost board.\nBNC output cable (optional: Figure 2F)\nSolder the 2-pin connector \"C\" to the terminals of a BNC cable (red wire to central pin, black wire to outside pin).\n\t\tNOTE: For assembly, the 2-pin connector must fit through the nut on the BNC plug. We use a smaller connector, or shave down the JST connector with a razor blade to make it fit.",
    "Motor Shield (Figure 2G)\nTwist the red and black wires of the female connector \"B\" together and solder to Vin.\nSolder the black wire of the female connector \"C\" to the ground pin next to ARef, and the red wire of this connector to pin 3.\nSolder the black wire of the female connector \"D\" to the ground pin next to Vin.\nSolder the green wire of the female connector \"E\" to the ground pin next to 5V, the red wire of this connector to 5V, and the white wire of this connector to pin 2.\n3. Software Upload\nConnect the FTDI breakout board to the programming pins of the microcontroller, and then connect FTDI breakout board to computer via micro USB cable.\nOpen the IDE (integrated development environment) program.\nSelect the correct microcontroller board for software upload through Tools > Board dropdown menu.\nSelect ATMega 328 (5V, 16mHz) through the Tools > Processor menu.\nSelect the port that the microcontroller is connected to through Tools > Port > COM# (will vary depending on which port is currently in use).\nClick the \"upload\" button to upload the FED sketch to the board (available at: https://github.com/KravitzLab/fed/tree/master/fed-arduino).\n4. Hardware Assembly\nStepper motor and motor shield (Figures 1C and 3A and 3B)\nSecure the 5V stepper motor onto the 3D printed motor mount with two #6 x ¼\" sheetmetal screws (Figures 1C and 3A).\nInsert rotating disk into motor mount and push down to securely attach to stepper motor shaft (Figure 3B).\nTwist on 3D printed food silo onto the motor mount making sure the pellet leveler arm is over the hole in the motor mount.",
    "Twist on connected pieces from above (steps 4.1.1 - 4.1.3) to the top of the printed base, with the stepper motor positioned towards the back of the base and the hole positioned in the front.\nCut the 5-pin connector from the stepper motor wires and strip ~2 mm from the end of each wire.\nConnect wires from stepper motor to the terminal block connectors on the motor shield: red to ground, orange and pink to one motor port (e.g., M1), and blue and yellow to the other motor port (e.g., M2).\nExternal power button\nRemove the nut from the power button and insert the power button into the hole in the right side of the base. Secure button in place with hex nut.\nPhotointerrupter (Figure 3C)\nPlace the photointerrupter into its 3D printed housing.\n\t\tNOTE: use a heat gun to heat up the housing if the photointerrupter does not seat all the way in.\nString the 3-pin male connector \"E\" from the photointerrupter (PWR, GND, and SGL) through the front middle hole of the 3D printed base.\nSecure the housing into the FED base with two 1\" nylon screws and corresponding nuts.\nBNC output cable (optional)\nInsert BNC connector into hole on the left side of the FED base. Secure in place with nut.\nIf BNC connector is not used, plug hole with 3D printed plug.\nBattery and boost board (Figure 3D)\n\t\nConnect 3.7 V battery pack to the DC/DC boost converter module via the JST 2-pin connection. The blue LED on the Boost board will illuminate if battery is charged.\nMounting boards inside of housing (Figure 3E)\nMount microcontroller inside of the base with FTDI connections facing the power switch, using #4 x ¼\" steel sheet metal screws.",
    "Stack motor shield and data logging shield on top of the microcontroler.\nScrew the Boost board into the case using #2 x ¼\" steel sheet metal screws. Mount Boost with the micro-SD slot pointing down. FED can be charged through this port without opening the case.\nConnect the five connectors, \"A\" male to \"A\" female, \"B\" male to \"B\" female, etc.\nPlace the battery inside the 3D printed base and close by sliding the back cover.\nSlide on the 3D printed face plate.\n5. Validation and Data Acquisition\nNOTE: Prior to powering on a FED system, ensure an SD card is inserted on the SD shield, otherwise FED will not dispense pellets. Additionally, ensure power jumper on the motor shield (just above the power block) is in place.\nPower on FED system with the power pushbutton and test device functionality.\nFill food silo with 20 mg food pellets before powering on.\n\t\tNOTE: The power switch should light up, as should LEDs on the microcontroller, SD shield, and motor shield. If there is no pellet in the well, one should dispense.\nManually remove 5 - 10 pellets from the food well and confirm that replacement pellets are dispensed.\nRemove the SD card and verify that data was logged properly. Data should be acquired in a comma-separated value (.CSV) that is named according to the variable FILENAME in the code.\nPlace FED unit inside experimental setting, power on, and ensure that a pellet is dispensed into the food well.",
    "Over the course of data acquisition, check FED daily to verify that it is working properly by confirming that the LED light on the power switch is on (this indicates that the battery has enough charge) and a pellet is sitting in the food well (indicates that there are no problems with pellet dispensing).\nAfter data acquisition, retrieve SD card and access .csv file.\n\tNOTE: Analysis scripts for meals and patterns of feeding are available at: https://github.com/KravitzLab/fed.\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Behavior"
  ],
  "bigAreas": [
    "Ecology & Environmental Biology"
  ]
}