{
  "id": 3604,
  "origin_website": "Cell",
  "title": "Visualization and quantitation of spine deformity in zebrafish models of scoliosis by micro-computed tomography",
  "procedures": [
    "Step-by-step method details\nStep-by-step method details\nFixation of adult zebrafish\nTiming: 2 days\nThis section describes euthanasia and fixation of adult zebrafish in preparation for μCT.\nSort zebrafish by genotype and sex if desired.\nEuthanize zebrafish in accordance with approved institutional protocols.\nOur protocol involves rapidly chilling zebrafish in 2°C–4°C ice water for at least 20 min and until cessation of opercular movement.\nIn a fume hood, transfer zebrafish to labeled 15 mL conical tubes filled with fixative (4% paraformaldehyde [PFA] in 1 x phosphate buffered saline [PBS], pH 7.4).\nStore zebrafish in fixative at 4°C for at least 2 days.\nCritical: Ensure zebrafish are fully submerged in fixative. Shorter fixation times with poor penetration can lead to the survival of gut microbes that will cause gas expansion in the digestive tract and distortion of the sample. Samples can also be scanned freshly culled without fixation, but these will need to be fixed or discarded immediately after scanning to prevent degradation.\nPause point: For long-term storage at 4°C, after 2 days to 1–2 weeks of fixation, transfer zebrafish to 1 x PBS and change as needed to maintain freshness. Long term storage in buffered fixative solutions is not uncommon for curated historical samples, and adequate buffering will reduce decalcification of mineralized tissues. If you intend to use bone mineral density measures from your samples, using consistent preps with short fixation times will give the best results. If you are chiefly interested in morphological data, you may find that your results are not sensitive to fixation length, but these should be kept consistent.\nMounting zebrafish for μCT scanning\nTiming: 15–30 min\nThis section describes mounting zebrafish in agarose for μCT scanning.",
    "Prepare 0.8% agarose in 1× PBS. (Precise concentration is not critical.) Cool the agarose until the beaker is comfortable to handle, then keep warm to prevent setting. Hot agarose will scald your samples!\nIn a fume hood, remove the fixative from zebrafish by decanting PFA solution into a waste container.\nWash zebrafish three times in 10 mL 1 x PBS for 1 min per wash, then discard wash solutions into PFA waste. After washing, decant excess 1 x PBS wash solution, then pour zebrafish out onto a paper towel.\nPlace zebrafish into a fresh 15 mL conical tube by carefully picking up the caudal fin with forceps.\nPour cooled agarose into the conical tube containing the zebrafish. Ensure fish are entirely immersed in the agarose, then allow agarose to solidify at room temperature (Figure 1[href=https://www.wicell.org#fig1]A).Fish may overlap, but do not add fish past the 12 mL mark on the tube.\nimgsrc:https://prod-shared-star-protocols.s3.amazonaws.com/protocols/3170-Fig1.jpg\nFigure 1. Loading samples into a Scanco vivaCT80\n(A) Multiple fish can be embedded in agarose for scanning.\n(B and B′) The tube holder is designed for 15–50 mL conical tubes; a tube is loaded facing into the scanner as shown.\n(C and C′) The tube holder attaches to the second mounting slot from the user, indicated with a cyan arrow in C. Additional mounting slots are visible to the left (smaller white arrows), which are not compatible with this adapter.\nUse long forceps to manipulate the fish while the gel solidifies. Zebrafish should be positioned head first into the conical tube, 1–3 abreast, adding agarose to cover as needed. Precise positioning is not critical for the scan, but analysis will be easier if all fish are aligned perpendicular to the axial slice plane (parallel with the tube walls).\nAbout five 3-month-old zebrafish may fit comfortably in a tube.",
    "You may work in layers of agarose if the fish are small, allowing you to fit multiple genotypes or sexes in the same tube.\nPermanent marker can be used on the outside of the tube to denote sample IDs.\nCritical: Do not overfill the tube! When scanning, the top of the tube is obscured by the tube holder. Fish beyond the 12 mL mark may not be scanned.\nCritical: Avoid air bubbles in agarose by pouring slowly and tapping the side of the tube.\nNote: Most scanners can also accommodate 50 mL tubes. If you are scanning enough fish to warrant a 50 mL tube, you will need to use a different segmentation strategy than the one that follows. This protocol is best suited for scanning and manually segmenting 2–3 fish at a time.\nNote: Agarose works well as a mounting medium for non-contrast imaging of bone, as outlined here. Water-soluble contrast agents such as PTA, PMA, or Iodine will diffuse into agarose. If you are using one of these, fish will be dehydrated into ethanol prior to scanning. For ethanol-dehydrated preps, or for an alternative to agarose, fish can be held in place using dampened sponges or plastic wrap.\nμCT scanning\nTiming: 2–6 h\nThis section describes the loading of samples into a Scanco vivaCT 80 μCT scanner, setting image acquisition parameters and data collection.\nLoad the conical tube containing mounted zebrafish into the μCT sample holder (Figures 1[href=https://www.wicell.org#fig1]B and 1B′) and tighten until the tube is secure.\nAfter turning on the scanner, place the sample holder into the scan tube and close the door (Figures 1[href=https://www.wicell.org#fig1]C and 1C′).",
    "Open the software on the computer attached to the μCT machine (Figure 2[href=https://www.wicell.org#fig2]A). Assign a new sample number by clicking New then input the sample’s information (we typically include zebrafish sex, date of birth, genotype; other identifying details can be included as desired). This will generate a new folder where the scan data will be deposited.\nimgsrc:https://prod-shared-star-protocols.s3.amazonaws.com/protocols/3170-Fig2.jpg\nFigure 2. Scanco vivaCT80 settings\n(A) Scout-View options for setting reference lines, with important buttons highlighted.\n(B) The Task list shows pending and completed scans. Scans can be modified, deleted, or initiated from this window.\nAssign the appropriate μCT scanning parameters to a saved Controlfile. The parameters assigned to our control file, which are used for label-free detection of bone at a resolution of 18 μm voxels in a 15 mL conical tube, are outlined below.\nControlfilename: 18umfishscan.\nCheck Advanced.\nGeneral:\nHolder Type: Generic, Any ∅ x L 145 mm.\nMode: Check Continuous ROT.\nEvaluation: Default Evaluation.\nX-Ray Settings: 55 kVp, 145 μA, 8 W.\nCT-Scan:\nFOV/Diameter: Select 31.9.\nVoxel size (μm): Slider bar set to 18.\nIntegration Time: 400 ms.\nSelect Scout—View to locate the sample and set the scanning area.\nThis step takes a rapid low-resolution scan of the sample (Figure 2[href=https://www.wicell.org#fig2]B). Select the start and end points of the scanning area by adjusting slider bars until the entire range of the desired sample is visible. Test the range of your Scout view by selecting Submit Scans, which provides a preview.\nIf zebrafish are not distinguishable from agarose in the generated scout-view image, adjust contrast by holding shift on the keyboard and clicking and dragging with the mouse.",
    "The scan area may include excess empty space initially. If you only see the tip of the tube, adjust the Start and Finish positions more rearward and repeat the Scouting View. Proceed to the next step when all of the fish that you would like to scan are captured in the Scout View.\nDefine the scanning volume using the Reference—Line function (Figure 2[href=https://www.wicell.org#fig2]A). This step will determine the range of the data captured in your scan. You will assign this range by placing reference lines on your generated Scout View. If your Scout View does not contain all the zebrafish in your conical tube, repeat your Scout View and collect a wider range of data to capture more of the tube.\nClick on the Reference—Line icon then place the cursor over the scout-view image, hold shift on the keyboard and click and hold just anterior to the snout of the zebrafish nearest the bottom of the conical tube. This places two reference lines, one at the point of clicking and a second which moves with your cursor until released. Move your cursor to the end of the desired scan area and release the click. These reference lines set the scan volume. The software will provide an estimated scan time for the selected scan volume.\nOnce the desired scan volume is defined by reference lines, select the Add Scan icon to add the scanning task to the batch list.",
    "Optional: Multiple scan areas can be defined by using more than two reference lines. This may be useful if a large area of agarose is separating zebrafish of different sexes or genotypes, or if there are portions that you do not need to scan, such as heads or distal tails. Repeat steps a-b until all the desired scan volumes are added to the batch list.\nClick the start iterative tasks icon for single scans or the submit batch scans icon for multiple scan volumes (Figure 2[href=https://www.wicell.org#fig2]B).\nCritical: If you do not see your fish when you attempt your Scout View, and instead see a repeating artifact, your sample may have loaded too far forward in the scanner. There must be a small region of tube-free space at the beginning of the scan for it to calibrate. If the sample needs to be moved, stop the scan, wait for the panel to say that the machine is safe to open, move the sample holder one slot towards the user, and repeat the Scout-view.\nCritical: Higher resolution scans will capture a larger number of data slices and improve distinguishable detail. However, a smaller voxel will increase scan time, and may increase the costs of acquisition. We have performed scans at a range of resolutions (typically 10–32 μm), and all are sufficient to visualize general spine morphology. Perform a few rounds of optimization and analysis with 2–3 scans of the same zebrafish at different resolutions to determine the level of detail that you would like to capture. Once established, then begin scanning your bulk datasets with consistent parameters.\nNote: All users should receive radiation awareness training through institutional bodies prior to implementing μCT-based protocols.",
    "Note: Ensure sufficient data storage is available prior to data collection; raw scan files may exceed 5–8 GB. (If there is not enough room available, the program will abort the scan shortly after it is initialized.) The next processing step will save the scan volume in a new data format, which will double the storage space required. In general, good data management is critical for scanner workstations!\nFile transfer\nTiming: 30 min\nThis section describes saving scans as evaluations for export to an analysis workstation.\nOnce scanning has completed, enter the Evaluation menu by clicking the Evaluation Program icon.\nSave the entire scan as a three-dimensional data stack.\nSelect the Circle icon to create a region of interest.\nBeneath the image window, there is a scroll bar that contains all the slices from your scan. Scroll through the stack and identify the first or last slice that contains information you would like to be included in your downstream analysis. If you are downloading all zebrafish at once, draw a large circle that encloses the diameter of the 15 mL conical tube on the last slice which contains zebrafish then press Control + C to copy this circle and then apply the same circle to the first desired slice.\nClick the Contouring Subwindow icon to bring up the Contouring subwindow. Select the Range parameter. Click on one of the slices between the first and last circle to highlight the entire data volume.\nIn the Contouring subwindow, click the Morph icon to apply the circle subregion to all the slices in the defined range.",
    "In the Contouring subwindow, click the Set BP icon, where BP stands for Break Point. This accepts the volume within the circle as the new data range. The circle will turn from red to green to show that the new data range has been selected.\nClose the Contouring subwindow by clicking the Close Window icon.\nClick the Tasks dropdown menu at the top of the Evaluation window and then select the 2D and 3D Evaluation button which brings up the 3D-Evaluation Subwindow. Press Select and scroll towards the bottom of the menu and select Convert to DICOM. The software asks if the evaluation should be saved: select YES. Saving the DICOM file may take several minutes if the scan area is large.\nOnce the DICOM file has finished saving, it will be visible as a new series of data files within the scan folder. One file corresponds to each slice of the selected data range. The DICOM files can be located and copied to a new folder for downstream analysis using a file transfer method of choice. It is not necessary to import the other files from the scan list to the analysis workstation as they are not required for downstream analysis and some are very large. The DICOM slices files contain any necessary metadata from the scanner when opened in 3D Slicer or other medical imaging software.\nNote: Our scanner is set up for rapid, wireless file transfer using a File Transfer Protocol client such as FileZilla. You may first need to download auxiliary software to support file transfer over your institutions Virtual Private Network (VPN) and obtain Internet Protocol (IP) address and password information for the scanner’s workstation to facilitate this process. A wired connection to the scanner’s computer may also be used.\nThree-dimensional reconstitutions\nTiming: 2–6 h",
    "This section describes how to import data into 3D slicer, extract skeletal elements and segment individual fish.\nOpen 3D Slicer. Load the DICOM by first selecting the DICOM Module and clicking the Import DICOM files icon in the top left. Click choose directory to add the DICOM file. (Figures 3[href=https://www.wicell.org#fig3]A and 3B) Once the file is loaded, four viewing windows will open in the “4-up” configuration: Red (axial), Green (coronal), Yellow (sagittal), Blue (3D View).\nimgsrc:https://prod-shared-star-protocols.s3.amazonaws.com/protocols/3170-Fig3.jpg\nFigure 3. 3D Slicer at a Glance\n(A) The 3D slicer Welcome Menu is shown, with data import strategies and other key features highlighted.\n(B) The Segment Editor module performs most of the critical tasks that will allow you to isolate fish, spines, or vertebral elements from a data volume-- a brief preview of the segmentation pipeline is shown.\nNote: The 3D Slicer Welcome page, as well as a brief overview of data import and segmentation workflow, is highlighted in Figure 3[href=https://www.wicell.org#fig3].\nUnder the Module drop-down menu (Figure 3[href=https://www.wicell.org#fig3].4) select the Segment Editor (Figure 4[href=https://www.wicell.org#fig4]A). Opening the Segmentation Editor will generate a Segmentation folder, now viewable in the Data nodes as a nested volume (to view it, toggle back to the Data module in the drop-down menu). The segmentation can be saved as a .NRRD anywhere along the process.\nimgsrc:https://prod-shared-star-protocols.s3.amazonaws.com/protocols/3170-Fig4.jpg\nFigure 4. Whole fish 3D reconstruction\n(A) The Segment Editor is used to generate segments.\n(B) Name the segmentation file.\n(C) Create a new item in the segment list for each fish in the scan. (C) Set a threshold that isolates bone with a minimum amount of noise; this threshold will be used as a mask for all downstream processing tools.\n(D) The paint brush tool is used to label sections of bone. The diameter of the paint brush may be adjusted.",
    "(E and E′) Fish are painted sparsely in the axial view using their segment labels to generate seeds.\n(F and G) The Islands and Scissors tools may be used to discard non-bony tissue present in the 3-dimensional reconstruction.\n(H and I) A model can be created by clicking the Import/Export button and selecting the option presented under the Closed surface tab.\n(J) To maneuver an individual model, a transformation for each segment must be created.\n(K) The 3D window tools will allow you to change the view settings for the 3-dimensional reconstructions.\nAt the top of the Segment Editor, select “Rename current Segmentation as”. This Segment will contain all whole fish segments, so “scanname_wholefish” will distinguish it from other types of segmentations (Figure 4[href=https://www.wicell.org#fig4]B).\nDefine the source volume that will be loaded into the Segment Editor using the second drop-down menu. You can toggle back to the Data module to rename your data volume first.\nUsing the Add function, create a new element in the segment list for each zebrafish contained in the volume (Figure 4[href=https://www.wicell.org#fig4]C). Double-click to rename them. It is good practice to save each segment with a descriptive title, especially if individual fish will eventually be opened next to files from other scans. An example may be “081022_abcF1” to indicate that this segment is the first female zebrafish scanned in the tube, from the ABC genotype or stock, scanned on 08/10/22. Segments will later be exported as other file formats; it will be useful if all files from one fish share a parent name.",
    "Note: This method of segmenting individual zebrafish from the scan volume is best for a smaller scan, comprised of 2–3 young adult (3 month) zebrafish. It can be used for 3–5 fish at a time on a computer that has more processing power. (We routinely perform this pipeline on a MacBook Pro with 2.3 GHz Intel Core i9 processors, 64 GB of 2667 MHz DDR4 memory, and an upgraded graphics card.) In this section, we describe how to separate individual zebrafish using modalities within the Segment Editor of 3D Slicer, primarily the Grow from Seeds function. This is also an appropriate time to computationally dissect off undesired regions of the data, like fins, bones that are not of interest, or scales that obscure the bone.\nProceed to the Threshold tool. Use the sliders or manual entry to set the lower threshold range to capture bone with little background noise (generally between 3200–3500) and leave the upper threshold at maximum intensity. As you adjust the threshold sliders, pixels in the slice windows will display in the color associated with the active (highlighted) segmentation element. Click Use for masking (Figure 4[href=https://www.wicell.org#fig4]D). Slice plane views will return to black and white; voxels selected with the next editing tool will only be kept if they exceed the assigned threshold.\nNext, you will annotate individual fish by sparsely painting their features. This will entail painting slices at intervals throughout the scan, color-coding bones that belong to different fish, then you will use an algorithm to expand these labels to nearby regions with similar intensity. This step can also be used to mask out undesired regions, like scales that conceal the bone.",
    "Bring the axial window slider all the way to the left to the tip of the conical tube. Begin to incrementally move through slices by moving the slider to the right or by pressing the arrow keys. Once bone (white) for the first zebrafish appears, select the segment created for the first fish, then select the Paint icon (Figure 4[href=https://www.wicell.org#fig4]E). In the axial window, use the paintbrush to label some of the distal jaw elements in one of the early slices. Pixels that exceed the specified masking threshold will display in the assigned segment color once painted (Figure 4[href=https://www.wicell.org#fig4]E’).\nNote: To change display color for each segment, double-click on the color icon next to the segment. The “Terminology” Window will appear, allowing you to select a new color for the segment.\nContinue to highlight bony regions every 10–20 slices (several slice examples shown in Figure 4[href=https://www.wicell.org#fig4]E’), taking special care to catch slices that contain floating bones which are not anchored to other regions of the skeleton, such as the jaws, fins, and parts of the tail. Once additional zebrafish begin to appear in the axial slices, select the appropriate fish segment from the segment list, and paint their elements as well. At least one section of every floating bone needs to be painted to properly grow every region from seeds, so it is better to over-paint than under-paint. (There are several jaw bones that will be omitted from the reconstruction if too few seeds were placed in the skull regions, for example.)",
    "Scales may have similar intensity values as bone, but you may want to digitally remove them to view the skeleton. To create a segment that can be hidden from the final reconstruction, create an additional segment called “background” or “scales.” While you are highlighting the skeletal portions of a fish, separately paint the fuzzy halo of scale elements with this “background” label active. By labeling undesired features in their own segment, you can elect to hide those features in the reconstruction, or mask them from your raw volumes later.\nNote: It is recommended to paint each zebrafish’s scales or nearby undesired features as their own background segment— for example, you may have segments called: wtM1 (wild-type male 1), bg_wtM1 (background for wtM1), wtM2, bg_wtM2, etc. If multiple disconnected background regions are painted with the same element label, this will cause Grow Seeds to try to connect these areas, leading to increased processing times and errors.\nOnce you have labeled all fish and background elements sparsely throughout the scan, save your progress on the Segmentation. To do this, select the Save icon, uncheck all elements except for the Segmentation volume, and save it to new analysis folder as a .NRRD.",
    "Once you have sparsely painted segment labels onto a good number of slices from each fish, go to the Grow from Seed tool (Figure 4[href=https://www.wicell.org#fig4]F) and click Initialize. This may take a few minutes. Once complete, a preview of your results is viewable in any of the slice views. You should notice that your sparse axial labels have flooded nearby connected bone regions, growing your segment. If it has connected the seeds properly, each fish and its background elements will display in its entirety in its own segment color. If you notice errors, you can go back and if you are happy with the segment, hit Apply in the Grow from seeds window, followed by Show 3D (Figure 4[href=https://www.wicell.org#fig4]E). The 3D reconstruction of all visible segments will appear in the 3D View window.\nTo enlarge the 3D window, go to the Four-Up Tab then click 3D only. The Center View key in the 3D View menu will reposition the 3D reconstruction to the center of the window.\nTo clean up the segmentation, you may wish to remove fecal matter, small artifacts, or partially-scanned fish using tools that work via size-exclusion or lassoing. Remove small islands (Figure 4[href=https://www.wicell.org#fig4]F) can be used to exclude all floating cohesive objects under a certain voxel size. The Scissors tool can also be used to remove undesirable regions (Figure 4[href=https://www.wicell.org#fig4]G). Use the selection tool to reposition the 3D View so that a circle can be drawn around the section you would like to remove—ensure that there is nothing critical behind the section you are clipping, as the scissors are operating in 3D space. Note that the default setting is to excise material within the circle created.\nProceed back to the Grow from Seed Tab and click Apply to solidify the 3D reconstruction.\nPreparing models",
    "Timing: 2–6 h\nThis section prepares models from segmentations.\nTo create a model, go to the drop-down menu on the Segment Editor>Segmentations Module (upper right green arrow icon) Tab (Figure 4[href=https://www.wicell.org#fig4]H) and click Import/Export Nodes.\nUnder the Representations drop down menu, click Closed Surface then Update (Figure 4[href=https://www.wicell.org#fig4]I).\nClick on the only option presented under conversion path then Convert.\nUnder the Export/Import Models and Label Maps section, select the Export and Models bubbles then Export.\nGo back to the Modules drop down menu, click Data to exit the Segment Editor. The Data panel will include all segment (black icon) and model (green icon) elements generated within the session.\nNote: Segments are binary labelmaps that house all coordinates for a desired feature, and map back to the raw image volume. To extract segmented objects from their environment and move them around in space—for instance, to reposition fish so that they are not arranged haphazardly into the shape of a conical tube, but instead aligned in a tidy column with their heads to the left for a figure—you will need to first generate a new data object, a model. This is a hollow or filled surface mesh generated from the voxels within your segment. Models are generated in their original position and orientation within the data set, but can be moved with rigid transformations. Models can also be exported to other programs (such as Blender or Maya) for surface editing, animation, or 3D printing.\nSegments and their models will all be superimposed if all are currently visible; hide segments to reveal the models by closing the Eye icon next to the entire segmentation folder or its individual elements.",
    "To rotate or re-orient the models, right click on the grid icon next to each model and click Create New Transformation (Figure 4[href=https://www.wicell.org#fig4]J). Label each transformation with a label that designates which model it will be moving and where (aka abcF1toFigPanel).\nGo to the grid icon next to each model, right click, and click Interact in 3D view. This will allow you to click and drag the model around. Uncheck Interact in 3D view to fix the model in place again.\nClick on the Tools Tab (Figure 4[href=https://www.wicell.org#fig4]K) to customize the layout.\nTo include a scale bar, click on the Orthographic tab, then Scale Bar tab. You may wish to change the color of the scale bar before it appears.\nTo change the background, click on the Visibility tab.\nOnce the 3D reconstruction is finalized, click on the screenshot tab which will save the 3D viewer window as a .png file. This can then be used to assemble figures for presentations and manuscripts.\nTo save the models and their transforms, click on the Save Data Tab.\nSpine isolation\nTiming: 1 h\nThis section isolates spinal elements from other skeletal structures.\nFollow steps 18–19 of the Whole Fish Reconstruction section, with modifications. This time, select “Create New Segmentation As” in the Segmentation menu, and name the new segmentation folder “scanname_spineiso.” Add one new element to the segmentation list for each fish contained in the scan. These segments can be labeled with the same name as their corresponding whole fish, with the suffix “_spine” to differentiate them.",
    "Note: We often digitally isolate the spine by drawing a fixed diameter tube through the length of the zebrafish that follows the trajectory of the center of the vertebral column. As this function trims away the bulk of the zebrafish, performing these spine isolations is a convenient way to pare down the amount of memory used by downstream analysis and reconstruction processes. It also removes fin and scale elements that would obscure the spinal column from dorsal and ventral views.\nProceed to the Threshold Tab (Figure 4[href=https://www.wicell.org#fig4]D) and set the lower threshold range between 3200–3500 then click Use for masking. This pixel intensity range should be enough to highlight bone.\nBring the axial window slider all the way to the left to the tip of the conical tube. Begin to incrementally move through slices by moving the slider to the right, locate the first fish, and progress through the axial slices until you approach the first vertebra in the spinal column.\nUse the Draw Tube tool (Figure 5[href=https://www.wicell.org#fig5]A) to create a spine isolation.\nimgsrc:https://prod-shared-star-protocols.s3.amazonaws.com/protocols/3170-Fig5.jpg\nFigure 5. Spine isolation workflow\n(A) The Draw tube tool (menu shown) will allow you to add fiducial points along the spine, to create a straight or curved tube-shaped segmentation with a fixed radius (B).\n(C) Hit apply to complete the tube.\n(D) A spine isolation being modified within the axial view. The Show 3D button will reconstruct your segments live in the 3D View (D′).",
    "The Fiducial Placement Cursor icon will anchor a series of landmarks on your slice views, which will be mark the center of a tube. (Inactivate the cursor to pause between placing landmarks. Use the trash icon to delete previous points one at a time.) Radius will adjust the width of the tube; its units are in mm. A 1 mm radius should capture the adult spine. For Interpolation, select Moving Polynomial.\nTo begin, add one landmark just rostral to the first vertebra, by activating the cursor and then clicking in the center of the bright optic structures in the skull. Capturing these ensures your tube edge won’t crop features of the first vertebrae.\nAdd the next landmark on the first vertebra, which is marked by a bright “cap” on its rostral end (subsequent vertebrae appear hollow at the ends).\nDrop a new landmark on each subsequent vertebrae at its narrowest central point, to follow the spine through the volume (Figure 5[href=https://www.wicell.org#fig5]B).\nNote: Zebrafish generally have 32 vertebrae with a small number of hemi-vertebrae near the tail; the surfaces of the first 4 vertebrae are obscured by the supraneurals and bones of the Weberian apparatus.\nSelect Apply to save the fixed-diameter tube, and then Show 3D to view the result (Figures 5[href=https://www.wicell.org#fig5]C–5E).\nExport and transform models as in 26–32.",
    "Note: You can also save new partial data volumes for each individual fish, using either the whole fish or spine segmentations. Use the Segment Editor function Split volume also requires a lot of memory, so this function is not recommended unless you’re already working on a subvolume, like a partial spine isolation where there are not many islands. In our experience, none of these tools will flawlessly and immediately divide the spine into thirty-something distinct vertebrae, so a combination of these methods may be used to achieve the intended effect.\nVertebral isolation\nTiming: 2 h\nThis section describes isolating individual or multiple vertebrae from isolated spines.\nFollow Steps 31–34 on the Spinal Dissection section, only adding fiducial points to the vertebrae of interest.\nTo compare specific regions of the spine, be sure to take note of which vertebra has been isolated across samples.\nTo isolate an individual vertebra, zoom in on the desired vertebra in the 3D view (Figures 6[href=https://www.wicell.org#fig6]A and 6B). Rotate the reconstruction to expose the gaps at the rostral and caudal intervertebral spaces. If necessary, use the Scissors tool to create small snips to open the space between vertebrae and fully separate them from their neighbors (Figures 6[href=https://www.wicell.org#fig6]C and 6D).\nimgsrc:https://prod-shared-star-protocols.s3.amazonaws.com/protocols/3170-Fig6.jpg\nFigure 6. Vertebrae isolation 3D reconstruction workflow\n(A) Rough cuts are made to isolate a desired ‘island’ of connected vertebrae.\n(B) Keep selected island removes all but the selected region from the segment.\n(C) Individual vertebrae are separated with cuts through the intervertebral spaces, and (D) the vertebrae are saved to individual segments using Split islands to segments.\n(D′) Isolated vertebrae can now be exported as models, re-colored, or made partially transparent to highlight features/morphology.",
    "Note: The intervertebral spaces between zebrafish vertebrae are very small. Calcified structures may appear to connect vertebrae entirely; how distinct the vertebra appear will be dependent on the age of your fish, scan resolution, and the thresholding parameters used for segmentation. Isolating individual vertebrae is useful for examining their morphology, but the Scissors tool does not discriminate between signal and noise and should be used with caution.\nOnce the desired vertebrae have been excised from the rest of the spine as standalone elements, other elements in the segment can be deleted. This includes ribs or fins, or portions of vertebrae that lie rostral or caudal to the cluster that is being isolated.\nTo keep only a desired region of segment, use the Islands module and Keep selected Island. Click on the desired region in a slice view to delete all detached islands.\nIf you wish to keep only a small series of vertebrae, remove selected island can be used to delete undesired components individually.\nOnce vertebrae are digitally detached from one another, use Split Islands into segments to save each freestanding element of the active segment into its own segment. Rename the pieces as needed.\nOnce individual vertebrae have been segmented, follow steps 25–31 in the Whole Fish Reconstruction section to create their 3D models. In some reconstructions, we will isolate individual vertebrae as segments, export each vertebra as a model, and then alter the display transparency of every other vertebra in the series, so that individual vertebral morphologies can be better discerned. Importantly, you can move several models from within the same fish by applying the same rigid transform to all of them—this can be used to move multiple segmented vertebrae as a collective unit, without disrupting spacing or orientation relative to one another.\nPerforming Cobb angle analysis",
    "Timing: 2 h\nThis section describes how to perform Cobb angle measurements from μCT models.\nOnce the desired subset of data has been extracted from the scan, and a model of the fish, spine, or vertebrae has been generated, the Markup module is used to place meaningful landmarks and take measurements between them. We can perform simple morphometrics by applying landmarks to areas of interest on our spine or vertebra models, and then calculating the lengths between them. Within 3D Slicer, load your desired model. Enter the Markups module.\nSelect Point List to begin a list of fiducial markers. Edit the name of the list to reflect the model or fish that will be measured.\nSelect the Cursor tool, which will allow you to place a fiducial element on the surface of your model. Once a marker is placed, it can be locked, unlocked, renamed, or deleted from the Control Points tab. If the point is unlocked, it can also be repositioned on the model in the 3D View. Rotate the model to make sure that the placement of the marker is accurate in 3-dimensional space.\nCoordinates from the Point List can be exported as a table (or copy and pasted into Excel) if you wish to perform measurements using distance formulas between points in another program.\nTo perform measurements within 3D Slicer, use the Line tool within Markups. This will allow you to create the origin and termination points of a straight line drawn along the 3-dimensional viewer window. It is easiest to do this by dragging between two already-created fiducial points to ensure the line is accurately positioned in 3-dimensional space.",
    "Note: The Cobb angle is a metric used to quantify irregular spine curves in human patients5[href=https://www.wicell.org#bib5]; an angle greater than ten degrees is required for the diagnosis of scoliosis. A Cobb angle is drawn between the most displaced vertebral elements at the rostral and caudal ends of a curve, and the angle is taken over the most displaced (apex) vertebra in the curved region (Figure 7[href=https://www.wicell.org#fig7]). As the Cobb angle was designed for analysis of X-rays of human patients, this method of curve analysis is best used with a maximum projection (or 2-dimensional) image taken from the dorsal aspect, where the spine will generally appear linear. We have adapted this method to quantify spinal curves from a lateral view, assessing primarily dorsal-ventral curvature in the zebrafish, which is more akin to a sagittal Cobb angle in humans.\nimgsrc:https://prod-shared-star-protocols.s3.amazonaws.com/protocols/3170-Fig7.jpg\nFigure 7. Cobb angle analysis\nApplying Cobb angle measurements to zebrafish. R – rostral; C – caudal. Scale bar: 2.5 mm.\n(A) A spine isolation from a zebrafish mutant with spinal curves.\n(B) The lines overlaid here indicate where the beginning and end (here, R and C) of several spine curves were designated. An angle will be drawn that encloses these vertebrae, and the center of the angle should correspond to the apex of the curve (the most displaced vertebra).\n(C) Three Cobb angles are shown. For shallower curves where the angle between the two R and C edges would not intersect on-screen, it is easiest to calculate the Cobb angle using the outside angle between their normal angles, as shown in the first example.\nTo perform Cobb angle measurements, first generate a whole-fish or spine reconstruction as described in sections above.\nRotate the isolation to its lateral view, with the zebrafish head to the left. Take a screenshot with scale bar.",
    "Note: Repeat the screenshot procedure after rotating the fish into its dorsal view, if the desired Cobb angle measurement requires this view.\nMeasure Cobb angles on the maximum projection images in your desired image analysis software. We typically use ImageJ for this.\nIdentify the most rostral misplaced vertebra in the curve. This vertebra should have a rostral edge that demonstrates a slightly wider intervertebral space than the vertebra in front of it.\nUsing the same strategy, identify the most caudal vertebra in the curve.\nIdentify the apex vertebra, that is, the vertebra that is visibly the furthest from the natural axis of the spine.\nDraw a right angle that has one line aligned parallel to the rostral face of the first vertebra in the curve.\nDraw a second right angle that is aligned parallel to the caudal face of the last vertebra.\nThe outside angle at the intersection of those two normal angles is the same as the angle between the vertebrae.\nNote: It is also possible to draw one angle, where each line is parallel to the rostral and caudal vertebral faces at either end of the curve. However, this angle is often relatively shallow in minor curves, so you may not have enough space for the lines to intersect. Thus, the method of using two normal angles and measuring their external angle at the intersection is more typical.",
    "Note: Angle measurements can theoretically also be taken in 3D, on the model, to capture curves with rotational elements that would not be detected in a maximum projection. This can be done by using the Angle Plane tool in 3D Slicer. It should be noted that this will not be strictly analogous to the 2D Cobb angles taken in human data, and the tool can be a somewhat unwieldy on large data volumes like whole zebrafish."
  ],
  "subjectAreas": [
    "Health Sciences",
    "Model Organisms",
    "Developmental Biology"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research",
    "Molecular Biology & Genetics"
  ]
}