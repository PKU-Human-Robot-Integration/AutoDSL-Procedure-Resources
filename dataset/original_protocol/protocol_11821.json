{
  "id": 13221,
  "origin_website": "Jove",
  "title": "An Open-Source, Fully Customizable 5-Choice Serial Reaction Time Task Toolbox for Automated Behavioral Training of Rodents",
  "procedures": [
    "The experimental procedure in this protocol was performed following the recommendations of the EU directive 2010/63 for the Welfare of Experimental Animals and in accordance with the Animal Welfare Act issued by the Federal Government of Germany and was approved by the local authorities. Since the research only required behavioral training, no animals were euthanized, and all were kept in the husbandry after the research was conducted. The research was conducted using ten male Lister hooded rats (4 months of age at the start of behavioral training).\n1. Animal housing, husbandry, and handling\nHouse rats together with up to five littermates in a standard cage with suitable bedding material, according to your animal welfare committee's recommendations.\nKeep the rats in a ventilated room with a controlled temperature of 20 ± 2 °C and relative humidity of a maximum of 50% with a 12:12 h light/dark cycle, or in accordance with your animal welfare committee’s recommendations. Restrict access to food (12 g chow a day per rat, see Table of Materials) and provide unrestricted access to water.\nMark the animals' tails using a permanent non-toxic ink marker.\nBefore starting the behavioral experiment, handle the rats for at least a week until they are accustomed to being handled by experimenters, and introduce the rats to the rewarding food pellets to reduce food neophobia.\n2. Preparation of the hardware and control software\nOpen the freely available Integrated Development Environment (IDE) Software (see Table of Materials). Click on File > Open and click on the script for hardware control (Supplementary File 1).",
    "Plug in the microcontroller USB to the computer. Check whether the automatically chosen Board and Processor information correspond to the connected microcontroller board by clicking on Tools in the top left half of the screen. Select the corresponding Board and Processor information, and click on Port to select the available port.\nOn the top left half of the screen, click on Sketch > Include Library > Manage Libraries. On the newly opened Library Manager window, type the term \"Adafruit Motor Shield V2\" into the search bar and click on the Install button on the corresponding library. Repeat the same process for the search term \"Adafruit Neopixel\".\nOn the top left half of the screen, click on Verify (the button with a checkmark) to ensure there are no mistakes in the script. Click on Upload (the button with an arrow to the right) to upload the script to the microcontroller board.\n3. Preparation of the experiment control software\nEnsure that all four scripts and functions for experiment control are located in the same folder.\n\t\nOpen the programming platform, click on the HOME toolbar tab on the top half of the screen, and click on Set Path. Click on Add Folder and select the folder containing all the experiment control scripts.\nClick on Save and close the Set Path window. Click on Open on the HOME toolbar tab on the top half of the screen and open the following scripts and functions: User (Supplementary File 2), Staircase (Supplementary File 3), and DataProc (Supplementary File 4).\nFollow the instructions for downloading and installing the Psychtoolbox software to enable the ESC button functionality used by the toolbox (see Table of Materials for the access link).\n4. Configuration of parameters used in the 5-CSRTT toolbox\nPrepare the toolbox for habituation.",
    "NOTE: Figure 2 represents the 5-CSRTT apparatus used for the current study.\n\t\nSelect the opened User script. Ensure that the habituation variable on line 7 is set to 'true'. Write a number in minutes (e.g. '30' for 30 min) on line 8 to set a time limit for the habituation. On line 9, write a number between 0.01 and 1 (full brightness) to choose a brightness level for the stimulus light.\n\t\tNOTE: The brightness level used in this project is set to 0.2.\nConduct the behavioral experiment (step 5).\nPrepare the toolbox for the experiment session.\n\t\nSelect the opened User script. Ensure that the variable on line 7 is defined as 'false'.\nOn line 12, type in the directory path where the experiment data will be automatically saved (e.g., 'C:\\Users\\trainer\\Desktop\\5CSRTT'). Ensure that a directory with this exact name exists.\nType in the subject identification on line 13 (e.g. 'red1').\nEnsure that the variable on line 14 is defined as 'true', so that the data generated is automatically saved in the directory path.\nEnsure that the variable on line 15 is defined as 'true' and type in a number on lines 16 and 17 to set a trial and time limit (in min), respectively, after which the program will automatically stop.\nConfigure the parameters for a standard 5-CSRTT paradigm.\n\t\t\nCheck whether the variable on line 32 is set to 'true' for a free pellet delivery before the first trial. Define the variable on line 33 as 'true' to ensure a magazine entry before each trial starts. Check whether the variable on line 34 is set as 'defined' and type in a number on line 35 to specify the length of the ITI in seconds.",
    "Ensure that the variable defined on line 37 is set to 'true' so that trials with premature answers won't influence the trial limit of the session. Type a numerical value on line 38 that will define the limited hold (LH) length in seconds.\nEnsure that the variable on line 39 is set to 'none' and the variable on line 40 is defined as 'false'. Type a number on line 41 to define the TO length in seconds and ensure that the variable on line 42 is set to 'false'.\nType in a numerical value on line 45 that corresponds to the number of apertures that can be illuminated (e.g., '5'). Ensure that the variable on line 46 is defined as 'pseudorandom' or 'random' and type in a number on line 47, setting the StD length in seconds. Check whether the variable on line 48 is defined as 'single' and the numerical value on line 49 is '1'. On line 50, type in a number to define the brightness of the target stimulus.\nCheck whether the variables on lines 64 and 65 are defined as 'binary' and 'non-dependent', respectively. Type a numerical value on line 71 corresponding to the number of food pellets to be released following a correct nose-poke.\nConduct the behavioral experiment (step 5).\nConfigure the parameters for a non-standard 5-CSRTT paradigm.\n\t\tNOTE: All the steps described in this subchapter are optional.",
    "If an automatic performance check is desired for using the automated staircase training procedure, ensure that the variable on line 18 is defined as 'true' and type in a numerical value on line 20 defining the frequency of the performance check. Type a number on line 21 to define the minimum number of trials to be completed during the current session before calculating the subject's performance. Ensure that the variable on line 21 is defined as 'all' so all trials of the current session are included in the performance check.\nEnsure that the variable on line 22 is set to 'true' so that the program will update the parameters of the current session to match a previously completed session. On line 23, type in 'latest' to establish that the last session will be uploaded.\n\t\t\tNOTE: The program will update the parameters based on specifications in the \"Staircase\" function, jumping to the previously completed level. A specific dataset to be uploaded can also be chosen by typing in the exact path to the data file with \".mat\" ending.\nIf the automated behavioral training is desired, ensure that the variable on line 26 is set to 'true'. Type in a numerical value on lines 27 and 28 to define the training level to start with and the total number of levels available, respectively. If a division of cohorts is desirable, type in a name (e.g., 'group1') on line 29 that specifies the group.\n\t\t\tNOTE: Each group can use its own set of training levels and criteria for level updates. The parameters for each group are defined in the \"Staircase\" function (step 4.2.8.).",
    "On line 34, type in 'random' if a randomized ITI duration is desired. Type in a numerical interval (e.g., '[0,2]') to define the interval containing a randomized number that will be added to the fixed ITI duration.\nTo ensure that trials with premature responses influence the session's trial limit, type in 'false' on line 37.\nTo define a time window during which additional nose-pokes will be counted as perseverative answers, type in a numerical value on line 39. Type in 'true' on line 40 so that premature answers evoke a timeout.\nTo define different groupings of the target apertures, type in 'neighbour', 'shifted' or 'all' on line 48. Type in a numerical value on line 49, defining the total number of target apertures. If dimmed stimuli are desired, type in a numerical value on lines 51 and 52, defining the total number of dimmed apertures and its brightness, respectively.\nIf the emission of a short tone (Tone C4, 262 Hz (Scientific Pitch Notation)) before stimulus presentation is desired, ensure that the variable on line 55 is set to 'true'. Type in numerical values on lines 56, 57, and 58 to define the time window (in milliseconds) between the speaker's tone and stimulus presentation, the tone's duration (in milliseconds), and the tone's volume (numbers between 0 (no tone) and 1 (full volume) are allowed).\nIf the emission of a short tone (Tone C6, 1047 Hz) after a successful nose-poke is desired, ensure that the variable on line 59 is set to 'true'. Type in a numerical value on lines 60 and 61 that define the tone's duration (in milliseconds) and the tone's volume (numbers between 0 (no tone) and 1 (full volume) are allowed).",
    "If responses in dimmed lit apertures are to be rewarded, ensure that the variable on line 64 is set to 'non-binary'. Type a numerical value on line 73 to define the number of food pellets delivered for nose-pokes in dimmed lit apertures.\nIf using more than one pellet dispenser, type in the corresponding motor number on lines 70 and 72 for nose-pokes in target apertures and dimmed lit apertures.\n\t\t\tNOTE: The motor number can be either 1 or 2. The corresponding motor shield's screw terminals M3 and M4 are defined in the script for hardware control.\nIf grading the reward based on reaction time is desired, ensure that the variable on line 65 is set to 'dependent'.\n\t\t\t\nDefine the dependence of nose-pokes in target apertures by typing in numerical values on line 67 that will divide the reaction time (in seconds), motor number, and the number of food pellets to be delivered into different categories, such that a specific reaction time interval corresponds to a chosen motor number and number of pellets.\nType in numbers on line 68 to define different categories for reaction time (in seconds), motor number, and number of food pellets to be delivered for nose-pokes in dimmed lit apertures.\nConfigure the Staircase function by following the steps below.\n\t\tNOTE: This step is optional.\n\t\t\nSelect the opened Staircase function. On line 4, type the name of the first group (e.g. 'group1'). If applicable, type the name of the second group (e.g. 'group2') on line 77.\nTo change the parameters for the second training level for the first group, type one of the parameters calculated in the performance check on line 17 (e.g., PerformanceCheck.NumCorrect >= 30 if the criteria are answering 30 nose-pokes correctly).",
    "NOTE: Do not change the parameter \"Config_trigger == 2\" when using the automatic loading of the previous session (step 4.2.7.2.).\nOn line 19, type a variable that you wish to update and a numerical value if applicable (e.g., 'Config.LED.StimDuration = 30' to set the StD length to 30 s).\n\t\t\tNOTE: The number of parameters to be changed and their new value can be freely chosen. The only requirement is that the parameter to be updated needs to be typed in after the variable 'UpdateTrigger = 1' in each level that the update is desired.\nConfigure the \"DataProc\" function.\n\t\t\nSelect the opened DataProc function. If a graph with the session's overview needs to be plotted and saved automatically, type in the commands for the desired plot from line 83 onward.\n\t\t\t​NOTE: The current commands on line 83 onward plot an overview of the session's outcome and some necessary control measures such as the total number of premature answers or the number of food panel pushes during an ITI.\n5. Behavioral experiment\nTransport the rat cage from the vivarium to the experimental room at least 30 min before the habituation or experiment session to familiarise the animals to the testing room.\nFor the habituation session, prepare the operant chamber by placing two reward food pellets in each of the apertures and five food pellets in the magazine door. Configure the parameters for the session by following steps 2-4.1.\n\tNOTE: The operant chamber used for this protocol was a modified Skinner PVC box with dimensions 30 x 30 x 45 cm.\n\tNOTE: For the first habituation stage, tape the magazine flap door to remain open. For the second habituation stage, remove the tape on the magazine flap door.",
    "Select the opened User script. Ensure that the 'COM' description on line 75 matches the chosen available port in step 2.2. If it doesn't match, change the numerical value in the experiment control script (e.g., from 'COM3' to 'COM4').\nGently place the rats in the chamber.\nIn the opened User script, click on the EDITOR toolbar tab on the top half of the screen, and then click on the green play button Run. Check whether the program is running correctly by reading the \"Command Window\" information.\nTo stop the experiment at any time, press the escape key ESC on the computer's keyboard. Wait for a message to appear on the Command Window display. Type in \"y\" and press the Enter key on the computer's keyboard to stop the current session and save the acquired data.\nWhen the habituation or session time or trial limit is reached (step 4.1.1 or 4.2.5, respectively), check the message that appears on the Command Window display. Type in \"y\" and press the Enter key on the computer's keyboard to stop the current session.\n\tNOTE: The message will only be shown at the beginning of a new trial and will stop the ongoing session until an answer is typed in (\"y\" to stop the session or \"n\" to continue the experiment).\nIn the case of a habituation session, check whether the rat consumed all the food pellets. Repeat the habituation stage until all the pellets are consumed before advancing to the next habituation stage or, after the second stage, start the 5-CSRTT training.\nAfter the session, clean the walls and floor of the operant chamber, e.g., with a 70% ethanol solution and paper towel. Before introducing the next rat, wait for 2-3 min until the ethanol smell dissipates.",
    "When the experiment day is over, unplug the microcontroller USB from the computer. Optionally, close both scripts for hardware and experiment control."
  ],
  "subjectAreas": [
    "Behavior"
  ],
  "bigAreas": [
    "Ecology & Environmental Biology"
  ]
}