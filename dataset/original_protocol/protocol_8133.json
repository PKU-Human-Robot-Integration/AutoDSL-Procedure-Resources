{
  "id": 8544,
  "origin_website": "Jove",
  "title": "Using Neuron Spiking Activity to Trigger Closed-Loop Stimuli in Neurophysiological Experiments",
  "procedures": [
    "All procedures described here were performed under an Animal Research Protocol approved by the University of Lethbridge Animal Welfare Committee.\n1. Surgery\nNOTE: The surgery procedures used to implant probes for neurophysiological recordings have been presented in other publications24,25,26. The exact details of the surgery for closed-loop stimulation depend on the type of recording probes used and the brain areas targeted. In most cases, however, a typical surgery will consist of the following steps.\nBring to the surgery room a cage with a rat to be implanted with a silicone probe or electrode array to record neuronal activity.\nAnesthetize the rodent with 2-2.5% isoflurane and fix the head in a stereotaxic frame. Ensure that the animal is unconscious during surgery by observing any motoric reaction to mild tactile stimuli25.\nApply an eye ointment to minimize dryness during the surgery.\nShave the surgical area and disinfect the skin with 2% chlorhexidine solution and 70% isopropyl alcohol.\nInject lidocaine (5 mg/kg) under the scalp over the brain area where electrodes will be implanted.\nMake an incision of the scalp over the area of future implant, and use a scalpel and cotton swab to clear the periosteum from the exposed skull25.\nDrill 4-8 holes in the skull for implantation of anchor screws (~0.5 mm) as structural support for the implant25. Attach the screws to the skull by inserting them in the holes and ensure that they are held firmly in place.\nDrill the craniotomy at the specified coordinates, and inset the microdrive/probe implant.\n\tNOTE: The described protocol for closed-loop stimulation will work for any brain region in which the electrodes are inserted.",
    "Fix the microdrive/probe and any required electrical interface connector to the skull using dental acrylic. The amount of dental acrylic should be enough to firmly attach the implant, but it should not come in contact with the surrounding soft tissue25.\nAfter surgery, closely monitor the animal until it has regained sufficient consciousness to maintain sternal recumbency25. For the subsequent 3 days, administer subcutaneously an analgesic (e.g. Metacam, 1 mg/kg), and an antibiotic to prevent infection (e.g. enrofloxacin, 10 mg/kg).\n\tNOTE: Animals are typically left to recover from surgery for one week prior to any testing or recording.\n2. Software installation\nNOTE: This was tested on Windows 10, 64 bit version.\nInstall data acquisition and processing software.\n\t\nInstall the data acquisition system Cheetah 6.4 (https://neuralynx.com/software/category/sw-acquisition-control), which includes libraries to interact with the Cheetah Acquisition System.\nInstall SpikeSort3D (https://neuralynx.com/software/spikesort-3d) or any other software that uses KlustaKwik27 for spike sorting. The online detection software uses the cluster definitions from the KlustaKwik engine. This software may run on the same computer, or it may run on separate computers that are on the same network.\nInstall the NetComDevelopmentPackage (https://github.com/leomol/cheetah-interface/blob/master/NetComDevelopmentPackage_v3.1.0), which can be also downloaded from https://neuralynx.com/software/netcom-development-package.\nInstall Matlab (https://www.mathworks.com/downloads/; code was tested on Matlab version R2018a). Make sure that Matlab is enabled in the Windows firewall. Normally a pop-up will come up during the first connection.\n\t\nLog in to a Matlab account. Choose the licence. Choose the version. Choose the operating system.\nDownload the following library for online event triggering from: https://github.com/leomol/cheetah-interface and extract files to the computer’s ‘Documents/Matlab’ folder. A copy of the code is provided in the accompanying Supplemental Materials.\n3. Initial data acquisition\nStart data acquisition using Cheetah software.\nRecord a few minutes of spiking data to populate template waveforms.\nStop the data acquisition and perform spike sorting on the recorded data.",
    "Open SpikeSort3D, click File | Menu | Load Spike File, and select a spike file from the folder with recorded data.\nClick Cluster Menu and then Autocluster using KlustaKwik, leaving the default settings and click Run.\n4. Closed-loop experiment\nResume data acquisition in Cheetah.\nOpen Matlab.\n\t\nOpen ClosedLoop.m and click on Run. Alternatively, in the Matlab command window, execute ClosedLoop(). Ensure that ClosedLoop.m is on the Matlab path. If the user wants to employ a custom function to call on every trigger, execute ClosedLoop(‘-callback’, customFunction) instead, where customFunction is a handle to that function.\nLoad the spike information defined on the initial recording by clicking on Load, browsing to the recording folder, and selecting one of the spiking data files (.ntt, .nse).\nSelect one or multiple neurons that will trigger stimulation by clicking the checkbox under the plotted waveforms.\nDefine the minimum number of neurons that will trigger stimulation by typing an integer in the “min matches” text box; and define the time window in which spikes matching different waveforms are considered co-active by typing a number in the “window” text box.\nClick Send to start. This will begin online triggering of events (tones as default) based on spiking activity of selected neurons.\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Neuroscience"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research"
  ]
}