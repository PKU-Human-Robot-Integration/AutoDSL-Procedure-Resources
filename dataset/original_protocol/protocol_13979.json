{
  "id": 17805,
  "origin_website": "Jove",
  "title": "Multicolor 3D Printing of Complex Intracranial Tumors in Neurosurgery",
  "procedures": [
    "The protocol was approved by the responsible local ethics committee (Ethikkommission der Landesärztekammer Rheinland-Pfalz, Deutschhausplatz 3, 55116 Mainz, Germany). All institutional guidelines for the care and use of patient data were followed.\n1. Segmentation of medical imaging data and creation of a virtual 3D model\nNOTE: The software we used for segmentation was Amira 5.4.5. The segmentation process can also be accomplished by using open source software (e.g., 3D Slicer, https://www.slicer.org/[href=https://www.slicer.org/])\nUse imaging data with high spatial resolution (e.g., a slice thickness of 1 mm or less). Here, a cranial CT dataset with a slice thickness of 0.5 mm and additional MRI data with a slice thickness of 1 mm were used. Use CT data for the segmentation of bone, contrast enhanced T1 MRI images for the segmentation of tumor and neural structures, as well as time-of-flight (TOF) images for vessels.\nDownload the DICOM files on the computer and open the segmentation software. Import the files of the different imaging modalities and select the folder with the imaging data.\nClick on the CT images and connect them with a volume rendering module (Volren). Choose Specular for a more realistic rendering and adjust the color transfer slider to visualize bone only. Continue by importing the MRI sequences and connect them to a volume rendering module as well.\nRegistration\n\t\nBecause the MRI and CT images do not overlap, it is necessary to fuse the different imaging data. Therefore, right click on the MRI dataset and choose Compute > Affine Registration. Choose Reference by clicking on the white square of the module, then drag the cursor onto the CT.",
    "In the Registration Module's properties leave all settings on default and click on Align Centers, followed by clicking Register. The two different imaging datasets are now fused. Repeat this step for all further imaging datasets.\nVerification of matching accuracy:\n\t\nCheck the matching accuracy by hiding the volume renderings (click on the orange square of the module) and adding an OrthoSlice module to the MR images. Click on the white triangle and choose Colorwash. Next click on the white square, choose Data and connect this port with the CT data by dragging the mouse onto it.\nAdjust the color slider to visualize the neural structures superimposed to the bony skull structures. Check for any misalignments by toggling the weight factor slider while looking at the border between the skull and brain surfaces as well as the ventricles. Repeat this procedure on different slices in coronal and sagittal directions.\nVolumetric editing\n\t\nDeactivate the OrthoSlice module's visibility and reactivate volume rendering of the CT. Go to the CT data and look for the lowest value in the dataset, in this case -2,048.\nNext add a Volume Edit module, connect the Volren module with the output data, and set the Padding Value to -2,048.\nClick on Cut Inside and mark the region to be removed in the 3D viewport.\n\t\tNOTE: It is important to avoid overlapping with parts not intended to be removed.\nIn this example, parts of the mandible bone and the upper cervical vertebrae were removed.\nSegmentation of bone\n\t\nNext, the remaining bone must be segmented and converted into a surface mesh. To do so, click on the Segmentation Editor, choose the modified CT image sequence, and add a new Labelset by clicking on New.",
    "Now choose Threshold as a segmentation option. Set the lower slider to a value of ~250 in case of a CT. Ensure that thin bone structures such as the temporal bone or the upper orbital region are selected in the preview. Otherwise, adjust the lower threshold but avoid selecting any soft tissue.\nNext click on Select and finally add the selection to the labelset (by clicking on the red plus icon).\nReturn to the Pool View. A new labelset has been created for the CT. Right click and choose Compute > Surface Gen, check the Compactify option, and click Apply.\nFinally, add a SurfaceView module and adjust the color of the generated mesh.\nSegmentation of other structures\n\t\nAdd other relevant structures by repeating the previous steps. In case of the tumor, manual segmentation was used rather than a thresholding operation.\nTo perform manual segmentation, go to the Segmentation Editor, and choose the manual segmentation option (brush icon) to mark structures such as the tumor in every slice. Finally add the selection again by clicking onto the plus icon. Thus, the tumor, the optic nerve, and the intracranial vessels will be segmented and added to the model.\nExporting meshes\n\t\nFinally export the generated meshes in the STL format by right clicking on the mesh and clicking on Save. Choose binary STL as the file format.\n2. Preparation of the virtual 3D model for multicolor printing\nNOTE: The software used for print preparation in this protocol is Netfabb Premium 2019.0. Autodesk offers free use of this software in its educational program.\nImport data and perform automatic repair.\nOpen the print preparation program and import the meshes generated in the previous steps as new parts. Check Automatic Repair and click Import.\nDeleting small loose parts",
    "Select the skull and split its shells into parts by clicking on Modify > Split Shells into Parts. This separates any loose objects not connected to the skull bone.\nSelect the skull bone and toggle its visibility off.\nNow select all other parts and delete them.\nToggle the skull's visibility on again.\nRepeat this step for all other objects.\nRemove overlapping regions.\n\tNOTE: In some regions, such as the tumor inside the petrous apex of the skull, the geometries of both objects intersect each other. To avoid printing errors, it is necessary to remove such intersections.\n\t\nSelect the two intersecting objects and click on Boolean Operations.\nMove the object to be subtracted from the other one to the red side of the list and click on Apply. Now the two objects are clearly separated. This should be checked by toggling their visibility.\nRepeat these steps to allow the tumor as well as the artery inside the tumor to become clearly separated from each other.\nAdd supporting structures where needed.\n\t\nIn case of the basilar artery, additional supports are needed to prevent the object from being a loose part after printing.\nAdd a new object, in this case a cylinder (File > Part Library), and adjust its dimensions and subdivisions as needed.\nPlace the cylinder to completely intersect with the skull and the vessel geometry.\nNow perform the Boolean operation again to subtract the parts within the bone and the blood vessel.\nRepeat this step to add more supports where needed (e.g., the optic nerve).\n3. Preparation for volumetric coloring of selected parts\nNOTE: To allow volumetric coloring of certain parts it is necessary to generate not only one surface shell but many subshells (additional surfaces) inside the object.",
    "Select the tumor, in this case, and generate a new shell from it (right click > Modify > Generate Shell).\nSet a shell thickness of 0.3 mm in the Inner Offset Mode with an accuracy of 0.15 mm and Apply. Select the Keep Original Part checkbox. This generates an inner shell with a distance of 0.3 mm to the original surface.\nSelect the outside surface of both shells and generate a new shell from it. Select a shell thickness of 0.25 mm in Hollow Mode with an accuracy of 0.15 mm. Also select the Remove Original Part checkbox. This generates a space of 0.05 mm between the two adjacent shells.\nRepeat steps 3.1–3.3 so that multiple inner shells with constant thicknesses and invariant offsets are created.\n\tNOTE: It is recommended to use a shell thickness of 0.35–0.25 mm as well as an offset of 0.1–0.05 mm to achieve smooth volumetric coloring.\nRepeat steps 3.1–3.4 with all other objects, such as the blood vessels.\n4. Coloring and exporting of the 3D model\nNOTE: The coloring of all parts of the model, including the distinct nested shells, is done using the Netfabb software.\nSelect a part to be colored in the Parts Menu on the left side. Double click the Texture and Color Mesh icon. Choose a color by clicking the color bar on the right side. In the top menu left click on the Paint on Shells icon. Subsequently left click on the model displayed in the screen center. Finally left click on the Apply Changes box in the lower right corner. Be sure to confirm the Remove Old Part selection.\nRepeat these steps with all other objects and shells, respectively.",
    "Export all objects. Select all objects to be printed, including supports and inner shells, and export them as individual files. Be sure to choose the VRML (WRL) format, because the STL format is not able to transport the color information.\n5. Printing and post processing of the 3D model\nSet up the 3D printer\n\tNOTE: The 3DPrint Software (Version 1.03) was used to control the ZPrinter 450 binder jetting machine.\n\t\nOpen the software and import the colored VRML files by clicking on Open and choosing all relevant data. Click on the Open button in the lower right window corner. In the subsequent window choose millimeters as units. Make sure to check the Keep Position and Orientation as well as the Apply Settings to All Files boxes. Finally choose Z151 as the material type. Click on the Next button.\nFor positioning the 3D objects inside of the build volume, mark all objects by pressing the <STRG>+A key.\n\t\t\nIn the upper left window, representing the XY view of the build volume, click and drag the marked objects to the center. In the lower left window, representing the XZ view of the build volume, click and drag the objects in the middle of the lower part above the yellow line.\nIf a whole skull model is printed, be sure that the opening is facing upwards. If isolated small models are printed, be sure to align delicate parts such as vessels with the XY plane, because this orientation will increase the strength of the respective parts.\nCheck the correct orientation of the models by clicking and moving them in the window on the right-hand side.",
    "To prepare for the build process, click on the Setup icon in the upper menu. Make sure that the correct Material Type is selected and that the Layer Thickness is set to 0.1 mm. The Bleed Compensation should be checked and the Print in Monochrome option unchecked.\nTo start the printing process, click on the Build icon in the upper menu. In the subsequent window choose Entire Build and click the OK button. Be sure that in the following Printer Status dialogue all listed items are set correctly and that the printer is online. Then, click on the Print button in the lower part of the dialogue box.\nPost processing of the model\n\tNOTE: Always wear a laboratory coat, gloves, eye protection, and a mask while handling the loose powder and the hardening solution. Always work in a well-ventilated area.\n\t\nUnpacking\n\t\t\nAfter the print is finished, unpack the model by carefully removing the loose powder with the integrated vacuum cleaner. It is important not to directly contact the model with the suction tube to prevent thin structures from breaking apart.\nRemove the model and clean it by applying pressurized air as well as cleaning it with a soft brush. Thicker, more stable, parts of the model can additionally be ground with a harder brush. This optional step allows for a smoother surface finish. Keep in mind that in this state the model is still very fragile.\nInfiltration\n\t\t\nPut the model inside a plastic tub.\nInfiltrate it carefully with the hardening solution until no whitish areas are visible.\nThe surplus solution has to be removed with pressurized air and disposable paper towels to maintain all the surface details.\nLet the model cure for several hours until it is completely dry."
  ],
  "subjectAreas": [
    "Medicine"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research"
  ]
}