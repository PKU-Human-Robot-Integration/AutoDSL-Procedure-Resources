{
  "id": 8938,
  "origin_website": "Jove",
  "title": "Application of Automated Image-guided Patch Clamp for the Study of Neurons in Brain Slices",
  "procedures": [
    "1. System Setup\nConstruct the pressure control unit.\n\t\nAssemble the pressure control unit according to the circuit map (Figure 1). Solder the necessary parts onto the Printed Circuit Board (PCB) manufactured according to the electrical circuit schematics (Figure 1b). Use standard resistors, LEDs, Metal-Oxide Semiconductor Field-Eeffect Transistors (MOSFETs), capacitors, and connectors (see the Table of Materials). Solder solenoid valves onto the PCB. Connect the air pump and air pressure sensor to the PCB with electrical wire.\n\t\tNOTE: It should take about 2 h to construct the pressure control unit with all necessary parts made available.\nConnect the secondary data acquisition (DAQ) board.\n\t\nConnect data outputs from the printed circuit board to the DAQ board, following Table 1.\n\t\tNOTE: The DAQ board will be running in \"Single-ended mode.\" The port map can be found in the user manual (see the Table of Materials).\nConnect \"AIn Pr S\" to one of the analog input (AI) channels and \"R-Gr\" to one of the analog grounds on the secondary DAQ board.\nConnect the primary output from the amplifier to one of the AI channels and the ground to the analog ground of the secondary DAQ board.\n\t\tNOTE: A standard BNC cable can be used to connect the primary output from the amplifier.\nStrip the other end and connect the positive signal (i.e. copper core) to the AI channel and the ground (i.e. the thin wire around the core) to the analog ground. Repeat this step for a second channel if more than one patch channel is used.\n\t\tNOTE: The analog input to the DAQ board will be configured in later steps.\nConnect power to the power output of the secondary DAQ board. Use a separate 12 V power source for the pump.\nConnect the tubing.",
    "Connect the air pump and the two valves according to Table 2. Use a 3-way connector to connect the soft tubing from the valve 2 top port, the pressure sensor, and the pipette holder in the last step.\nAdd another 3-way connector to the tubing connected to the pipette holder if two pipettes are used. Manually switch between the valves and the pipettes in use when patching.\nInstall Autopatcher IG.\n\tNOTE: System requirement: Autopatcher IG was only tested on a PC running Windows 7. It has not been validated for other operating systems. The described procedure applies specifically to the hardware listed in the Table of Materials.\n\t\nDownload Autopatcher-IG from GitHub (https://github.com/chubykin/AutoPatcher_IG).\nInstall Python (see the Table of Materials for the version and download address).\nUninstall the PyQt4 library by typing \"pip uninstall PyQt4\" in a command line terminal.\n\t\tNOTE: The system uses an older version of the PyQt4 library to achieve compatibility with the Qwt and Opencv libraries.\nInstall Python libraries from historic wheel files (http://www.lfd.uci.edu/~gohlke/pythonlibs/). Find the following files: Numpy (pymc-2.3.6-cp27-cp27m-win32.whl), Opencv (opencv_python-2.4.13.2-cp27-cp27m-win32.whl), Pyqt (PyQt4-4.11.4-cp27-none-win32.whl), and Qwt (PyQwt-5.2.1-cp27-none-win32.whl).\n\t\t\nTo install the wheel files, go to the directory where the files are saved and type \"pip install ***wheelfilename***.whl.\" Substitute \"***wheelfilename***\" with the actual name of the file.\n\t\t\tNOTE: \"cp27\" in the wheel file name indicates Python 2.7 and \"win32\" indicated Windows 32-bit. If \"win32\" does not work, try \"win64.\"\nTo control the CCD camera, download and install the installer for 64-bit (https://www.qimaging.com/support/software/). Then download MicroManager for 64-bit (https://micro-manager.org/wiki/Download_Micro-Manager_Latest_Release) to control the camera in Python.\nTo control the manipulators and the microscope stage, install control software provided by the manufacturer.\n\t\tNOTE: By doing this, the driver necessary to control the manipulators is also installed. The installation package is commonly provided in a CD-ROM.",
    "To control the secondary DAQ board, install the Universal Library from CD-ROM, provided with the purchase of the DAQ board.\nConfigure the hardware for Autopatcher IG.\n\t\nConnect the microscope stage and manipulator controllers to the computer via USB ports.\nAssign COM port numbers to unit 0: microscope stage, unit 1: left manipulator, and unit 2: right manipulator, in this order, in the \"ports.csv\" configuration file in the \"configuration\" folder. Leave the other parameters in the ports.csv file (i.e. \"SCI\" and \"1\") unchanged.\n\t\tNOTE: The COM port number information can be found by running the manipulator configuration software provided by the manufacturer. Go to the \"settings\" tab, select \"settings\" and the \"Motion\" page, and read the labels for each tab at the top. Alternatively, this information can be found in the PC Device Manager.\nAssign analog input channel numbers on the DAQ board for a pressure sensor and patch channel 1 and 2 (corresponding to unit 1 and 2). Enter the channel number in the \"DAQchannels.csv\" file in the \"configuration\" folder.\n\t\tNOTE: It is recommended to open the .csv files with the Notepad application instead of a spreadsheet, as it may alter the information when saving changes.\nRun Autopatcher IG.\n\t\nTurn on the amplifier, microscope controller, and manipulator controller. Ensure that the amplifier software is running.\nRun Autopatcher IG with Python from a command line terminal as follows: first, change the directory (command \"cd\" for most common terminals) where Autopatcher IG is installed, type \"python Autopatcher_IG.pyw\" in the command line terminal, and hit the \"Enter\" key.",
    "NOTE: Do not run the manipulator control software before running Autopatcher IG because it will occupy the microscope stage and manipulator, causing Autopatcher IG to be unable to find the hardware. Manipulator control software can be run after Autopatcher IG is fully initiated if there are additional modules to be controlled (e.g., the inline heater).\nCalibrate the primary pipette.\n\t\nPull patch pipettes as described previously9. Fill a pulled glass pipette with internal solution and load it onto the head stage.\n\t\tNOTE: Empty glass pipettes have different contrasts under the microscope and may lead to inaccurate calibration.\nMove the pipette tip to the microscope visual field and bring it into focus. If the dial pad is used to move the manipulators and/or microscope stage, update the coordinates by pressing \"z\" on the keyboard.\n\t\tNOTE: This action is not necessary if the keyboard (microscope stage: A/D - x-axis, W/S - y-axis, R/F - z-axis; manipulators: H/K - x-axis, U/J - y-axis, O/L - z-axis, 1/2 - unit number) is used to control movement because the coordinates will be updated in real time.\nClick the \"Start calibration\" button on the main Graphic User Interface (GUI) for the corresponding unit on which the pipette is loaded (Figure 2).\n\t\tNOTE: A pop-up window will appear when the calibration is finished.\n\t\tNOTE: Calibration will be carried out automatically, which will take about 3.5 min. Clicking on the same button (switched now to \"cancel calibration\" after initiating calibration) will abort the calibration attempt.\nSave the calibration by clicking \"save calibration\" at the bottom of the main GUI (it saves the current calibration for both manipulators and can be loaded in the future).",
    "NOTE: The field of view under low (4 or 10X) and high (40X) magnification must be aligned for secondary calibration to function properly. Please refer to the user manual of the optical system in use for the alignment procedures.\n2. Automatic Patch Clamp Procedure\nPrepare acute brain slices, as described previously10.\nPrepare glass pipettes for the patch clamp.\nPlace one brain slice in the center of the recording chamber. Stabilize the slice with a slice hold-down, or \"harp.\"\nDetect the fluorescent cell.\n\t\nFind the area of interest under the 4X lens. Move the microscope stage by turning on click-to-move (\"CTM\") mode and click the center of the area of interest. Alternatively, use the keypad to move the microscope stage (A/D - x-axis, W/S - y-axis, R/F - z-axis).\nSwitch to the high-magnification lens and adjust the focus by moving the microscope in the z-axis, using R/F on the keypad.\n\t\tNOTE: It is recommended to adjust the water bath level so that the focal plane under the low- and high-magnification lenses are the same or similar in the z-axis.\nClick the \"Detect Cell\" button on the main GUI column, \"Unit 0.\" If the LED or laser light source of the setup cannot be controlled by the TTL signal, manually turn on the LED/laser; a pop-up window will appear when the cell detection is finished.\n\t\t\nTurn off the LED/laser if necessary; a list of cell coordinates will appear in the \"Memory positions\" GUI. Remove undesired cells from the list by clicking the \"X\" button next to the coordinates.",
    "Alternatively, if target cells are not fluorescently labeled, click \"Mouse mode\" on the main GUI. Click on the cell of interest; a yellow dot with a number will appear on the cell, and the coordinates of the cell will appear in the \"Memory positions\" GUI.\nCalibrate the secondary pipette.\n\t\nFill 1/3 of a glass pipette with internal solution. Load the pipette onto the pipette holder attached to the head stage.\nUse the low-magnification lens. Bring the pipette into the visual field and adjust the focus using the keypad (H/K - x-axis, U/J - y-axis, O/L - z-axis). Use \"1\" and \"2\" to switch between unit 1 and unit 2.\nLoad the primary calibration by clicking on \"Load calibration.\" Click the \"Secondary calibration\" button on the main GUI under the unit that is in use. For example, if unit 2 is in use, click the \"Secondary calibration\" button in the \"Unit 2\" column. Follow the pop-up window instructions to switch to the high-magnification lens.\nPatch a target cell.\n\t\nMake sure that the \"MultiClamp\" (i.e. amplifier) software is running. Click on the \"Patch control\" button to open the \"Patch control\" GUI; it may take up to a few min to open this GUI.\nUse the 40X magnification lens by checking \"40X\" on the main GUI \"Unit 0\" column. Click the \"go to\" button next to the cell of interest on the coordinate list in the \"Memory position\" GUI; the microscope will move to the cell.\nClick on the CTM button of the unit in use in the main GUI to enable movement following a mouse click. Click on the cell of interest; the pipette tip will move to the cell.\nClick on the \"Patch\" button on the \"Patch control\" GUI.",
    "NOTE: Automatic patching will begin, and the pressure and resistance can be monitored on the \"Patch control\" GUI.\n\t\t\nUse the \"Unit 1 selected\" button to switch the input signal between the two units.\n\t\t\tNOTE: The system will approach the target cell, apply negative pressure, match the cell membrane potential, and detect gigaseal formation based on a series of pressure and resistance thresholds and logic.\nManipulate the automatic process at any point by clicking on the respective buttons on the \"Patch control\" GUI. For example, click on the \"Patch\" button again to cancel the patch trial and click on \"Next stage\" to advance the patching process to the next step, regardless of the threshold.\n\t\t\tNOTE: A pop-up window will notify the user when a gigaseal has formed, and the option to apply zap along with large negative pressure will be presented.\nSelect \"Yes\" to break in with combined zap and suction. Alternatively, select \"No\" to break in with suction only.\n\t\tNOTE: When a successful whole-cell patch is completed, a pop-up window will remind the user to save the experiment patch log.\nSave the experiment patch log.\n\t\tNOTE: If a patching trial is unsuccessful, a pop-up window will notify the user, and the patch process will reset.\nGo back to step 2.4 and repeat the steps with a different cell.\nRefine the patching thresholds (optional).\n\tNOTE: Thresholds for the initial pipette resistance range, positive and negative pressure, gigaseal resistance, etc. can be modified from a configuration file.\n\t\nOpen the \"PatchControlConfiguration.csv\" file in the \"Configuration\" folder at the destination where the system is installed. Change the numbers corresponding to each threshold value. Do not change the names of the values; this will result in unrecognizable entries in the system.",
    "Implement the new threshold values immediately by pressing \"Ctrl+L\" without restarting the program; restarting the program will implement the newest threshold value from the file.\n3. Performing Recordings\nNOTE: The mode in the computer-controlled microelectrode amplifier will be set automatically to Current Clamp (\"IC\") by the autopatcher software once a successful patch has been achieved. Whole-cell patch clamp recordings can be done using the recording software of choice (this system does not include a recording function). If multiple target cells were identified, after finishing a recording, go back to step 2.4 and try another cell.\nPerform automatic local drug application experiments using a picospritzer (optional).\n\tNOTE: Here, a local drug application experiment is used as an example to describe how to use the additional \"Command Sequence\" function to control external hardware through TTL signals.\n\t\nConnect port A channel 0 and the ground on the secondary DAQ board to the start trigger input on the digitizer using a stripped BNC cable (as described in step 1.2.3). Connect one digital output channel on the digitizer to the external trigger on the picospritzer.\nPrepare the picospritzer according to the user manual. Connect the picospritzer air output to the drug-puff pipette holder attached to a micromanipulator.\nLoad a pipette filled with a drug of choice. Attach it to the pipette holder. Calibrate the pipette, as described in step 1.7.\nAfter patching a cell as described in step 2.6, select a desired location for drug delivery by mouse-clicking in the camera view GUI under \"mouse mode\" (switched from the main GUI). Alternatively, use the \"Grid\" GUI to design a grid, with each pixel in the grid as one of the target locations.\n\t\tNOTE: The grid can be manipulated in the camera view GUI by dragging with the mouse.",
    "In the \"Command Sequence\" GUI, select the manipulator unit that the drug pipette is mounted on. Click \"load mouse points\" or \"load grid points\" to import all coordinates for drug delivery.\n\t\t\nClick on each coordinate entry to edit the specific command TTL signal in the right column. In the first command entry, click on the right-most digit to turn it from \"0\" to \"1,\" sending a +5-V TTL signal. Set the time (T) to the desired TTL signal duration, in ms.\nIn the second command entry, set all digits to \"0\" and set T to the duration of the recording length of the trial. Edit commands for all coordinate entries. Add command entries by clicking \"+\" if multiple TTL signals are necessary.\n\t\t\tNOTE: The 8-digit bits represent port A channels 0-7 on the secondary DAQ (ports 1 - 3 are occupied by the pump and two valves) can be switched, if necessary.\nCreate a recording protocol in the data acquisition module so that the start of a sweep is triggered by the external start trigger. Edit the protocol to deliver the drug at the desired time.\nIn the \"Command Sequence\" GUI, click \"Run\" on the left to run all coordinates. Alternatively, click \"Run\" on the right to run only the selected sequence.\n\t\tNOTE: The pipette will move to each coordinate and execute the TTL signal as defined to start the recording sweep.\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Neuroscience"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research"
  ]
}