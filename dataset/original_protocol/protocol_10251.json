{
  "id": 10662,
  "origin_website": "Jove",
  "title": "A Method to Estimate Cadaveric Femur Cortical Strains During Fracture Testing Using Digital Image Correlation",
  "procedures": [
    "All experiments were conducted with Institutional Review Board approval. The samples were obtained from anatomical research labs in collaboration.\n1. Preparing Specimens for Testing\nThaw the femora at RT for 24 h.\nWhen femur is in queue for testing, remove any wrap that was applied prior to freezing and wipe the femur with a dry towel to remove any remnant moisture, fatty deposits, or soft tissues. Pot the greater trochanter into a prefabricated aluminum cup with bone cement.\nUsing a box to contain the particles as much as possible, spray the bone with white plastic primer to achieve a thin, uniform coating. Take care to cover the bone with one uniform layer of paint for optimal contrast and strong adhesion to the femur surface.\n\tNOTE: The thickness was not measured.\nLet the paint dry for at least 5 min. This is important to avoid the unintended mixing with speckled droplets in Section 2.\nWrap the bone with wet cloth to avoid tissue dryness.\n2. Speckling Process\nApproximately, add 1 part of water to 2 parts of paint for best speckling on the bone. Add water gradually (for a better mixture) to the acrylic paint to make a black color.\nDip a clean toothbrush in a palette of black paint to absorb color and flick the brush to make black speckles over the white coating.\nLet the paint dry for 5 min before proceeding.\n3. Image Acquisition\nMount the prepared speckled femur in the mechanical test machine by inserting the potted distal end into the fixture and tighten two screws to secure the specimen.",
    "Adjust the two high intensity discharge light reflectors such that the femur surface achieves the highest illumination possible while avoiding reflections in the camera image. Proceed quickly with the following steps in Section 3 to avoid unwanted heating of the specimen from light radiation prior to the test.\nReduce the aperture of the front and back view high speed video camera lenses such that the entire region of interest of the femur in the field of view is in focus.\nReadjust the light reflectors to further improve illumination while reducing glare.\nSet the image acquisition software to capture at 6000 frames/sÂ at a resolution of 1024 x 512 pixels. Set the total number of frames to be acquired after the trigger signal is received to 12288. Arm high speed video software for image acquisition when the trigger signal is received from the test system. When the testing is complete, the video resides in the camera's buffer memory.\nUsing the image acquisition software, save the video to disk by specifying a desired path and file name and clicking \"Save\". Be prepared to wait between 5 - 40 min for this process to complete depending on the number of frames to be saved.\n4. Image Preparation\nCreate separate working directories for front and back views of the femur.\nUse video analysis software to open the appropriate high speed video recording and note the key frame reference numbers at 1) the start of load frame actuator movement, and 2) the frame immediately after the fracture event.\nTo downsample an uncompressed TIFF image sequence from the high speed video, open and run the \"mov_frames.m\" script in the working directory for the pertinent femur side.",
    "In the resulting dialog box, enter the ending frame number identified in Step 4.2 with a step size of 25 - 40. Click \"Extract Frames\" and inspect the working directory to ensure the *.tiff files were extracted correctly.\n5. Finite Element Mesh Creation\nUse an external finite element meshing program to create the finite element mesh. Calculate 2D strains from the differential displacement vectors with the finite element method. Import the initial extracted *.tiff image into the finite element software pre-processor as a template for spline creation.\nFind two easy to identify fiduciary points in the image that are at opposite corners of the frame and record their X and Y coordinates (these will eventually be used in Step 6.1). These coordinates are arbitrary based on the convention the FEA software uses to import the *.tiff image. The coordinates of these points will be used to register the nodes of the finite element mesh with the corresponding pixels of the video images in Step 6.2.\nIn an image editing software, open the same image that was imported into the finite element software preprocessor and record the X and Y direction values of the pixels associated with the points identified in step 5.2. These will eventually be used in Step 6.1.\nIn the \"Sketch\" module of the finite element meshing program, use the spline tool to outline a closed section representing the region of interest. Verify the region is not too large such that the surface of the bone would move outside the region prior to fracture due to rotation.\nPrepare the closed section created in Step 5.4 for meshing by seeding the edges with a global mesh size of 1 mm under the menu \"Seed Part Instance\".\nUnder \"Assign mesh controls\", set the element shape to quadrilateral.",
    "Mesh the closed section.\nExport the mesh to an ASCII file of the mesh database consisting of nodal coordinates and element definitions.\nWith the resulting finite element input file open in a text editor, copy the node block containing node numbers and coordinates into a new text file and save as \"nodes.txt\". Repeat for the element block and save the new text file as \"elements.txt\".\n6. Register the FE Mesh with the High Speed Video Images and Conduct Digital Image Correlation Analysis\nInside a new session, create 2-element row vectors called ab1 and ab2 with the values identified in Step 5.2., and px1 and px2 with the values identified in Steps 5.3 by typing those vector names on the command line. Save the Workspace as \"points.mat\".\nRun the script \"convert_imagesize.m\" to register the points from the finite element mesh with the extracted high speed video image.\nRun the script \"rrImageTrackGui.m\". Load the first image (\"p01.tif\") and enter the number of the last *.tiff file that was extracted as the total number of images to process.\nLoad the mesh created in Step 5.7 by making sure the mesh option is set to \"Read from file\" and click \"Accept\". The finite element mesh should appear over the bone image.\nSpecify the tracking values based on the following guidelines for Tracking parameters and click \"Proceed\" (keeping in mind that the parameter values are image size, texture and amount of deformation taking place, and need to be tested carefully on a case-by-case basis).\nUse a starting Kernel size of 21. The Kernel size, n, is the size of an n x n window (where n is an odd number) of pixels that is used for the cross-correlation and determination of the deformation vector for that area that will be used for strain calculations.",
    "Use a starting Subpixel size of 4. The Subpixel size, m, is the size of the (2m+1) x (2m+1) sub-window over which subpixel deformation is computed by assuming homogeneous strain in that sub-window.\nUse a starting Smoothness factor of 2. Smoothness factor is the amount of smoothing applied to the displacement field at tracked locations before computing strains.\nUse a starting maxMove factor of 10. maxMove factor is the maximum number of pixels that any node can be away from its trajectory relative to its neighbor's trajectory. This helps avoid badly tracking to deformation.\nUse a starting smoothGrid factor of 15. The smoothGrid factor is the size of the grid (slightly coarser than the mesh of the tracked nodes) that is used for the smoothing.\nSelect a guide point that has significant contrast around it while avoiding areas with any glare or blurriness. Check this point by clicking \"Check guide\" and verify the correlation peak is strong (at least twice the amplitude) compared to its neighbors. Click \"Accept\" and \"Perform Tracking\" when satisfied. This can be a lengthy computational process where differential displacement is computed for the temporal image sequence.\nAfter Step 6.6 has completed, click \"Animate\". When animate has finished, click \"Write strains (post processing software)\", enter *.exe, and then select writeStrainRR_simple.exe11. This will calculate the strains. Close the GUI.\n7. Post-processing of Displacement and Strain Data\nTo obtain strain Vs. frame number, run \"analyzeFailurePrecursor.m\" from the command line with an input argument of step size (choose 20 - 30). The peaks will signify bone damage, and the largest peak will correspond to the frame close to global bone failure.\nTo create movie files of the strains, run \"makeMovies.m\" from the command window with the arguments (numVars, endstep, flag).",
    "NOTE: The argument numVars is defined as 1 - 3 being displacements, 4 - 6 being xx, yy, and xy strain components, 7 & 8 are the two principal and von Mises strain, and 9 is the strain energy. The argument endstop is the last frame to be included in the movie.\n\t\nSet the optional argument flag to 1 to only create movies for the entity specified for the numVars argument and to 0 to create movies of all variables.\n8. Fine Tuning and Refinement of Results\nIf DIC tracking gave poor results such as a discontinuous strain field that falls outside continuum mechanics assumptions, determine what is happening and why the tracking is failing. Repeat Section 6 paying particular attention to the adjustment of tracking parameters. A secondary option may be to return to the finite element software and create a more uniform and possibly finer mesh.\nIf DIC tracking gave reasonable results, create a finer series of images for DIC. Using those key frame reference numbers from Step 4.2 and the corresponding frame rate of the video, identify the frame spacing for three different regimes of interest in the fracture test with the requirement in mind that the points should be moving no more than 6 pixels between frames.",
    "NOTE: For the initial segment of the test when the strains are building up slowly in the femur, the frame spacing will be relatively large (for example, for the 100 mm/s displacement rate, the frame spacing for this portion is 3333 Î¼s). For the intermediate portion of the test closer to the fracture frame, strain is increasing more rapidly and smaller frame spacing is needed (1667 Î¼s for the 100 mm/s displacement rate). For the final portion right before fracture, the frame spacing is at its smallest (16.7 Î¼s at the 100 mm/s displacement rate).\nOptional for documentation purposes only: Using the information from Step 8.2, create formatted data entries in an ASCII file entitled \"steps.txt\" containing a row of data for each frame spacing. The format of each row will be the starting frame of that regime separated by the number of frames to skip (based on Step 8.2) separated by a colon then the final frame of that regime (i.e.Â a format of \"1:20:200\" would instruct the extraction software to extract frame 1 to frame 200 in steps of 20).\nImmediately following that designation, insert a tab and designate the image extraction number range (for the \"1:20:200\" example, the complete row designation would be \"1:20:200 <Press TAB>1:11\" without the quotations). Repeat for the other two test regimes so there will be three rows of information in the \"steps.txt\" file. This file serves as a record for how the images were extracted from the original high speed video.",
    "Run the mov_Frames.m code again this time specifying multiple frame spacing regimes in the dialog box. Enter the frame numbers and step sizes identified in Step 8.2 to determine the start, finish, and frame skip parameters expected in the tool's dialog box. Make sure to do this in a new directory otherwise the original images will be overwritten.\nRepeat Sections 6 and 7 and review the results for improvement. Each femur may require different additional iterations depending on the nature of the fracture event, speckle pattern, and lighting. When repeating Step 6.5, keep the settings the same except reduce maxMove to 6 (from 10).\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Bioengineering"
  ],
  "bigAreas": [
    "Bioengineering & Technology"
  ]
}