{
  "id": 17862,
  "origin_website": "Jove",
  "title": "Precision Measurements and Parametric Models of Vertebral Endplates",
  "procedures": [
    "This study was approved by the health research ethics board of the authors’ institute. As cervical vertebral bones have more intricate shapes19, the protocol uses the cervical vertebrae as an illustration to facilitate relevant research.\n1. Preparation of materials, scanning, and image processing\nCollect a dry cervical vertebra without pathologic deformation or broken parts.\nPlace the vertebra vertically in the platform of the scanner (Figure 1, see Table of Materials), with the endplate facing the camera lens. Use the active light source of the scanner. Then, start the scanning process to obtain point cloud data (.ASC format).\n\tNOTE: According to the pre-scan images, adjust the scanner and position of the vertebra to capture as much surface morphology information as possible.\nOpen the software specially used for processing point clouds (see Table of Materials). Click Import to import the point cloud data and generate the digital graphic of the vertebra. Set the sample rate to 100%, select Keep Full Data On Sampling, select the unit of data as millimeters, and click Shade Points. Use the Lasso Selection Tool to select redundant points on the graphic, then click Delete to remove them. Click Reduce Noise and set the smoothness level to its maximum to reduce noise and spikes (Figure 2A,B).\n\tNOTE: There are basic software operation instructions at the bottom of the GUI (graphical user interface). Noise points with obvious sharp spurs laterally or vertically should be removed to reduce error.\nClick Wrap to package the imaging data into .stl format file to transform the point cloud into mesh, which will convert a point object into a polygon object.\n\tNOTE: Reverse engineering software usually accepts .stl-style 3D format.",
    "Open the software specially used for 3D reconstruction and data processing (see Table of Materials). Click File then New in the submenu. Select Part in the List of Types. Click Start, then Shape in the submenu, then Digitized Shape Editor. Click the Import icon in the toolbar at the right-hand side of the GUI. In the Import window, select the .stl format file, then click Apply > OK. Click Fit All in the icon in the toolbar at the bottom to load the reconstructed image to the main window of the presentation software.\n\tNOTE: Steps 1.5–2.3.3 are performed with the same software.\nClick Activate in the toolbar at the right-hand side. In the Activate window, select Trap Mode > Polygonal Type > Inside Trap. Then, select the vertebral endplate on the 3D image to remove unneeded vertebral components, such as the posterior elements and osteophytes (Figure 2C).\n2. Quantification of 3D morphology of the endplate\nDefining the endplate 3D coordinate system\n\t\nClick Start > Shape in the submenu, then Generative Shape Design. Click the Point icon in the toolbar at the right-hand side. Mark three anatomic landmarks on the epiphyseal rim: the first two are the left and right endpoints of the endplate trailing edge, respectively; the third is the anterior median point.\nClick the Line icon in the toolbar at the right-hand side and select the two trailing edge endpoints to define a posterior frontal line. Click the Plane icon, select the plane type to be normal to curve, then select the posterior frontal line and anterior median point to define the mid-sagittal plane.",
    "Click Start > Shape > Quick Surface Reconstruction. Click the Planar Section icon, enter 1 in the number option, then select the endplate image and mid-sagittal plane to generate an intersecting curve. Click Curve from the Scan icon and select the intersection of the intersecting curve and posterior epiphyseal rim. Define the intersection as the posterior median point.\nClick Start > Shape > Generative Shape Design. Click the Line icon and select the anterior median point and posterior median point to define a mid-sagittal diameter. Click the Point icon, then Points and Planes Repetition in the submenu. Then, select the mid-sagittal diameter and enter 1 in the Instance(s) option to define the midpoint of the mid-sagittal diameter.\nClick the Axis System icon in the toolbar at the bottom. Then, select the midpoint of the mid-sagittal diameter as the origin, the line parallel to the posterior frontal line as the x-axis, the mid-sagittal diameter as the y-axis, and the line pointing forward and perpendicular to the x-y plane as the z-axis (Figure 3).\n\t\tNOTE: The two trailing edge endpoints are chosen as reference points because they are consistent and show minimum variation in the presence of osteophytes10.\nFitting characteristic curves and points on the endplate surface (Figure 4A–D)\n\t\nClick the Point icon, then Points and Planes Repetition in the submenu. Select the mid-sagittal diameter and enter 3 in the Instance(s) option to divide the mid-sagittal diameter equally into four parts.\nClick Start > Shape > Quick Surface Reconstruction. Click the Planar Section icon, enter 1 in the Number option, then select the endplate image and x-z plane to generate an intersecting curve. Click Curve from the Scan icon and select the two intersections of the x-z plane and epiphyseal rim.",
    "Define the line between the two intersections as the mid-frontal diameter. In the same way, divide the mid-frontal diameter equally into four parts.\n\t\tNOTE: When the endplate is not symmetrical relative to the med-sagittal plane, choose one of the two endpoints of the mid-frontal curve that has a shorter vertical distance to the z-y plane. Then, define the mid-frontal diameter as 2x the length of the shorter, and divide it equally into four parts.\nClick the Measure Between icon in the toolbar at the bottom to measure the length of a quarter of the mid-sagittal diameter. Click the Planar Section icon, enter 2 in the Number option, enter the measured value in the Step option, then select the endplate image and x-z plane to generate two fitting curves on one side of the frontal part. Click Swap to generate two fitting curves on the other side. In the same way, obtain the other three fitting curves in the sagittal plane.\n\t\tNOTE: The two mid-frontal fitting curves overlap with the two mid-sagittal fitting curves.\nSelect 11 equidistant points in each curve for subsequent measurements. Specific method is as follows:\n\t\t\nTaking the mid-sagittal curve as an example, divide the mid-sagittal diameter equally into 10 parts, resulting in a sum of 11 points, including nine intermediate points and two endpoints (refer to steps 2.1.3 and 2.2.1).\nGo through each equidistant point, obtain nine fitting curves on the endplate surface (refer to step 2.2.2). Click Curve from the Scan icon and select the intersection of the fitting curves and the mid-sagittal curve. Finally, obtain a total of 66 points on each endplate (11 points per curve multiplied by six curves). Click the Measure Item icon in the toolbar at the bottom to measure the coordinates of each point.\nMeasurement of endplate morphological parameters",
    "Line parameter:\n\t\t\nClick the Measure Between icon to measure the length of line parameter that is the distance between two measured points.\nConcavity parameters:\n\t\t\nCreate a plane parallel to the x-y plane (Figure 5A): click Start > Shape > Generative Shape Design. Click the Sketch icon in the toolbar at the right-hand side, then click the x-y plane. Click the Circle icon, click Origin on the endplate surface, drag the cursor of the mouse to an appropriate distance, then click. Click the Exit Workbench icon, then the Fill icon, and then click.\nClick the Offset icon, select the filled plane, and enter an appropriate value in the offset option until it is tangent to the most concave part, and zoom in. Click Start > Shape > Quick Surface Reconstruction. Then, click the 3D curve icon to find and create the most concave point. Click the Measure Item icon to measure the coordinates of the most concave point (Figure 5B).\nClick the Measure Between icon, then select the most concave point and x-y plane to measure the whole endplate concavity depth. Similarly, find and create the most concave depth on a particular plane and measure its coordinates.\nClick the Projection icon in the toolbar at the right-hand side, then select the most concave point and x-y plane to obtain the projective point. Click the Measure Item icon to measure the coordinates of the projective point, and determine its distribution based on the coordinates.\nSurface area parameters:",
    "Click the Measure Inertia icon in the toolbar at the bottom and click endplate surface to measure its area. Click the Activate icon and select the central endplate along the inner margins of the epiphyseal ring (refer to step 1.6), then click the Measure Inertia icon to measure its area (Figure 5C). Click the Activate icon, then the central endplate, and finally the Swap icon in the Activate window to obtain an epiphyseal rim. Then, measure its area.\n3. Development of endplate surface mathematical model\nDetermining the fit order of the parametric equation\n\t\nOpen the data analysis and visualization software (see Table of Materials). Input x = [corresponding data] in the command window. Click Enter.\n\t\tNOTE: The “corresponding data” refers to x-coordinate data of the 11 characteristic points in one curve that has been measured in the previous steps. Click Enter after inputting each command, with the same applying to subsequent operations. Steps 3.1–5.5 are performed uniformly with the same software.\nIn the same way, input z = [corresponding data].\nInput the code for i=1:5 z2=polyfit(x,z,i); Z=polyval(z2,x); if sum((Z-z).^2)<0.01 C=i break; end; end​.\n\t\tNOTE: The protocol sets the error sum of squares below 0.01 to obtain higher precision, the value of which can be readjusted to satisfy various demands.\nClick Enter to obtain a C value that is the desired fit order.\nParameter equation fitting\n\t\nInput cftool and click Enter to bring up the Curve Fitting Tool.",
    "Input the coordinates of a curve in the command window (refer to steps 3.1.1 and 3.1.2). In the Curve Fitting Tool, select x-coordinate data when fitting frontal plane curves and y-coordinate data when fitting sagittal plane curves in the x data option, select z-coordinate data in the y data option, select polynomial, and enter the fit order obtained. Then, the software will output the parametric equation and goodness of fit automatically.\n\t\tNOTE: As the curve is a 2D image, the default work option is the x and y options in the Curve Fitting Tool when fitting a curve.\nIn the similar way, input the 3D coordinates of the 66 points and match the coordinate data to the corresponding axis options. Select polynomial and enter the fit order to gain the parametric equation of the endplate surface (Figure 6B).\n4. Acquisition of geometric data based on parametric equation\nInput x- and y-coordinate values of any point on the endplate in the command window.\nInput PX1, PX2, PX3....\n\tNOTE: Px is the parameters of the parametric equation that have been fitted using polynomial in the steps above.\nInput the equation and click Enter to obtain the result (i.e., input format: z = P00 + P10*x + P01*y + P20*x^2 + P11*x*y + P02*y^2 + P30*x^3 + P21*x^2*y + P12*x*y^2 + P03*y^3 + P40*x^4 + P31*x^3*y + P22*x^2*y^2 + P13*x*y^3 + P04*y^4).\n5. Representation of the endplate based on parametric equation\nInput PX1, PX2, PX3....in the command window.\nInput the code X=N1:0.01:N2;.\n\tNOTE: N1–N2 is the range of X-axis data (i.e., the values of the two endpoints of the themid-coronal curve).\nInput the code “Y=N3:0.01:N4;”.",
    "Input the equation (i.e., z=@(x,y)P00 + P10.*x + P01.*y + P20.*x.^2 + P11.*x.*y + P02.*y.^2 + P30.*x.^3 + P21.*x.^2.*y+ P12.*x.*y.^2 + P03.*y.^3 + P40.*x.^4 + P31.*x.^3.*y + P22.*x.^2.*y.^2+ P13.*x.*y.^3 + P04.*y.^4;).\nInput the code ezmesh(z, [N1,N2,N3,N4]) to obtain 3D simulation graphics (Figure 6C).\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Medicine"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research"
  ]
}