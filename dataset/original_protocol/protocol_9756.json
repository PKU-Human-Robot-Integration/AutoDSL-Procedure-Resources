{
  "id": 10167,
  "origin_website": "Jove",
  "title": "Experimental and Data Analysis Workflow for Soft Matter Nanoindentation",
  "procedures": [
    "1. Preparation of substrates/cells for nanoindentation measurements\nFollow the steps given in the Supplementary Protocol for preparation of PAAm hydrogels/cells for nanoindentation experiments. The procedure is summarized in Figure 2.\n\tNOTE: PAAm hydrogels have been chosen as they are the most common hydrogels used within the field of mechanobiology. However, the protocol is equally applicable to any type of hydrogel25 (see Discussion, modifications of the method).\n2. Starting up the device, probe choice, and probe calibration\nFollow the steps given in the Supplementary Protocol for starting up the device. For technical details on the operation of optical fiber ferrule-top nanoindenters, check these references17,18.\nSelect the nanoindentation probe as described below.\n\tNOTE: All commercially available probes such as the ones used in this protocol are equipped with a spherical tip (Figure 3A). Therefore, the choice narrows down to two variables: cantilever's stiffness and tip radius (Figure 3B).\n\t\nChoose a cantilever's stiffness (k in N/m) that matches the expected sample stiffness for best results15 (see Figure 3C and Discussion, critical steps in the protocol). For cells, select a probe with k in the range 0.01-0.09 N/m. For hydrogels, select a probe with k in the range 0.1-0.9 N/m, which yields optimal results for gels with expected E between a few kPa and 100 kPa (see Representative Results).\nChoose the tip radius (R in μm) according to the desired spatial resolution of the indentation process. For small cells such as Human Embryonic Kidney 293T (HEK293T) cells (average diameter of ~10-15 μm26) select a sphere with R = 3 μm. For hydrogels, select a sphere with R = 10-250 μm to probe the biomaterial's mechanical properties over a large contact area and avoid local heterogeneities.\nConsult Figure 3C and any additional manufacturer's guidelines to select the appropriate probe.",
    "Once the probe has been selected, follow the steps in the Supplementary Protocol to mount it on the nanoindenter.\n3. Probe calibration\nNOTE: The following steps are specific to ferrule-top nanoindentation devices based on optical fiber sensing technology, and they are detailed for software version 3.4.1. For other nanoindentation devices, follow the steps recommended by the device manufacturer.\nOn the software's main window, click on Initialize. A calibration menu will appear. Enter the probe details (can be found on the side of the probe's box; k in N/m, R in µm, and the calibration factor in air) in the input boxes.\nPrepare the calibration dish: a thick glass Petri dish with a flat bottom (see Discussion, critical steps in the protocol). Fill the dish with the same medium as the sample dish (this can also be air). Match the temperature of the medium with that of the sample.\nPlace the calibration dish under the probe. If required, slide out the probe from the nanoindenter's arm holder and hold it in one hand to make space for placement of the calibration dish. Slide back the probe into place.\nPerform the next two steps for calibration in liquid. If measuring in air, use the provided polytetrafluoroethylene substrate for calibration and skip to step 5.\n\t\nPrewet the probe with a drop of 70% ethanol using a Pasteur pipette with the end of the pipette in light contact with the glass ferrule, for the drop to slide over the cantilever and spherical tip27 (see Discussion, critical steps in the protocol).\nManually slide the nanoindenter's arm downwards until the probe is fully submerged, but still far away from the bottom of the Petri dish. If required, add more medium to the calibration dish. Wait 5 min so that equilibrium conditions are reached in the liquid.",
    "In the software's Initialize menu, click on Scan Wavelength. The interferometer’s screen will show a progress bar and the Live Signal window on the computer’s software will display the pattern shown in Figure S1A, left. To check whether the optical scan was successful, navigate to the Wavelength Scan panel on the interferometer box. If successful, a sine wave should be visible (Figure 1A, right). See Discussion (troubleshooting of the method) if an error appears.\nIn the Initialize menu, click on Find Surface, which will progressively lower the probe until a set threshold in the cantilever's bending is reached. The probe stops moving when contact with the glass Petri dish is made.\nCheck whether the probe is in contact with the surface. Move the probe down by 1 µm using the y downwards arrow button on the software's main window. Observe the green signal (cantilever's deflection) in the Live Window of the software for changes in the baseline with each step, when the cantilever is in contact with the substrate (Figure S1B). If there is no change, the cantilever is not in contact (see next step).\nIncrease the Threshold value in the Options menu under the Find Surface tab from its default value of 0.01 by a step of 0.01 at a time and repeat the Find Surface step until in contact. Alternatively, bring down the probe to contact in small 1 µm steps until the green baseline starts shifting at each downwards step.",
    "NOTE: For the softest cantilevers (k = 0.025 Nm-1), increase the Threshold value in the Options menu under the Find Surface tab a priori of performing step 6. Start from a threshold value of 0.06 or 0.07 and increase it up to 0.1 if necessary. This is because environmental noise will likely cause the cantilever to bend above the threshold prior to contact. For soft probes, decreasing the Approach Speed (μm/s) in the same menu also improves the procedure.\nIn the Initialize menu, click on Calibrate.\nCheck the Live Signal window of the software and make sure that both piezo's displacement and cantilever's deflection signals move up at the same time (​Figure S1C).\n\t\nIf there is a mismatch in time, the probe is not fully in contact with the glass. Move down the probe at steps of 1 µm until the baseline of the cantilever signal changes (see step 7) and repeat step 9.\nIf the cantilever signal does not change at all during the Calibrate step, then the probe is far from the surface. Increase the contact threshold iteratively (see step 8) until the surface is found correctly and repeat calibration from the beginning starting with the wavelength scan.\nWhen the calibration is complete, check the old and new calibration factors on the pop-up window displayed. If the new calibration factor is in the correct range, click on Use New Factor. If calibration fails, and the new factor is either NaN or is not in the expected range, see Discussion (troubleshooting of the method) for resolution.",
    "NOTE: The new factor should be ~n times lower than the one provided on the probe's box if the calibration was performed in a liquid medium with refractive index n (n = 1.33 for water). If calibration was performed in air, then the new and old calibration factors should be approximately equal.\nCheck whether the demodulation circle has been correctly calibrated as follows. Navigate to the Demodulation tab on the interferometer desktop. Gently tap on the optical table or on the nanoindenter to induce enough noise. A white circle made up of discrete data points should approximately cover the red circle (Figure S1D).\nIf the white circle does not overlap with the red circle, or a warning appears on the interferometer's display, the demodulation circle needs recalibration. This can be done in two ways as described below.\n\t\nContinuously tap on the body of the nanoindenter to induce one full circle of noise and press the Calibrate button on the interferometer.\nEnter in contact with the glass substrate and press Calibrate from the Initialize menu of the software's main window. Do not save the calibration factor. At this point, check again and make sure the white circle overlaps with the red circle.\n\t\tNOTE: If the signal is not just slightly displaced from the demodulation circle but rather became very small or is not visible at all, it means that the cantilever is stuck to the optical fiber. Follow the troubleshooting advice for this problem (see Discussion, troubleshooting of the method) and repeat either steps 13.1 or 13.2. Once the cantilever gets back to its horizontal position (Figure 3A), the signal will recover to the demodulation circle.\nVerify the calibration by performing an indentation on the glass substrate directly after the calibration as described below.",
    "Load or make an experiment file by clicking on Configure Experiment and add a Find Surface step and Indentation step. For the indentation step, use the default displacement mode settings and change the maximum displacement to the calibration distance (3,000 nm) to displace the probe against the stiff substrate.\nClick on Run Experiment and check the demodulation circle in the interferometer window. Check the white signal and make sure it is on top of the red circle during indentation.\nCheck the results on the software's main window in the Time Data graph, and make sure the piezo's displacement (blue line) is equal to the cantilever's deflection (green line) as the indentation starts in contact and no material deformation is expected. If the signals are not parallel, see Discussion (troubleshooting of the method).\nChange the local path in the calibration menu by setting the Calibration Save Path to an appropriate directory.\nWhen the probe has been successfully calibrated, move the piezo up by 500 μm.\n4. Measuring the Young's Modulus of soft materials\nNanoindentation of hydrogels\n\t\nLoad the Petri dish containing the sample(s) on the microscope's stage and manually move the nanoindenter's probe to a desired x-y position above the sample.\nManually slide the probe in solution, taking care to leave 1-2 mm between the probe and the sample's surface at this stage. Wait 5 min for the probe to equilibrate in the medium.\nFocus the z plane of the optical microscope so that the probe is clearly visible.\nPerform a single indentation to tune the experimental parameters as described below.",
    "Configure a new experiment in the software's main window. Click on Configure Experiment, which will open a new window. Add a Find Surface step. All parameters of the Find Surface step can be changed in the Options menu of the software if required.\n\t\t\tNOTE: The Find Surface will lower the probe until the surface is found, and then it will retract the probe to a distance defined by Z Above Surface (µm), above the sample's surface. If the selected cantilever is too stiff for the sample or the sample is sticky, after the step the probe is likely to still be in contact with the sample, which will result in a curve without a baseline (Figure 4C). To solve this problem, increase the Z Above Surface (µm).\nAdd an Indentation step. Select the Profile tab and click on Displacement Control. Leave the default indentation profile.\nClick on Run Experiment on the main software window. This will find the surface and perform a single indentation.If the single indentation does not look as expected, adjust the experimental parameters as outlined in Figure 4 and Discussion (troubleshooting of the method).\nOnce the indentation looks as desired, configure the matrix scan so that a sufficient area of the sample will be indented. Click on Configure Experiment, add a Find Surface step with the previously determined experimental parameters and add a Matrix Scan step.\nFor flat hydrogels, configure a matrix scan containing 50-100 points (i.e., 5 x 10 or 10 x 10 in x and y) spaced at 10-100 µm (i.e., dx = dy = 10-100 µm). Click on Use Stage Position to start the matrix scan from the current stage position. Make sure the Auto Find Surface box is ticked to find the surface at each indentation using the set experimental parameters.",
    "To avoid oversampling, set the step size to at least twice the contact radius (imgsrc://cloudfront.jove.com/files/ftp_upload/63401/63401eq01v3.png, where δ is the indentation depth).\nSet up the matrix scan profile in displacement control. Ensure that the profile does not violate the assumptions of the Hertz model (see Discussion, critical steps in the protocol).\nLeave the number of segments to 5, which is the default value, and use the default displacement profile. If necessary, change the displacement profile in terms of maximum displacement and time for each sloped segment, which will affect the maximum indentation depth and the strain rate, respectively. Do not exceed strain rates > 10 μm/s (see Discussion, limitations of the method).\nEnter a value for the approach speed, which determines how fast the probe is displaced toward the sample before contact. Match the retraction speed to the approach speed (see note below).\n\t\t\tNOTE: For soft cantilevers and noisy environments, an approach speed of 1,000-2,000 nm/s is recommended. For stiffer cantilevers and controlled environments, this can be increased.\nSave the configured experiment in the desired Experiment Path and select a directory where the data will be saved in the Save Path, in the General tab of the Configure Experiment window. Click on Run Experiment.\nOnce the matrix scan is completed, raise the probe by 200-500 µm and move the probe to a different area of the sample sufficiently far away from the first area.\nRepeat the experiment at least two times so that sufficient data is acquired on each sample (i.e., at least two matrix scans per sample, containing 50-100 curves each).\nNanoindentation of cells\n\t\nLoad the sample on the microscope as described above.\nFor single-cell indentation, focus the z plane so that both cells and probe are visible at 20x or 40x magnification, depending on cell size and spreading.",
    "Move the probe above the cell to be indented.\nConfigure a new experiment in the software's main window. Click on Configure Experiment, which will open a new window. Add a Find Surface and Indentation step with default parameters in displacement mode.\nClick on Run Experiment, which will find the surface and perform a single indentation. Check whether the indentation was successful. If the curve does not look as expected, adjust the experimental parameters (see Figure 4 and Discussion, troubleshooting of the method).\nIf the indentation was successful, add a matrix scan to the experiment. Follow the steps given for hydrogels' nanoindentation experiments; configure the matrix scan so that the step size allows for a small area of the cell to be indented; 25 points spaced at 0.5-5 µm for HEK293T cells.\n\t\t\nDepending on the cell size, adapt the matrix scan to ensure the tip does not indent outside the cell limit, i.e., doing a different map geometry or probing fewer points.\nClick on Run Experiment and wait for it to be completed.\nOnce the matrix scan is completed, raise the probe out of contact (50 µm in the z plane).\nMove the probe above a new cell and repeat the process (see Discussion, critical steps in the protocol).\nCleaning the probe and switching off the instrument\n\t\nFollow the steps given in the Supplementary Protocol to clean the probe and switch off the nanoindentation device.\n5. Data analysis\nDownloading and installing the software\n\t\nFollow the steps given in the Supplementary Protocol to download and install the software for data analysis28,29.\nScreening F-z curves and production of cleaned data set in JSON format\n\t\nLaunch prepare.py from the command line on the lab computer as outlined in steps 2 to 3.",
    "If using a Windows computer, hold the shift key while right-clicking on the NanoPrepare folder and click on Open PowerShell Window Here. Type the python prepare.py command and press the Enter key. A GUI will pop up on your screen (Figure S2).\nIf using a MacOS computer, right-click on the NanoPrepare folder and click on New Terminal at Folder. Type the python3 prepare.py command and press the Enter key, which will launch the GUI (Figure S2).\nSelect the O11NEW data format from the drop-down list. If data is not loaded correctly, then relaunch the GUI and select O11OLD.\n\t\tNOTE: The O11NEW format works for data obtained using ferrule-top optical fiber sensing nanoindentation devices with software version 3.4.1. This format will also work for previous software versions, at least those belonging to nanoindenters installed in 2019-2020.\nClick on Load Folder. Select a folder containing the data to be analyzed-single matrix scan or multiple matrix scans. The top graph (Raw Curves) will be populated with the uploaded data set. To visualize a specific curve, click on it. This will highlight it in green and show it on the bottom graph (Current Curve).\nClean the data set using the tabs present on the right part of the GUI as outlined below.\n\t\t\nUse the Segment button to select the correct segment to be analyzed, which is the forward segment of F-z curves. The specific number depends on the number of segments selected in the nanoindentation software when performing experiments.",
    "Use the Crop 50 nm button to crop the curves by 50 nm at the extreme left (if L is ticked), right (if R is ticked), or both sides (if both R and L are ticked). Click this button several times to crop as much as is required. Use this to remove artifacts present at the start/end of F-z curves.\nInspect the Cantilever tab for the spring constant, tip geometry, and tip radius. Inspect the tab to ensure that the metadata has been read correctly.\nUse the Screening tab to set a force threshold that will discard all the curves that did not reach the given force. Discarded curves will be highlighted in red.\nUse the Manual Toggle button to manually remove curves that have not been correctly acquired. Remove any curves by clicking on the specific curve and selecting OUT, which will highlight the curve in red.\nClick on Save JSON. Enter an appropriate name for the cleaned data set, which is a single JSON file. Send the JSON file to the computer where the NanoAnalysis software was installed.\n6. Formal data analysis\nLaunch the nano.py file from the command line by navigating to the NanoAnalysis folder and launching a terminal as previously explained. Type the python nano.py or python3 nano.py command (depending on the operating system) and press the Enter key. A GUI will pop up on your screen (Figure S3).",
    "On the top left of the GUI, click on Load Experiment and select the JSON file. This will populate the file list and the Raw Curves graph showing the data set in terms of F-z curves. Both F and z axes are shown relative to the CP coordinates, which are computed in the background when loading the dataset (see the following note). In the Stats box, check the values of the three parameters: Nactivated, N failed, and Nexcluded.\n\tNOTE: Nactivated represents the number of curves that will be analyzed in the subsequent Hertz/elasticity spectra analysis and appear in black in the Raw Curves graph. Nfailed represents the number of curves on which a reliable CP could not be found and appear in blue in the graph. These curves will automatically be discarded in the subsequent analysis. Upon opening the software, some curves may be automatically moved to the failed set. This is because the CP is calculated upon opening the software with the default Threshold algorithm (see below). Nexcluded represents the curves that are manually selected to be excluded from the analysis and will appear in red in the graph (see below).\nCheck whether the number of failed, excluded, and activated curves is reasonable. Check the Raw Curves graph to visualize the curves.\nTo visualize a specific curve in more detail, click on it. This will highlight it in green and show it on the Current Curve graph. Once a single curve has been selected, the R and k parameters (which must be the same for all curves) will be populated in the Stats box of the GUI.",
    "Change the status of a given curve using the Toggle box. Click on the specific curve you want to change the status of, and then click on either Activated, Failed, or Excluded. The count in the Stats box is automatically updated.\n\tNOTE: To change the view of the data set in the Raw Curves graph use the View box. Click on All to show all curves (i.e., activated, failed, and excluded in the respective colors). Click on Failed to show the activated and the failed curves and click on Activated to only show the activated curves. To reset the status of all curves between activated and excluded, click on Activated or Excluded in the Reset box.\nOnce the dataset has been further cleaned, follow the data analysis pipeline outlined below.\n\t\nFilter any noise present in the curves using the filters implemented in the GUI (Filtering Box), namely, a custom filter called Prominency filter, the Savitzky Golay30,31 (SAVGOL) filter, and a smoothing filter based on computing the median of the data in a given window (median filter). See Discussion (critical steps in the protocol) for details on filters.\nInspect the filtered curves in the Current Curve graph. The filtered curve is shown in black whereas the non-filtered version of the curve is shown in green.\n\t\tNOTE: It is advised to filter the data as little as possible to preserve features of the original signal. Over filtering may smooth out any differences present in the data. Working with the prominency filter activated is enough for the Hertz analysis of nanoindentation data. If the data is particularly noisy, then a SAVGOL or median filters may be additionally applied.",
    "Select an algorithm to find the CP. In the Contact Point box, choose one of a series of numerical procedures that have been implemented in the software, namely, the Goodness of Fit (GoF)32, Ratio of Variances (RoV)32, Second derivative33, or Threshold33. See Discussion, critical steps in the protocol for details on the algorithms.\n\t\tNOTE: The CP is the point at which the probe comes into contact with the material and needs to be identified in order to convert F-z data into F-δ data (for soft materials, δ is finite and needs to be calculated). The selected algorithm will be applied to all active curves of the data set, and curves where the algorithm fails to locate the CP robustly will be moved to the failed set.\nAdjust the algorithm's parameters to suit your dataset so that the CP is located correctly as detailed in the Discussion, critical steps in the protocol.To view where the CP has been found on a single curve, select the curve by clicking on it and click on Inspect. Check the pop-up window that appears to identify where the CP has been located.\nCheck whether the red line that appears, which is the parameter the algorithm computed in the selected region of interest, has a maximum or minimum value that corresponds to the location of the CP (e.g., for the GoF, the parameter is the R2). Repeat this process for all curves if needed.\n\t\tNOTE: The axes of the pop-up are in absolute coordinates so that the location of the CP can be shown. Conversely, the axes of the Raw Curves and Current Curve graph are shown relative to the CP, i.e., the location of the CP is (0,0).\nClick on Hertz Analysis. This will generate three graphs described below.",
    "Check individual F-δ curves in the dataset together with the average Hertz fit (red dashed line). Adjust the indentation in nm up to which the Hertz model is fitted in the Results box under Max Indentation (nm). Set it to a maximum of ~10% of R for the Hertz model to be valid (see Discussion, critical steps in the protocol).\nCheck the average F-δ curve with error band showing one standard deviation (SD) together with the average Hertz fit (red dashed line). Visualize the average Hertz fit on the Raw Curves graph for reference and the Hertz fit for each curve on the Current Curve.\nCheck the scatter plot of E originating from fitting the Hertz model to each individual curve.\nClick on either the file name, F-z curve, F-δ curve, or a point on the scatter plot to highlight the curve in each plot. If a data point in the scatter plot appears to lie outside the distribution of the data, click on it and inspect the curve to which it belongs. Verify that the CP has been located correctly by clicking on the Inspect button. Exclude the curve from the analysis if necessary.\nInspect the Results box for the computed mean E and its SD (Eγ ± σ) and make sure they are reasonable for the given experiment.\nIn the Save box, click on Hertz. In the pop-up window, enter file name and directory. Once done, click on Save. A .tsv file will be created. Open the .tsv file in any additional software of preference and use the values for statistical analysis and further plotting.",
    "NOTE: The file contains the E obtained from each curve and the mean E and its SD. Additionally, the file contains metadata associated with the analysis, including the number of curves analyzed, R, k, and the maximum indentation used for the Hertz model.\nThis step is optional. Click on Average F-Ind to export the average force and the average indentation, together with one SD in the force.\nFor cell nanoindentation data, click on Elasticity Spectra Analysis (see Representative Results and Discussion). Inspect the two plots produced, namely, E as a function of the indentation depth (E(δ)) for each curve, and the average E(δ) with error band showing one SD (solid red line and shaded area) fitted by a model (black dashed line), which allows to estimate the cell's actin cortex's Young's modulus, the cell's bulk Young's modulus, and the actin cortex's thickness. Additionally, check the average E(δ) in the top graph in red.\nMake sure the Interpolate box is checked, which ensures the derivative needed to perform the elasticity spectra analysis is computed on the interpolated signal (see Representative Results).\nInspect the Results box, reporting the cortex's Young's modulus (E0 ± σ), the cell's bulk Young's modulus (Eb ± σ), and the cortex thickness (d0 ± σ).\n\t\tNOTE: The average elasticity spectra may appear noisy at first, with prominent sinusoidal oscillations. As a result, equation (3) may not be fitted correctly. If this is the case, iteratively increasing the window length of the smoothing SAVGOL filter34 solves this issue.",
    "Once the analysis is finished, click on ES in the Save box. This will export a .tsv file in the specified directory, containing the average elasticity as a function of the average indentation depth and contact radius, the metadata associated with the experiment (see above), and the estimated model parameters explained above. Finally, the average elasticity disregarding the dependency on δ and its SD, are also reported.\nClose the software and input the saved results in any other software of preference to further plot the data and perform statistical analysis.\nThis step is optional: Export graphs from the GUI by right-clicking on the graph and selecting Export. Export the graph in .svg, so that parameters such as font, font size, line style, etc. can be edited in another software of choice. \n\t\tNOTE:Custom CP algorithms and filters can be programmed and added to the already existing ones. See Supplementary Note 1 for details.\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Bioengineering"
  ],
  "bigAreas": [
    "Bioengineering & Technology"
  ]
}