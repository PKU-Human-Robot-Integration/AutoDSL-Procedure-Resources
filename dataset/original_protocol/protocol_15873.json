{
  "id": 19699,
  "origin_website": "Wiley",
  "title": "Exploring Non-Coding RNAs in RNAcentral",
  "procedures": [
    "At the time of this writing, RNAcentral contains >16 million non-redundant sequences from a wide range of species. Each sequence has a dedicated report page that always includes the following information: ncRNA sequence, cross-reference(s) to the databases where this sequence is annotated, and its unique accession number (see Guidelines for Understanding Results for more information about RNAcentral identifiers).\nDepending on the ncRNA type, organism, and source database, the report pages may include one or more additional sections: RNA secondary structure, an embedded genome browser, Rfam classification (see Current Protocols article: Kalvari et al., 2017[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0014]), Gene Ontology (GO) terms (Huntley et al., 2014[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0012]), orthologs and paralogs from Ensembl Compara (Pignatelli et al., 2016[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0027]), microRNA targets from TarBase (Karagkouni et al., 2018[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0016]) and LncBase (Paraskevopoulou et al., 2016[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0026]), modifications from Modomics (Machnicka et al., 2013[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0022]), literature references, sequence feature viewer, and more.\nIn this protocol, we show the general structure of a sequence report page and give suggestions for identifying the most relevant information.\nNecessary Resources\nHardware\nAny device with Internet access\nSoftware\nAn up-to-date Web browser, such as Chrome, Safari, or Firefox\nView basic information about ncRNA sequence\n1. Start at the RNAcentral homepage (Fig. 1[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0001]) and search for human miR-181b-1 stem-loop microRNA by entering URS0000530EBF_9606 in the search box located at the top of the page (more information about searching RNAcentral is found in Basic Protocol 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0002]).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/57d7b3da-65a6-473c-82c7-e7a8bc82a211/cpbi104-fig-0001-m.jpg</p>\nFigure 1\nThe RNAcentral homepage. The text search box is displayed at the top and is available on all RNAcentral pages.\n2. Click on the single search result to view the sequence report.",
    "3. Explore the report page (Fig. 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0002]), focusing on the RNA type, source databases, and genomic neighborhood. Most sections of the webpage are interactive. For example, you can click on the RNAcentral transcripts in the genome browser (Fig. 2C[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0002]) to find what database these sequences come from, or you can visualize the GO term hierarchy by clicking on the tree icons (Fig. 2E[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0002]).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/2447390c-e7f3-4ed7-9144-1659f04832ba/cpbi104-fig-0002-m.jpg</p>\nFigure 2\nA sequence report page for human miR-181b-1 stem-loop microRNA (URS0000530EBF_9606). (A) Overview and automatically generated summary; (B) links to the Expert Databases that annotate the sequence; (C) interactive genome browser showing RNAcentral entries alongside genes and transcripts from Ensembl; (D) related RNAs in other species based on Ensembl Compara; (E) GO annotations based on manual literature curation and automated analysis; (F) interactive sequence feature viewer showing the mature microRNAs within the precursor (in purple); (G) links to the scientific literature discussing the microRNA.\n4. Follow the links to the source databases to find additional information about this RNA. For example, in miRBase (Kozomara, Birgaoanu, & Griffiths-Jones, 2019[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0019]) you can view deep sequencing data supporting this microRNA as well as >370 papers that mention this RNA, while in MalaCards (see Current Protocols article: Rappaport et al., 2014[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0029]) you can find details about the association of this microRNA with breast cancer and hepatocellular carcinoma, as well as pancreatic and prostate cancers.\n5. Identify other sequences in the same genomic locations. The embedded genome browser (Fig. 2C[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0002]) shows the sequence in the context of the reference genome, including other ncRNAs as well as protein-coding genes and pseudogenes found in the genomic neighborhood.",
    "It is important to view sequence reports for all ncRNAs in a genomic region of interest. For example, the genome browser shows another precursor microRNA sequence (URS0000EFBE70_9606) in the same region provided by MirGeneDB (Fromm et al., 2020[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0010]; Fig. 2C[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0002]). This discrepancy is caused by the differences in the annotation methods between the two databases. See Guidelines for Understanding Results for more information about interpreting such cases.\n6. Click the “Taxonomy” tab to view a list of species where the RNA sequence also occurs. Note that this tab only shows the entries with the 100% identical sequence. For other related sequences, explore the “Related RNAs” section of the report page that shows ortholog and paralog sequences retrieved from Ensembl Compara.\n7. Click the “Download” button to retrieve the ncRNA sequence in FASTA format or get the sequences and the annotations in JSON format.",
    "The text search enables users to query RNAcentral by species, gene name, RNA type, or any other keyword. The search can be used for exploring the data from >40 databases on the RNAcentral website as shown in this protocol, or it can be used programmatically via an API (see Support Protocol 1[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0005]).\nNecessary Resources\nHardware\nAny device with Internet access\nSoftware\nAn up-to-date Web browser, such as Chrome, Safari, or Firefox\nBrowse all RNAcentral sequences\n1. Start at the RNAcentral homepage (https://rnacentral.org[href=https://rnacentral.org]) and click “Browse sequences” (Fig. 1[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0001]).\nThe key feature of the search interface is the ‘facets’, which facilitate filtering of the results and show how many sequences of each type match the query. For example, the ‘RNA types’ facet in Figure 3[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0003] shows that the majority of RNAcentral sequences come from the ubiquitously found ribosomal RNA (rRNA) and transfer RNAs (tRNAs).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/29ced33b-380f-4efb-aa38-aa2437278fb0/cpbi104-fig-0003-m.jpg</p>\nFigure 3\nFaceted search interface which enables queries to be refined according to RNA type, Organism, Expert Database, and other facets are shown on the left. The results can also be filtered by length using the Length slider and downloaded by clicking the download button located at the top right.\nBrowse RNA sequences in a species or taxonomic group of interest\n2. To list all ncRNAs in a particular species, type the species name in the search bar and select the species in the Organism facet.\n         \nAlternatively, you can use the syntax: taxonomy: \"NCBI_TAXID\" where NCBI_TAXID is the NCBI taxonomy identifier (taxid) (Federhen, 2012[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0008]). For example, taxonomy: \"9606\" will return all sequences from Homo sapiens, which has the assigned NCBI taxid of 9606.",
    "For the most accurate results, we recommend using the Organism facet or entering NCBI taxids, because keyword-based queries can be ambiguous (for example, a search for Bacillus matches both Bacteria and Eukaryotes, see https://www.ncbi.nlm.nih.gov/taxonomy/?term=bacillus[href=https://www.ncbi.nlm.nih.gov/taxonomy/?term=bacillus]).\nIt is also possible to search for ncRNA sequences from any taxon using the following syntax: tax_string: \"mammalia\"\nwhere tax_string is the taxonomic lineage for a species. Note the use of the Latin taxon name (“mammalia,” not “mammals”).\nUse advanced text search syntax\n3. As shown above, it is possible to construct advanced queries using the Lucene query syntax (see https://www.ebi.ac.uk/ebisearch/documentation.ebi[href=https://www.ebi.ac.uk/ebisearch/documentation.ebi] for more details). The following section provides examples for common use cases.\n         \nUse double quotes.\nTo make sure that the results contain the exact query string, surround the query with double quotes. For example, if you are looking for a specific microRNA like hsa-mir-126, run the following search:\n         \n\"hsa-mir-126\"\nA search without double quotes will also match hsa-mir-1261, hsa-mir-1262, and other sequences.\n         \nb.Use logic operators.\nThe search supports logic operators, such as AND, OR, and NOT. For example, one can identify microRNAs from miRBase that are not found in RefSeq or Ensembl (note the use of parentheses for grouping the search terms):\n         \nrna_type: \"miRNA\" AND expert_db: \"miRBase\" NOT (expert_db: \"RefSeq\" OR expert_db: \"Ensembl\")\nc.Limit sequence length.\nOne can restrict the length of the sequences; for example, the following search returns tRNAs between 60 and 100 nucleotides long (it is also possible to use the sequence length slider shown in Fig. 3[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0003]).\n         \nrna_type: \"tRNA\" length:[60 TO 100]\nFor a full list of searchable fields, check the EBI Search documentation (https://www.ebi.ac.uk/ebisearch/metadata.ebi?db=rnacentral[href=https://www.ebi.ac.uk/ebisearch/metadata.ebi?db=rnacentral]).\nDownload search results",
    "4. The search results can be downloaded for further local processing by clicking the Download button (Fig. 3[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0003], top right). You will be redirected to a page with a link to the downloadable file (Fig. 4[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0004]). The results are kept for 7 days, and the URL can be bookmarked or shared.\nNote that up to 1 million results can be exported at a time. For exporting larger result sets, you can use the public Postgres database as described in Support Protocol 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0006].\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/4f9fa3e4-a7fc-4390-8043-2ae716e560b0/cpbi104-fig-0004-m.jpg</p>\nFigure 4\nExporting text search results in FASTA format.",
    "RNAcentral hosts a sequence-similarity search powered by nhmmer (Wheeler & Eddy, 2013[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0036]) that enables users to compare any sequence against a collection of ncRNA sequences available in RNAcentral. The RNAcentral sequence search can be used to find similar sequences, check if the exact sequence has been observed before, or confirm that a sequence does not match any known ncRNAs.\nNecessary Resources\nHardware\nAny device with Internet access\nSoftware\nAn up-to-date Web browser, such as Chrome, Safari, or Firefox\n1. Find similar sequences. Go to the sequence search page (https://rnacentral.org/sequence-search[href=https://rnacentral.org/sequence-search]) and enter the following microRNA sequence:\n         \nGGGAUGAGGUAGUAGGUUGUAUAGUUUUAGGGUCACACCCACCACUGGGAGAUAACUAUACAAUCUACUGUCUUUC\n2. Click the “Show details” button to show information about the match such as e-value, sequence identity, and numbers of matching bases. By default, the results are sorted by e-value, but the “Sort by” drop-down menu allows alternative orderings.\n3. Explore the results using the same facets as in the text search (Basic Protocol 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0002]). For example, the query sequence matched the human let-7 precursor microRNA as the top hit; however, one can view hits in other species listed under the Organisms facet. Each result links out to the sequence report page (see Basic Protocol 1[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0001]).\nThe results can also be filtered by any keyword using the “Search within results” field (Fig. 5[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0005]). See Basic Protocol 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0002] for more information on facets and different search strategies.\nIf a query sequence has an exact match in RNAcentral, it will be looked up as soon as the query is entered in the search box (Fig. 6[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0006]). This is useful for checking if a sequence is found in RNAcentral.\nMore information about the RNAcentral sequence search can be found at https://rnacentral.org/help/sequence-search[href=https://rnacentral.org/help/sequence-search].\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/2afad876-b198-482d-8cfe-3e410dba849b/cpbi104-fig-0005-m.jpg</p>\nFigure 5",
    "Sequence search results showing the RNA types, Organisms, and Expert databases facets that can be used for results filtering. The results can be sorted by E-value (default), identity target or query coverage, and other parameters.\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/edd83405-0e45-459e-81a2-a37794e21e34/cpbi104-fig-0006-m.jpg</p>\nFigure 6\nExample RNAcentral sequence search lookup using human 5S rRNA sequence (URS00000F9D45_9606) as a query. The sequence is found in 8 species (human and 7 others) which can be explored using the provided links.",
    "The FTP archive provides users with an easy way to fetch large amounts of data from RNAcentral. The archive contains downloadable files, including sequences in FASTA format, identifier mapping files that can be used to convert between RNAcentral and external identifiers, Rfam annotations, GO annotations, and genome annotations in GFF3 and BED formats. In addition, the archive enables access to previous RNAcentral releases.\nIn the following protocol, we demonstrate how to compare a set of genomic coordinates with a comprehensive collection of ncRNAs from RNAcentral by intersecting an RNAcentral BED file with an example GFF3 file (the same steps work with BED, VCF, or BAM files). This protocol can be used to find if a genomic region of interest overlaps with RNAcentral sequences as part of RNA-seq data analysis (see Support Protocol 3[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0007] for an alternative workflow using Galaxy).\nNecessary Resources\nHardware\nA computer with access to UNIX terminal and the Internet\nSoftware\nBedTools (see Current Protocols article: Quinlan, 2014[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0028]); curl; gzip; grep\nCompare a set of genome coordinates with RNAcentral genome annotations\n1. Go to the RNAcentral FTP archive and select a BED file for your species of interest (in this example we use Drosophila melanogaster). Download and uncompress the file:\n         \ncurl\n`ftp://ftp.ebi.ac.uk/pub/databases/RNAcentral/releases/14.0/genome_coordinates/bed/drosophila_melanogaster.BDGP6.22.bed.gz' | gzip -d > rnacentral.bed\n2. Use the Supporting Information file example.gff3 to intersect it with the RNAcentral BED file using bedtools (this step also works with BED, VCF, or BAM files):\n         \nbedtools intersect -a rnacentral.bed -b example.gff3 > output.bed",
    "3. Filter results using RNAcentral-specific metadata BED fields. In addition to the standard fields, the RNAcentral BED files contain two additional columns (RNA type and a list of source databases) that enable selecting a subset of sequences using a command-line tool like grep (Fig. 7[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0007]). For example, it is possible to filter the genomic regions by RNA type, member database, and other criteria using grep commands, as in the following.\n         \nFilter by RNA type (for example, exclude tRNA):\ngrep -v tRNA output.bed > output-no-trna.bed\nb.Filter by RNAcentral member database (for example, FlyBase):\ngrep FlyBase output.bed > output-flybase.bed\nThe resulting BED files can be visualized as a custom track in the Ensembl genome browser (Cunningham et al., 2019[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0006]), viewed locally using IGV (Robinson et al., 2011[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0030]), or used as an input for downstream bioinformatic analyses.\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/537135fd-880c-4f2b-b486-a90edd7bf26a/cpbi104-fig-0007-m.jpg</p>\nFigure 7\nExample RNAcentral BED file (note the last two columns containing RNA type and a list of source databases). See https://www.ensembl.org/info/website/upload/bed.html[href=https://www.ensembl.org/info/website/upload/bed.html] for a BED format description.",
    "In addition to accessing the RNAcentral data through the website, it is possible to use it programmatically by taking advantage of two web APIs:\n         \n1.The RNAcentral API can be used to retrieve information about individual ncRNA entries;\n2.The text search API can be used to search and retrieve information about RNAcentral entries as described in Basic Protocol 1[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0001].\nThese APIs can be used independently or cooperatively, depending on the use case, as explained below.\nNecessary Resources\nHardware\nA computer with access to UNIX terminal and the Internet\nSoftware\nTo interact with the API, you will need to run custom programs in your preferred programming language. The following example is written in Python and requires the requests package.\nUsing text search API\nThe RNAcentral text search (see Basic Protocol 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0002]) is powered by the EMBL-EBI Search engine and has a REST API that can be used from any programming language that supports retrieving data over the Internet, such as Python or JavaScript (Madeira et al., 2019[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0023]). This protocol covers basic usage of the API; for more detailed information about programmatic access, please refer to the EMBL-EBI Search documentation (https://www.ebi.ac.uk/ebisearch[href=https://www.ebi.ac.uk/ebisearch]) and the RNAcentral API help page (https://rnacentral.org/api[href=https://rnacentral.org/api]). Here we demonstrate how to programmatically perform a search for has-mir-126 sequences from miRBase (Kozomara et al., 2019[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0019]) using the text search, and then retrieve the description and RNA type of the results.\n1a. Use a programming language to access the following URL:\nhttps://www.ebi.ac.uk/ebisearch/ws/rest/rnacentral?query=%22hsa-mir-126%22%20AND%20expert_db:%22mirbase%22&fields=description,rna_type&format=json[href=https://www.ebi.ac.uk/ebisearch/ws/rest/rnacentral?query=%22hsa-mir-126%22%20AND%20expert_db:%22mirbase%22&fields=description,rna_type&format=json]\nThis URL is equivalent to searching \"hsa-mir-126\" AND expert_db: \"mirbase\" on the RNAcentral website (see Basic Protocol 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-prot-0002]). In Python this is done with:\n         \nimport requests\nresponse = requests.get(\"https://www.ebi.ac.uk/ebisearch/ws/rest/rnacentral?query=%22hsa-mir-126%22%20AND%20expert_db:%22mirbase%22&fields=description,rna_type&format=json\")\n2a. Display the data from the text search API. In Python, this is done with:\n         \ndata = response.json()\nprint(data)\nFigure 8[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0008] shows the output as of release 14.",
    "miRBase itself does not offer a standalone REST API; however, since miRBase is an RNAcentral member database, its data can be accessed through the RNAcentral search API in a consistent way, similar to all other member databases.\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/bec4be4d-9b71-49fa-a053-3ded2743e9b5/cpbi104-fig-0008-m.jpg</p>\nFigure 8\nThe hsa-mir-126 miRBase entries retrieved from the RNAcentral text search including description and RNA type. A raw JSON file can be viewed at https://gist.github.com/AntonPetrov/466de084fbf743aaa44c8b534470af82[href=https://gist.github.com/AntonPetrov/466de084fbf743aaa44c8b534470af82].\nCombining text search and RNAcentral APIs\nThe RNAcentral text search and the RNAcentral API can be used together to search and access RNAcentral data. For example, in the previous section we retrieved several fields directly from the text search (description and rna_type, see Fig. 8[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0008]). However, not all of the metadata about the sequence is available in the text search. Most importantly, the nucleotide sequence is not part of the text search index, but it can be accessed via the RNAcentral API.\n1b. Use a programming language to lookup the sequence for the results from above. In python this can be done with:\n         \nfor entry in data[ʹentriesʹ]:\nurs = entry[ʹidʹ].split(ʹ_ʹ)[0]\nresponse = requests.get(ʹhttps://rnacentral.org/api/v1/rna/%s.fastaʹ%urs)\nsequence = response.text\nprint(sequence)\nWe provide an example Python script that looks up RNAcentral identifiers using a text search query, and then loads their sequences from the RNAcentral API (Fig. 9[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0009]).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/38ed00a9-3a32-4094-994e-8a44e51e1e80/cpbi104-fig-0009-m.jpg</p>\nFigure 9\nAn example Python script showing how to use the text search results to retrieve RNA sequences in FASTA format using the RNAcentral API. The code is available at https://gist.github.com/blakesweeney/66b90c08bd0a166c550ebc8e07f4211a[href=https://gist.github.com/blakesweeney/66b90c08bd0a166c550ebc8e07f4211a].",
    "A public copy of the RNAcentral Postgres database is made available in order to enable users to query RNAcentral in any programming language with database connectivity. This functionality can be used to automate data export or to export large datasets that cannot be downloaded from the RNAcentral website. The database is updated with each RNAcentral release and contains a copy of the data available through the RNAcentral website.\nThe database connection details can be found in Table 1[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-tbl-0001]. We recommend using a Postgres client like DBeaver or PgAdmin for exploring the schema and testing SQL queries, but for exporting large volumes of data, it is best to use a command-line client.\nTable 1.\n                Connection Details for the RNAcentral Public Postgres Databasea[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-tbl1-note-0001_52]\ntable:\n﻿Hostname,hh-pgsql-public.ebi.ac.uk\nPort,5432\nDatabase,Pfmegrnargs\nUser,Reader\nPassword,NWDMCE5xdipIjRrp\na See https://rnacentral.org/help/public-database[href=https://rnacentral.org/help/public-database] for the most up-to-date version.\nNecessary Resources\nHardware\nA computer with access to UNIX terminal and the Internet\nSoftware\nA Postgres database management application, such as DBeaver (https://dbeaver.io/[href=https://dbeaver.io/]) or PgAdmin (https://www.pgadmin.org/[href=https://www.pgadmin.org/]); psql for connecting to the database on command line or Docker for using Docker containers; seqkit (Shen, Le, Li, & Hu, 2016[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0031]) for extracting sequences\nExample workflow to extract all bacterial rRNA sequences\nThe RNAcentral text search can export up to 1 million search results, but you can extract a larger number of sequences using the Postgres database, as described below. Connection details for the database are in Table 1[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-tbl-0001].\n1. Connect to the RNAcentral Postgres database. If you have psql installed on your machine, use the following command:\n         \npsql postgres://reader:[email protected][href=https://currentprotocols.onlinelibrary.wiley.com/cdn-cgi/l/email-protection]:5432/pfmegrnargs\nAlternatively, use docker to get started with a pre-configured Postgres image:\n         \ndocker pull postgres\ndocker run -it postgres psql postgres://reader:[email protected][href=https://currentprotocols.onlinelibrary.wiley.com/cdn-cgi/l/email-protection]:5432/pfmegrnargs\nIf your computer is behind a firewall, it may be necessary to allow the outgoing TCP/IP connections to the Postgres port.",
    "2. Create a file query.sql (Fig. 10[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0010]) with an SQL statement that retrieves RNAcentral identifiers of all bacterial rRNA sequences (matches 3,863,753 sequences in RNAcentral release 14).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/c37005e7-30fa-4afa-90e8-3eb6d7763c96/cpbi104-fig-0010-m.jpg</p>\nFigure 10\nAn SQL command that fetches RNAcentral identifiers of all bacterial rRNA sequences that are currently active. The code is available at https://gist.github.com/blakesweeney/08dd38d81aafab63ccbd75cb304afff4[href=https://gist.github.com/blakesweeney/08dd38d81aafab63ccbd75cb304afff4].\n3. Run the following command to execute the query if psql is installed on your machine:\n         \npsql -t -A -f query.sql postgres://reader:[email protected][href=https://currentprotocols.onlinelibrary.wiley.com/cdn-cgi/l/email-protection]:5432/pfmegrnargs > ids.txt\nIf using Docker, run:\n         \ndocker run -v ∼pwd∼:/rnacentral -it postgres /bin/sh -c `cd /rnacentral && psql -t -A -f query.sql postgres://reader:[email protected][href=https://currentprotocols.onlinelibrary.wiley.com/cdn-cgi/l/email-protection]:5432/pfmegrnargs > ids.txt'\nThe command will create a file ids.txt with a list of RNAcentral identifiers, which can be used to fetch sequences from the FASTA files.\n4. Download a file with RNAcentral sequences in FASTA format and place it into the same directory as ids.txt:\n         \nftp://ftp.ebi.ac.uk/pub/databases/RNAcentral/current_release/sequences/rnacentral_species_specific_ids.fasta.gz\n5. Extract RNA sequences with the identifiers listed in file ids.txt using seqkit:\n         \nseqkit grep -f ids.txt rnacentral_species_specific_ids.fasta.gz > output.fasta\nIn Docker this can be done with:\n         \ndocker pull pegi3s/seqkit\ndocker run -v ∼pwd∼:/rnacentral -it pegi3s/seqkit /bin/sh -c `cd /rnacentral && seqkit grep -f ids.txt rnacentral_species_specific_ids.fasta.gz > output.fasta'\nThe file output.fasta will contain the desired subset of RNAcentral sequences in FASTA format.\nMore information about using the RNAcentral Postgres database can be found at https://rnacentral.org/help/public-database[href=https://rnacentral.org/help/public-database].",
    "RNA-seq experiments can provide information about gene expression in the cells of interest. There are a wide range of RNA-seq technologies (Stark, Grzelak, & Hadfield, 2019[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0032]) targeting different types of transcripts. For example, TGIRT-seq (Nottingham et al., 2016[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0025]) uses the thermostable group II intron reverse transcriptase and can process highly structured, short RNAs, such as tRNAs and snoRNAs (Boivin et al., 2018[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0004], 2020[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0005]).\nIn the following protocol, we demonstrate an example RNA-seq workflow using Galaxy, a web platform that enables users to perform computational workflows in the cloud (Afgan et al., 2018[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0001]). We will analyze a single-end RNA-seq dataset based on Drosophila melanogaster S2 cells sequenced under normal conditions and amino-acid starvation (project PRJNA601750, https://www.ebi.ac.uk/ena/data/view/PRJNA601750[href=https://www.ebi.ac.uk/ena/data/view/PRJNA601750]). We will use the RNAcentral ncRNA annotations to compare ncRNA expression between the two conditions.\nThe workflow includes the following steps:\n         \n1.Importing the data.\n2.Preprocessing the reads using FastQC (http://www.bioinformatics.babraham.ac.uk/projects/fastqc/[href=http://www.bioinformatics.babraham.ac.uk/projects/fastqc/]) and aligning them to the reference genome with HISAT2 (Kim, Langmead, & Salzberg, 2015[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0018]).\n3.Counting reads using the FeatureCounts software (Liao, Smyth, & Shi, 2014[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0020]) and ncRNA annotations from RNAcentral.\n4.Performing differential expression (DE) analysis using DESeq2 (Love, Huber, & Anders, 2014[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0021]).\nNecessary Resources\nHardware\nAny device with Internet access\nSoftware\nAn up-to-date Web browser, such as Chrome, Safari, or Firefox\nOptional: IGV (Robinson et al., 2011[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0030]).\nFiles\nRNA-seq dataset (FASTQ format)\nRNAcentral annotations (GFF3 format)\nReference genome (FASTA format)\n1. Import RNA-seq data into Galaxy.\nAn RNA-seq dataset can be uploaded to Galaxy from a local computer or imported directly from the biological databases, an FTP archive, or any public URL.\n         \nBegin at the Galaxy homepage (https://usegalaxy.org/[href=https://usegalaxy.org/]) and log in to your Galaxy account. Click the “+” icon in the History panel to create a new history and keep track of input and output files (Fig. 11[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0011], right).",
    "Find the section “Get data” in the Tools panel (Fig. 11[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0011], left). Click “Download and Extract Reads in FASTA/Q format from NCBI SRA” in order to import data directly from the NCBI SRA database (Amid et al., 2020[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0002]). Enter the four SRR accessions from Table 2[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-tbl-0002] as shown in Figure 12[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0012] (each accession needs to be imported separately).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/ee9ba245-2b4c-47ec-8d40-c3d3c4fb5d23/cpbi104-fig-0011-m.jpg</p>\nFigure 11\nScreenshot of the Galaxy dashboard showing the Tools panel on the left and the History panel on the right. You can return to the dashboard by clicking the Galaxy logo or the “Analyze Data” tab at the top of the screen.\nTable 2.\n                SRA Run Accessions Used in the Example Galaxy Workflow\ntable:\n﻿Condition,Accessions\nControl (normal conditions),\"SRR10904051, SRR10904052\"\nTest (amino-acid starvation),\"SRR10904053, SRR10904054\"\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/ffa6aff8-c6d2-4f20-9d46-af7584565344/cpbi104-fig-0012-m.jpg</p>\nFigure 12\nImporting data into Galaxy from the NCBI SRA. Make sure that the output is “Uncompressed fastq.”\n2. Import ncRNA annotations from RNAcentral.\n         \nCopy the following stable FTP address that points to a GFF3 file with RNAcentral annotations for Drosophila melanogaster:\nftp://ftp.ebi.ac.uk/pub/databases/RNAcentral/releases/14.0/genome_coordinates/gff3/drosophila_melanogaster.BDGP6.22.gff3.gz.\nFor reproducibility purposes, the link above refers to RNAcentral release 14, but in general it is recommended to use the most recent RNAcentral version. The up-to-date GFF3 files can be found by navigating to the RNAcentral FTP archive (https://rnacentral.org/downloads[href=https://rnacentral.org/downloads]) and browsing the genome_coordinates folder of the current release.\nb.Go to the Galaxy dashboard and click the arrow icon in the upper right of the Tools panel, select “Paste/Fetch data,” enter the GFF3 file address, and specify “gff3” for the file Type (Fig. 13[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0013]).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/385bd19f-b267-4780-aa02-1ca90521bead/cpbi104-fig-0013-m.jpg</p>\nFigure 13\nUploading RNAcentral genome annotations into Galaxy. Note that the Type is set to “gff3.”\n3. Upload the reference genome.\n         \nSelect the reference genome to use. Depending on the genome, you can download the FASTA format from Ensembl or the UCSC Genome browser (Kent et al., 2002[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0017]).",
    "Ensembl: ftp://ftp.ensembl.org/pub/current_fasta[href=http://ftp://ftp.ensembl.org/pub/current_fasta]\nUCSC Genome browser: ftp://hgdownload.soe.ucsc.edu/goldenPath/[href=http://ftp://hgdownload.soe.ucsc.edu/goldenPath/]\nMake sure that the genome assembly of the reference genome matches the assembly version available in RNAcentral.\nImport the reference genome, as with the RNAcentral GFF3 file in the previous step. Click the arrow icon in the upper right of the Tools panel, select “Paste/Fetch data,” and enter the FASTA file address.\nIn this example, the following Ensembl file is used:\n         \nftp://ftp.ensemblgenomes.org/pub/metazoa/release-46/fasta/drosophila_melanogaster/dna/Drosophila_melanogaster.BDGP6.28.dna.toplevel.fa.gz\n4. Import the Galaxy workflow.\n         \nAt the top of the Galaxy page locate the “Workflow” tab that contains all available workflows.\nClick the “Import” button to upload a Galaxy workflow from a local file (see Supporting Information file RNAcentral-single-end-workflow.ga) or follow the URL below and click the “+” icon to add the workflow to your Galaxy account: https://usegalaxy.org/u/rnacentral/w/current-protocols-workflow[href=https://usegalaxy.org/u/rnacentral/w/current-protocols-workflow].\nGo to the “Workflow” tab again, click the newly imported workflow, and select “Edit” to view the steps (Fig. 14[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0014]).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/c23e37ab-6953-4e71-933a-c90cff7d3363/cpbi104-fig-0014-m.jpg</p>\nFigure 14\nAn overview of the RNAcentral Galaxy workflow. When viewed on the Galaxy website, the diagram is interactive and can be used to examine the data flow from one tool to the next.\n5. Prepare RNA-seq data for differential expression analysis.\nThe data files must be grouped by experimental condition into the Galaxy “Dataset Lists” (for example, healthy and cancerous samples, or different stages of embryonic development). All replicates/samples for each condition must be located in one Dataset List. Make sure that your FASTQ files are unzipped.\n         \nGo the Galaxy dashboard and click the checkbox icon in the History panel. Select all FASTQ replicates/samples that should be in one list (Fig. 15[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0015], left and center).",
    "Click “For all selected…” and select “Build Dataset List” to create a folder with the selected samples (Fig. 15[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0015], right). In this example, SRR10904051 and SRR10904052 should be grouped and called “control” while SRR10904053 and SRR10904054 should be grouped and called “test” or similar.\nIf a sample is subdivided into several FASTQ files (which does not apply to this example), then before creating the Dataset List, the FASTQ files from the same sample should be combined using the “Collapse collection” function (available under “Collection operations” in the Tools section).\nDetailed instructions on combining multiple samples in collections can be found in a Galaxy tutorial (https://galaxyproject.org/tutorials/collections/[href=https://galaxyproject.org/tutorials/collections/]).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/63b2ecca-1e2e-4a95-afe1-94fa3e567d65/cpbi104-fig-0015-m.jpg</p>\nFigure 15\nCreating a “control” Dataset List from SRR10904051 and SRR10904052. This operation should be repeated to create a “test” Dataset List for SRR10904053 and SRR10904054.\n6. Run Galaxy workflow.\nThe main purpose of this workflow is the DE analysis of ncRNAs under different conditions. The workflow aligns the FASTQ files onto the reference genome to produce BAM files, analyses the alignments, counts reads using the RNAcentral annotations, normalizes count matrices, and performs the DE analysis using DESeq2.\n         \nClick “Workflows” at the top of the webpage, select the imported workflow and choose “Run.”\nSelect workflow inputs (Fig. 16[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0016]):\ncontrol: a Dataset List containing the control samples. In this example, it is the dataset list containing files SRR10904051 and SRR10904052 where cells were grown under normal conditions\ntest: a Dataset List containing samples subjected to amino-acid starvation (files SRR10904053 and SRR10904054)\nreference genome: the Drosophila melanogaster reference genome\nncRNA annotation: RNAcentral ncRNA annotations or any other annotations in GFF3 format",
    "c.Change individual tool settings. Depending on the sequencing technology, the strand-specificity options need to be specified for the HISAT2 and featureCounts tools. Since in this example the sample was prepared using the Illumina TruSeq Stranded Total RNA library kit, the “Reversed” option should be selected in test and control steps for HISAT2 and featureCounts (Fig. 17[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0017]). When following this protocol for analyzing different datasets, make sure to specify the correct strandedness depending on your specific use case.\nd.Click “Run workflow.”\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/51ce4319-820f-40cb-b581-56431dea1bce/cpbi104-fig-0016-m.jpg</p>\nFigure 16\nSelecting Galaxy workflow inputs. Here “control” and “test” refer to the Dataset Lists with normal and starvation samples.\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/648dc843-a3c7-4320-9179-742c8bfc909e/cpbi104-fig-0017-m.jpg</p>\nFigure 17\nConfiguring HISAT2 and featureCounts tools in Galaxy for analyzing test and control data (all four parameters should be set to “Reversed” for this example).\n7. Examine workflow outputs.\nWhen all tasks in the History panel turn green, the results are ready and you should see the following outputs:\n         \nA selected_annotation GFF3 file containing ncRNAs with statistically significant changes in expression levels between the control and test conditions. Click the eye icon (Fig. 18[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0018], left) to view the data (Fig. 18[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0018], right).\nDEseq2 output files (DESeq2_results, a table containing p-values and other statistics for each ncRNA, DESeq2_plots with DESeq2 graphical outputs, and DESeq2_normalized_table, a table with normalized read counts).\nIn addition, the History panel will contain quality control reports from FASTQC, alignments of the reads to the reference genome (BAM format), and Count read matrix for all samples.\nThe precomputed results are stored in a public Galaxy history and can be viewed at https://usegalaxy.org/u/rnacentral/h/rnacentral-cpb-protocol[href=https://usegalaxy.org/u/rnacentral/h/rnacentral-cpb-protocol].\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/646f2fdc-771e-41f2-955a-889eff53d77f/cpbi104-fig-0018-m.jpg</p>\nFigure 18\nViewing selected_annotation output file. Left: Output file in the History panel. Clicking the eye icon shows file contents. Right: The RNAcentral entries with statistically significant changes in expression. The RNAcentral IDs are found in the last column.",
    "8. Visualize results locally using IGV.\nTo visualize the genome location of the differentially expressed ncRNAs, you can use the IGV software (Robinson et al., 2011[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-bib-0030]).\n         \nTo specify the species and the genome assembly of the output GFF3 file, find the selected_annotation file in the History panel and click “Edit attributes” pencil icon. Next, choose the dm6 genome assembly in the “Database/Build” drop-down list.\nOpen the IGV application on your computer and click “display with IGV local” in the Galaxy History panel. You can navigate the genome to zoom in to the differentially expressed RNAs shown in the selected_annotation IGV track (Fig. 19[href=https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpbi.104#cpbi104-fig-0019]).\n<p>imgsrc:https://currentprotocols.onlinelibrary.wiley.com/cms/asset/a4249604-5f42-49d2-81d2-a07190e2ff4d/cpbi104-fig-0019-m.jpg</p>\nFigure 19\nLocal IGV browser showing an example differentially expressed lncRNA CR44218 (URS0000068A58_7227)."
  ],
  "subjectAreas": [
    "Bioinformatics"
  ],
  "bigAreas": [
    "Bioinformatics & Computational Biology"
  ]
}