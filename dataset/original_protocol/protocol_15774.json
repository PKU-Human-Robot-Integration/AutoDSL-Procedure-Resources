{
  "id": 19600,
  "origin_website": "Jove",
  "title": "Assessment of Swim Endurance and Swim Behavior in Adult Zebrafish",
  "procedures": [
    "Adult zebrafish of the Ekkwill and AB strains were maintained at the Washington University Zebrafish Core Facility. All animal experiments were performed in compliance with IACUC institutional animal protocols.\nNOTE: An example of the experimental setup is shown in Figure 1A. The calibration lid (customized), swim endurance lid (customized), and swim behavior lid (standard, enclosed tunnel lid) are shown in Figure 1B. The experimental workflow is presented in Figure 2.\n1. Swim tunnel preparation and calibration\nFill the swim tunnel and surrounding buffer tank with zebrafish system water (10 L filtered water; alkalinity: 50-150 mg/L CaCO3; pH: 6.8-7.5; temperature: 26-28.5 °C; nitrate < 50 mg/L; nitrite < 0.1 mg/L; and salinity < 0.5-1 g/L).\nFill an additional flow-through tank with zebrafish system water (≈7.5 L). Position the swim tunnel and flow-through tank to allow for excess zebrafish system water to flow from the buffer tank into the flow-through tank through an outflow tube secured on the side of the buffer tank.\nOnce the tunnel and buffer tank are filled, perform the following.\n\t\nPlace the flush pump inside the buffer tank and connect it to the adjacent swim tunnel with PVC tubes. Place the flow-through pump inside the flow-through tank and connect it to the wall of the buffer tank.\nTurn on the flush pump located inside the buffer tank and the flow-through pump located in the flow-through tank to begin water circulation.\n\t\tNOTE: The dual pump system will ensure continuous water flow into the swim tunnel (from the flush pump) and into the buffer tank (from the flow-through pump).",
    "Clear any air bubbles trapped inside the swim tunnel by gradually increasing the water current velocity from 10 cm/s to 100 cm/s in intervals of 10 cm/s. Decrease the velocity back to 0 cm/s in intervals of 10 cm/s. To control flow velocity, click the up and down arrows in the Velocity section of the flow velocity control software (see Table of Materials).\n\t\tNOTE: The motor and rotor are connected to the accompanying computer. The flow velocity control software communicates with the motor to create the desired flow velocity. The use of the flow velocity control software is optional. The alternative is to manually control the water current motor.\nCalibration\n\tNOTE: Calibration is required before each experiment.\n\t\nUse the calibration lid to close the swim tunnel.\n\t\tNOTE: The calibration lid is customized with a reinforced central opening that fits the flow meter probe used for calibration (Figure 1B). Eight wingnuts are used to secure all the lids to the tunnel.\nTurn on the digital flow meter and connect it to the flow meter probe. Place the flow meter probe inside the swim tunnel via the calibration lid. Position the blades of the flow meter probe perpendicular to the direction of the flow.\nCalibrate the output of the swim tunnel motor (controlled with the flow velocity control software) using the digital flow meter. To do this, perform the following steps.\nOpen the flow velocity control software and click Calibration.\nChange the options on the top left to RPM vs Voltage. Increase the flow velocity from 0 cm/s to 100 cm/s in 5 cm/s increments, by typing the values in the Velocity section of the flow velocity control software. At each step, click the \"+\" button and record the current velocity indicated by the digital flow meter.",
    "NOTE: The resulting linear relationship should have an R2 value close to 1.\nTo confirm calibration, increase the water current velocities from 0 to 10, 25, 50, 75, and 100 cm/s, and then decrease velocities to 75, 50, 25, 10 cm/s using the up and down arrows in the Uwater [cm/s] section of the flow velocity control software. At each velocity (from the software), measure and record the corresponding velocity indicated by the digital flow meter.\nConsider the tunnel calibrated and accurate if the measured water current velocities are within a deviation of ±2 cm/s. If the deviation is beyond ±2 cm/s, repeat steps 1.4.4 to 1.4.6 to ensure proper calibration.\n2. Assessment of swim endurance\nNOTE: Experimental groups are divided into groups of 10 or fewer animals for swim endurance.\nSet up the flow velocity control software.\n\tNOTE: The use of the flow velocity control software in this section is optional. The alternative is to manually control the water current motor. For manual water current control, proceed to step 2.3 and manually increase the water current velocity in the specified increments in steps 2.5 and 2.6.\n\t\nOpen the flow velocity control software. Click the box labeled Experiment. Uncheck Uswim and Uwater.\nChange the flow speed in the Uwater [cm/s] box on the bottom left for adjusting water current velocities.\nTo begin an automated protocol, click on the Start Logging box. In the dialog window that opens, choose Automated from the dropdown list.\nTo choose a previously saved protocol file, click on the file icon next to Protocol File to open the desired protocol.\nSet up the output file by clicking on the file icon next to Log File. In the file explorer window that opens, name the output file and save it in the desired location.",
    "Set up a split lap timer window. Make sure to have simultaneous access to the flow velocity control software and timer windows on the computer screen.\nSet up a fish collection tank to house exhausted fish after their removal from the swim tunnel. Fill the collection tank with zebrafish system water (0.75 L). Fill a long PVC tube with zebrafish system water.\n\t\nPlace one end (end 1) of the prefilled PVC tube in the collection tank and the other end (end 2) in the buffer tank. Make sure water can freely flow from the buffer tank into the collection tank.\nClamp the upper end of the PVC tube (end 2) with a binder clip to prevent water flow. Use the binder clip to control the outflow of water as needed.\nClose the swim tunnel using the swim endurance lid.\n\tNOTE: The swim endurance lid is customized with a swim tunnel window to remove exhausted fish from the swim tunnel, without interrupting the rest of the assay (Figure 1B).\nPlace one group of fish inside the swim tunnel. Start the split lap timer while adjusting current velocity to 0 cm/s for 5 min, 9 cm/s for 5 min, and 10 cm/s for 5 min by typing these values in the Uwater [cm/s] section of the flow velocity control software.\n\tNOTE: This step will acclimate animals to the swim tunnel and flow direction.\nFollowing acclimation of fish, start the automated flow velocity control program that will increase water current velocity by 2 cm/s every min.\n\tNOTE: Fish will swim until exhaustion. Exhausted fish are pushed toward the back end of the swim tunnel.",
    "When a fish is exhausted, unclamp the fish collection tube, open the swim tunnel window and collect the fish in the collection tank. Record the time at exhaustion using the split lap timer.\n\tNOTE: Fish can occasionally drift to the back end of the swim tunnel without being exhausted. To ensure a fish is exhausted, gently tap the back end of the tunnel or create a shadow over that area to stimulate the fish to swim. Exhausted fish do not respond to the startle stimulus and lay flat at the back end of the tunnel.\nRepeat step 2.7 until all the fish are exhausted and collected in the collection tank. Click the Emergency Stop button on the flow velocity control software and stop the timer.\n\tNOTE: Double-check throughout the swim whether the number of fish removed from the swim tunnel chamber matches the times recorded.\nRepeat steps 2.5 to 2.8 for each group of fish.\n\t​NOTE: The protocol can be paused here, but to be accurate to the time point after injury, it is recommended that movies and endurance swims be performed on the same day. The tunnel can continue circulating while experiments are paused.\n3. Capturing videos for swim behavior assay\nNOTE: Only up to five animals can be tracked at a time. If experimental groups are larger than five animals, multiple videos can be taken for each group, where the first video tracks five or fewer animals and the second video tracks the other five or fewer animals. For longitudinal studies that aim to track individual animals over time, fish can be individually housed and tracked across multiple time points. All scripts for tracking and analyzing are available via GitHub (see Table of Materials).",
    "Turn on the Infrared light panel located under the swim tunnel. Secure the camera on a ceiling mount on top of the swim tunnel. Adjust focus and aperture rings.\n\tNOTE: Focus and aperture settings depend on the distance between the camera and the swim tunnel, as well as the light environment.\nOpen the camera recording software (see Table of Materials). Set the software settings as follows.\n\t\nClick the 1:4 aspect display. Make sure that the field of view covers the entire swim tunnel. Turn off auto-contrast and auto-white balance to normalize the background and contrast across groups.\nOpen the Camera Properties window by clicking on the wrench icon. Set the parameters as follows: Pixel Clock: 344 MHz, Frame Rate: 70 fps, click on the box next to Hold to check it, Exposure Time: 0.290 ms. Do not close this window.\nCrop the Recording Window to cover only the swim chamber of the tunnel by tilting/turning the camera as needed.\nOpen the Recording Window by clicking on the film reel icon. Set the recording settings as follows:\n\t\nCheck the box for the maximum number of frames.\nManually input 63,000 for the number of frames.\nCheck the box for Calc. Frame Rate. This allows the program to pull the frame rate defined in step 3.2.2 (70 fps).\nChange the JPEG Quality to 30.\nRecord a test run.\n\t\nClick on Create and name the new file Test and save it on the desktop.\nGo back to the recording window and click Record. Let the test movie run for the entire duration of the protocol (15 min).\nOnce the test is finished, ensure that there are no dropped frames and that 63,000 frames are recorded.",
    "Place a group of fish in the swim tunnel and close the tunnel using a standard fully enclosed lid (Figure 1B).\n\tNOTE: Ensure all the fish are in the tunnel before fully tightening the lid. Make sure there are no air bubbles under the lid. This will otherwise affect the results.\nOpen a new recording window and name the file. Example: 2_A_1_00001_WildtypeGroupA.avi\n\tNOTE: Ensure that the settings are according to the parameters in steps 3.2 and 3.3. The JPEG Quality will always go back to default and needs to be reset for each new movie.\n\tCAUTION: Do not click record yet.\nBegin a new experiment using the flow velocity control software.\n\tNOTE: To begin an automated protocol, click the Start Logging box. In the dialog window that opens, choose Automated from the dropdown list. To choose a previously saved protocol file, click on the file icon next to Protocol File to open the desired protocol.\n\t\nTo begin a manual protocol, set the flow speed to 0 cm/s for 5 min, 10 cm/s for 5 min, followed by 20 cm/s for 5 min using the Uwater [cm/s] box in the flow velocity control software.\nSave the new data output file (will be saved as a .csv file) under the same name as the movie file and in the same folder.\n\t\tCAUTION: Do not click start yet.\nPlace a paper towel or piece of fabric on the side of the swim tunnel to ensure all behaviors are due to fish swimming and not due to a startle response caused by movement in the environment.",
    "In quick succession, make sure water is calm and no ripples are moving across the frame. Click Record in the camera software window to start recording the movie file. Click Start in the flow velocity control software to begin the protocol, which will continue uninterrupted.\nWatch the movie to make sure that no frames are dropped, that there are no bubbles in the field of view, and that all fish are recorded.\nOnce the movie recording is completed, click on Emergency Stop to end the flow velocity control protocol. Check for the data output file that is saved automatically. Click Close on the Recording Window to save the movie file.\nRemove the lid. Carefully retrieve the fish and return them to their tank.\nRepeat steps 3.5 to 3.12 for all groups of fish.\nOnce the movie recording is finished for all the groups, convert movies from 70 fps videos to 20 fps videos with the MovieProcessing_v5.bat script. To do this, move the script file to the folder containing the raw videos. Right-click on the file and choose Run.\n\tNOTE: The script runs automatically. A command prompt window will come up showing the progress of the script. The above step is optional. It reduces the number of frames in a 15 min video from 63,000 to 18,000 frames and makes the SwimBehavior_v7.R script run more quickly.\nEmpty the tunnel and put away all the equipment.\n4. Analyzing movies for swim behavior assessment\nNOTE: Movie recording and analysis can be completed on separate days.",
    "Open the Tracking_v2.ijm script in Fiji and click Run to begin the program. In the window that pops up, choose the folder containing the swim behavior movies to track and click Open. Look for frame 1 of the first movie, a dialog box, and the region of interest (ROI) manager that will come up.\nFollow the directions given in the dialog box. Create an ROI of the bottom of the swim tunnel chamber and click OK. Ensure that no black corners are seen.\n\tNOTE: The threshold window will open along with an edited, thresholded Frame 1.\nChange the color scheme from B&W to Red. Adjust the Max Value until frame 1 shows the fish in red and nothing else. Record the threshold. Click OK in the dialog box.\n\tNOTE: The program will automatically run. The ROI that was made for Frame 1 will be continuously selected and unselected for subsequent frames. A progress bar will monitor the process in the bottom-right corner of the Fiji window. Tracking takes about 40 min per movie. When all the movies are tracked, the Fiji program will stop. The ROI will stop being selected. The folder containing the movies will now have a _raw.csv file for each movie. Fiji can be closed at this point.\nAligning, assembling, and acquiring descriptive statistics\n\t\nOpen the Swim Behavior_v7.R script in R Studio.\nClick on Source in the top-right corner of the script section. In a new window that opens, choose the folder containing the _raw.csv files generated by Fiji. Click Open.\n\t\tNOTE: The program will run automatically.\nIn a dialog box that pops up asking to confirm the number of fish in each movie, click Yes if the numbers given are correct, or click No if the numbers are incorrect.",
    "NOTE: If No was clicked, a message will pop up asking that the movies be re-tracked with a new ROI and threshold. If Yes was clicked, the program will proceed.\nIn the new window that opens asking whether the non-swimming fish should be removed, click Yes or No.\n\t\tNOTE: Non-swimming fish is defined as fish with less than 50% activity at 10 cm/s. It is not recommended that non-swimming fish be removed.\nIn a new pop-up window that asks whether the groups are unblinded and whether the user would like to combine any groups, unblind or combine groups if there is more than one control group.\nAfter a response is given for the previous question, ensure that the program gives a message Aligning file X of Y, where X is the current file being aligned and Y is the total number of files to align. It takes about 30 s for each file to be aligned.\nOnce the files are aligned, check for a new .csv file generated with the same name (_aligned.csv). Ensure that the program combines the data, runs statistics, and plots output graphs. Check for the analysis files generated in a new folder labeled Results within the parent folder that contains the _raw.csv and _aligned.csv files.\nWithin the Results folder, check for two folders named Diagnostics and Graphs and four .csv files named BulkData_Avg, BulkData_Full, SummaryData_Avg, and SummaryData_Full.\n\tNOTE: The SummaryData_Full.csv contains the individual data for each fish in each group at each time point. This data is automatically plotted but can be extracted and plotted elsewhere.\n\t\nEnsure that the Graphs folder contains the graphs generated by the program and .csv files containing the data points for each graph.\nEnsure that the Diagnostics folder contains a single .csv file with diagnostic data for aligned files.",
    "NOTE: Columns in the Diagnostics.csv file include the following: a) The number of frames containing extra objects, which should be less than 100. Too many frames with extra objects suggest a problem with the tracking. b)The number of frames with missing or merged objects. It is normal for this metric to be high. Fish that have not regenerated well will frequently be swept to the back of the tunnel and will be counted as missing. c) Frames with more than 240-pixel jumps. This number increases with the number of objects (fish) in a single movie. A detailed explanation of how the behavior metrics were calculated is provided in Supplementary File 1.\nSubscription Required. Please recommend JoVE to your librarian."
  ],
  "subjectAreas": [
    "Neuroscience"
  ],
  "bigAreas": [
    "Biomedical & Clinical Research"
  ]
}