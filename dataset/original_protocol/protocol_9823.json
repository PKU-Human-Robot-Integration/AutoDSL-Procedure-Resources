{
  "id": 10234,
  "origin_website": "Jove",
  "title": "Finite Element Modelling of a Cellular Electric Microenvironment",
  "procedures": [
    "1. Build the model in COMSOL\nOpen COMSOL and select Blank Model.\nParameters: In Model Builder, right click on Global Definitions, select Parameters, and add parameters according to Table 1.\nMaterials: Add materials with properties according to Table 2.\n\t\nIn the Model Builder under Global Definitions, right click Material and select Blank Material.\nAdd Material Properties: In the settings of the newly added material, expand Material Properties > Basic Properties, select Relative Permittivity and press the '+' symbol to add property. Repeat the step for Electrical Conductivity.\nIn the Material Contents, fill in the current material properties according to Table 2.\nComponent definition: In the Home tab of the top ribbon, left click Add Component and select 3D. A new component node will appear in the Model Builder.\nGeometry: In the Model Builder, right click Geometry, left click insert, double click on the Full Model and select the appropriate sequence (SC/SNC/RC/RNC/RNCd).\nAlternatively, build the geometry from scratch following the subordinate steps.\n\t\nIn the Model Builder, left click Geometry under the current component node. The same Geometry node will be referred in the following subordinate steps. In the Settings window, change the Length unit to nm and make sure \"Scale values when changing units\" is left unchecked.\nGeometry of scaffold\n\t\t\nIn the Model Builder, right click on Geometry and select Block.\nIn the Settings tab, fill in the Label \"Scaffold extents\".\nExpand Size and Shape and fill in \"Ws\", \"Ls\", \"Hs\" for Width, Depth and Height.\nExpand Position and change the Base to Center.\nExpand Selections of Resulting Entities, select New and add \"Scaffold Selection\".\nExtents of surrounding substance: In the Model Builder, under Geometry, right click Scaffold extents and select Duplicate, and edit Settings tab.\n\t\t\nChange the label to \"Media extents\".",
    "To each box in the Size and Shape section, add \"med_ratio *\" before the existent parameter.\nIn the Selections of Resulting Entities, add New selection as \"Media Selection\".\nGeometry of a fiber (SC skip to 1.6.6)\n\t\t\nCore (RC skip to 1.6.4.2)\n\t\t\t\nIn the Model Builder, right click Geometry, select Cylinder, and edit Settings tab as follows.\nChange the label to \"Core\".\nExpand Size and Shape and fill in \"Rc\" and \"Lf\" for Radius and Height.\nExpand Position and fill in \"-excess*Ws/2\" and \"-Lf/2\" for x and y.\nExpand Axis and change Axis type to y-axis.\nExpand Selections of Resulting Entities and add \"Core Selection\".\nCoat (SNC skip to 1.6.5)\n\t\t\t\nSlab (RC or RNC skip to 1.6.4.2.2; RNCd skip to 1.6.4.2.3)\n\t\t\t\t\nIn the Model Builder under Geometry, right click Scaffold extents and select Duplicate. Make sure the duplicate (Scaffold extents 1) comes right after Core in the geometry sequence.\nIn the Settings tab, change label to \"Coat\".\nIn the Settings tab, expand Selections of Resulting Entities and create \"Fiber Selection\".\nSkip to 1.6.5.\nHomogenous\n\t\t\t\t\nIn the Model Builder right click Geometry, select Cylinder and edit its Settings tab as follows.\nChange the label to \"Coat\".\nExpand Size and Shape and fill in \"Rf\" and \"Lf\" for Radius and Height.\nExpand Position and fill in \"-excess*Ws/2\" and \"-Lf/2\" for x and y.\nExpand Axis and change axis type to y-axis (RC skip to 1.6.4.2.2.7).\nExpand Layers, fill in \"Rf-Rc\" for Thickness and leave only \"Layers on side\" checked.\nExpand Selections of Resulting Entities and add \"Coat Selection\" or, for RC, \"Fiber Selection\" (RC skip to 1.6.5).\nIn the Model Builder, right click Geometry and select Delete Entities.\nIn the Settings tab, change Geometric Entry Level to Domain and choose Coat Selection for Selection.",
    "Remove all domains but domain 3 from the selection box (the core of the layered cylinder).\nExpand Selections of Resulting Entities and select Coat Selection.\nSkip to 1.6.5.\nPeriodic array of two types\n\t\t\t\t\nIn the Model Builder, right click Geometry and select Cylinder. Right click the newly created element and select Duplicate. Edit their Settings tab as follows.\n\t\t\t\t\t\nSet Label to \"Coat 1\" / \"Coat 2\".\nSet radius to Rf.\nSet height to \"D*prop\"/\"D*(1-prop)\".\nExpand position and fill in \"-excess*Ws/2\" for both on x and \"-Lf/2\"/\"-Lf/2+D*prop\" on y.\nExpand Axis and change axis type to y-axis.\nExpand Layers section and fill in \"Rf-Rc\"; Make sure only the \"Layers on side\" box is checked.\nExpand Selections of resulting entities and create \"Coat 1 Selection\"/ \"Coat 2 Selection\".\nIn the Model Builder, right click Geometry and select Delete Entities.\n\t\t\t\t\t\nIn the Settings tab, change Geometric Entry Level to Domain and select cylinder 2 (cyl2) and cylinder 3 (cyl3) from the graphics window.\nRemove all domains but domain 3 from the selection box (the core of the layered cylinders).\nExpand Selections of Resulting Entities and create Coat Selection.\nIn the Model Builder, right click Geometry, expand Transforms and select Array. Edit Settings tab as follows.\n\t\t\t\t\t\nSelect \"Coat Selection\" for Input objects.\nSet Array type to Linear.\nSet Size to \"Lf/D\".\nSet Displacement on y axis to \"D\".\nGeometry of an oriented fiber array\n\t\t\nCore Array (RC skip to 1.6.5.2)\n\t\t\t\nIn the Model Builder, right click Geometry, Expand Transforms and select Rotate.\n\t\t\t\t\nIn the Settings tab, turn on the Input objects Switch and select Core Selection from the dropdown list. Make sure Keep input objects box is not checked.\nExpand Rotation Angle and fill in \"theta\" for Rotation.\nExpand Selections of Resulting Entities and create \"Fiber Selection\".",
    "In the Model Builder right click Geometry, Expand Transforms and select Array.\n\t\t\t\t\nChange label to \"Core Array\".\nSelect Core Selection in the dropdown list for Input objects.\nExpand Size, change Array type to Linear and fill in \"n_1*(theta<=45) +n_2*(theta>45)\" for Size.\nExpand Displacement and fill in \"2*tes*Rc*cos(theta)\", \"2*tes*Rc*sin(theta)\" for x and y.\nExpand Selections of Resulting Entities and select \"Fiber Selection\".\nCoat Array (SNC skip to 1.6.5.3)\n\t\t\t\nIn the Model Builder, right click Geometry, Expand Transforms and select Rotate.\n\t\t\t\t\nIn the Settings tab turn on the Input objects Switch and select Coat Selection from the dropdown list. Make sure \"Keep input objects box\" is not checked.\nExpand Rotation Angle and fill in \"theta\" for Rotation.\nExpand Selections of Resulting Entities and select \"Fiber Selection\".\nIn the Model Builder, right click Geometry, Expand Transforms and select Array.\n\t\t\t\t\nChange label to \"Coat Array\".\nSelect Coat Selection in the dropdown list for Input objects.\nExpand Size, change Array type to Linear and fill in \"n_1*(theta<=45) +n_2*(theta>45)\" for Size.\nExpand Displacement and fill in \"2*tes*Rc*cos(theta)\", \"2*tes*Rc*sin(theta)\" for x and y.\nExpand Selections of Resulting Entities and select \"Fiber Selection\".\nCut Scaffold\n\t\t\t\nUnite Fibers: In the Model Builder right click Geometry, Expand Booleans and Partitions and select Union.\n\t\t\t\t\nChange label to \"Fibers\".\nTurn on Input objects switch and select Fiber Selection from the dropdown list.\nMake sure \"Keep input objects\" box is not checked.\nMake sure \"Keep interior boundaries\" is checked.\nExpand Selections of Resulting Entities and select Scaffold Selection from the dropdown list.\nPerform cut: In the Model Builder right click Geometry, expand Booleans and Partitions and select Intersection.\n\t\t\t\t\nChange label to \"Scaffold\".\nTurn on the Input objects switch and select Scaffold Selection from the dropdown list.\nMake sure \"Keep input objects\" box is not checked.\nMake sure \"Keep interior boundaries\" is checked.",
    "Ensemble Geometry\n\t\t\nDefine surrounding substance geometry.\n\t\t\t\nIn the Model Builder, right click Geometry, expand Booleans and Partitions and select Difference. Continue to the Settings tab.\nIn the Objects to add dropdown list, select Media Selection.\nIn the Objects to subtract dropdown list, select Scaffold Selection.\nMake sure \"Keep input objects\" and \"Keep interior boundaries\" boxes are both checked.\nDelete Media extents box.\n\t\t\t\nIn the Model Builder, right click Geometry and select Delete entities. Continue to the Settings tab.\nSelect Domain from the Geometric entry level dropdown list.\nSelect Media Selection from the Selection dropdown list.\nRemove \"dif1\" from the selection box.\nBuild geometry\n\t\t\nUnder the Geometry node, make sure the last element before the Cumulative Selections node is Form Union and not Form Assembly. If necessary, right click Form Assembly and change Action to \"Form a union\" in the Settings tab.\nIn the Model Builder, left click Geometry and select Build All.\nMaterials\n\t\nIn the Model Builder under the Current component node, right click Materials and select Material Link.\nRepeat section five times for as many times as many materials are considered according to the complexity level.\nAssociate materials for each component in the following order: surrounding substance, coats, cores.\nIn the Settings tab, choose Media/Scaffold (for SC, SNC, RC)/Coat/Core Selection from the Selection dropdown list.\nExpand the Link settings and choose appropriate material from the dropdown list.\nMeshing\n\t\nIn the Model Builder, left click the Mesh node under the current component.\nIn the Settings tab, select Normal from the Element size dropdown list and left click Build All.\nPhysics: In the Model Builder, left click current component, select Add Physics, expand the AC/DC module in the Add Physics tab, select the Electric Currents (ec) module and click Add to Component.",
    "Boundary conditions: In the Graphics tab, select the xy view.\n\t\t\nGround: In the Model Builder, right click on the Electric Currents node and select Ground.\nMake sure the selection switch for the Boundary Selection is Active and left click on the highest surrounding substance face parallel to the xz plane to add boundary 5 in the Boundary Selection Box.\nTerminal: In the Model Builder, right click on the Electric Currents node and select Terminal.\nMake sure the selection switch for the Boundary Selection is Active and left click on the lowest surrounding substance face parallel to the xz plane to add boundary 2 in the Boundary Selection Box.\nExpand the Terminal section and select Voltage in the Terminal type dropdown list; fill in V0 for Voltage.\nAdd complexity if needed: Save current component and go back to Step 1.4 to follow another complexity path (SC/SNC/RC/RNC/RNCd).\n2. Perform simulation\nAdaptive mesh refinement\n\t\nIn Model Builder, left click the model root node and select Add Study to open the Add Study tab, select Stationary Study and right click Add Study button.\nCreate a study step for each created component: under Study node right click Step1: Stationary Study and select Duplicate.\nFor each study step modify the settings tab with the details of the corresponding component.\n\t\t\nExpand Physics and Variables Selection; in the Solve for column leave only the current component checked.\nExpand Study Extensions and check Adaptive mesh refinement box.\nSelect current component's geometry from the dropdown list next to Adaptation in geometry.\nIn Model Builder right click Study 1 and select Compute. This will generate adapted meshes for all the components' geometries with their current orientation angle.\nSet orientation angle and perform a stationary study.",
    "In Model Builder, under Global definitions, left click Parameters and change parameter theta to the fiber orientation angle desired for simulation.\nFor each component, in the Model Builder expand the component's node, right click Geometry and select Build all.\nIn Model Builder, right click the adaptive mesh refinement study and select compute.\nIn Model Builder left click the model root node and select Add Study to open the Add Study tab, select Stationary Study and right click Add Study button.\nIn Model Builder, under the newly added study, left click Step 1, expand mesh selection and, for each component, select the meshes generated in the adaptive mesh refinement study.\nRight click Compute button.\nSet orientation angle, input signal and perform time dependent study.\n\t\nIn Model Builder, under Global definitions, left click Parameters and change parameter theta to the fiber orientation angle desired for simulation.\nIn the Model Builder, left click the model root node and select Add Study to open the Add Study tab. Select Time Dependent Study, left click Add Study button and edit Settings tab as follows.\n\t\t\nSet Times to \"range(0, (2*pi/omega)/39,2*pi/omega)\".\nExpand Physics and Variables Selection; leave only the simulation component \"Solve for\" check box checked.\nExpand Mesh selection and select a mesh for the simulation component. Change the other components' meshes to No mesh.\nExpand Study Extensions and check the Adaptive mesh refinement box; select the simulation component's geometry from the dropdown list.\nDefine time dependent boundary condition.\n\t\t\nUnder the current component node right click Definitions and under Functions select Waveform.\nIn the Settings tab change Function name to \"Input\".\nExpand Parameters, set Type to Sine, Angular frequency to \"omega\", Amplitude to V0.\nFor the simulation component, under its Electric Currents node, select Terminal and change Voltage to \"Input(t[1/s])\".\nRight click Compute button.\n3. Analysis",
    "Charge density\n\t\nIn the Model Builder right click Results node, select 3D Plot Group and edit Settings.\n\t\t\nChange label to \"Charge density\".\nExpand Data and select the Parametric study dataset in the Data set dropdown list.\nExpand Color Legend and check \"Show legends\" and \"Show maximum and minimum values\".\nRight click Charge density under the Results node in the Model Builder and select Volume; proceed to edit Settings tab.\n\t\t\nExpand Data and select \"From parent\" from Data set dropdown list.\nExpand Expression and fill in \"ec.rhoq\" in the Expression box.\nExpand Range and check Manual color range box.\n\t\t\t\nSet minimum to \"-0.03\" and maximum to \"0.03\".\nExpand Coloring and Style, set Coloring to Color table, Color table to Wave, check Color legend box, check Symmetrize color range.\nRight click Volume in Model Builder and select Filter.\n\t\t\t\nIn the Settings tab fill in \"abs(ec.rhoq)>0.012\" in the Logical expression for inclusion.\nLeft click on the Plot button to visualize results in the graphics window.\nCurrent density\nIn the Model Builder right click the Results node, select 3D Plot Group and edit the Settings tab.\n\t\t\nChange label to \"Current density\".\nExpand Data and select the Parametric study dataset in the Data set dropdown list.\nExpand Color Legend, check \"Show legends\" and \"Show maximum and minimum values\".\nRight click Current density under the Results node in Model Builder and select Arrow Volume; proceed to edit Settings tab.\n\t\t\nExpand Data and select \"From parent\" from Data set dropdown list.\nExpand Expression and fill in \"ec.Jx\", \"ec.Jy\", \"ec.Jz\" in the Expression boxes for the x, y and z components respectively.\nExpand Arrow positioning and fill in 20 for all coordinates number of points.\nExpand Coloring and Style, set Arrow length to Normalized, Arrow base to Center, check Scale factor and set it to 85.",
    "Right click Arrow Volume in Model Builder and select Color Expression.\n\t\t\t\nIn the Settings tab fill in \"ec.normJ\" in the Expression box.\nExpand Coloring and Style, set Color table to Traffic, check Color legend and Reverse color table.\nClick on the Plot button to visualize results in the graphics window."
  ],
  "subjectAreas": [
    "Bioengineering"
  ],
  "bigAreas": [
    "Bioengineering & Technology"
  ]
}