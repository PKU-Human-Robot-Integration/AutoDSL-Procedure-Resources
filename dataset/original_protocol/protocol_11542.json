{
  "id": 12344,
  "origin_website": "Jove",
  "title": "Automated Analysis of a Nematode Population-based Chemosensory Preference Assay",
  "procedures": [
    "1. Behavior Chamber Assembly\nNOTE: The behavior chamber consists of an approximately cube-shaped frame made of extruded aluminum bars, covered with opaque fabric covers, with a clear acrylic bottom and camera supports. Joints between the extruded aluminum bars forming the behavior chamber are all perpendicular and are secured using \"L\"-shaped corner brackets (1-inch wide with 1-inch legs) that fasten one corner bracket leg to each bar with screws and slide-in T-nuts. Each joint is secured with either one or two corner brackets as described below. The fabric covers over the chamber are attached to the aluminum frame bars with the same screws and slide-in T-nuts but through grommets in the corners of the fabric. Screws are properly inserted into the countersunk side of the slide-in T-nuts, not into the side with the protruding lip. When attaching a screw/T-nut fastener assembly to an aluminum bar, slide the T-nut into the channel on the appropriate face of the bar with the head of the screw sticking out of the slot.\nPrepare fabric covers.\nUse scissors to cut five pieces of the opaque polyester fabric to cover the top and four sides of the chamber.\n\t\t\nCut one square 14 x 14 inch2 sheet of fabric for the top of the chamber. Cut four rectangular 11 x 14 inch2 sheets of fabric for the sides of chamber.\nInstall grommets at the corners of the fabric sheets.\n\t\t\nMark a reference line 0.5 inch from each edge of all five polyester fabric sheets using a pencil and straightedge.\nFor the four rectangular sheets, use grommet pliers to insert grommets centered where the pencil lines intersect at each corner (that is, 4 grommets per sheet).",
    "For the square sheet, insert two grommets along each edge with each grommet centered on the pencil line and positioned 1.5-inches from the end of each of the four pencil lines (that is, 8 grommets total, two near each corner).\nInsert a screw into each grommet hole and loosely attach a T-nut to each.\nFabricate camera mount bars.\nUse a band saw or equivalent to cut one 2 inch long piece of aluminum extrusion bar for each camera, ensuring the cut end of the bar is perpendicular to the bar length to ease later assembly.\nUse a drill press with a 0.25 inch diameter drill bit to drill a hole through the center webs of each camera mount bar, 0.75 inches from one end such that the hole is perpendicular to the top and bottom faces and passes through the centerline of the bar. Optionally, drill the hole using a handheld electric drill with a 0.25 inch drill bit, but ensure that the hole is perpendicular to the top and bottom faces of the bar.\nPrepare all corner brackets.\nInsert a screw through the hole in each corner bracket leg, inserting the screw from the inside angle side. Loosely thread a T-nut onto each screw.\nPrepare the camera mount assembly (Figure 1B, layer 2).\n\tNOTE: The camera mount assembly is an \"H\"-shaped assembly that supports the three camera holsters.\n\t\nAttach the camera mount bars to the center bar of the camera mount assembly.\n\t\t\nLay out the three camera mount bars fabricated in step 1.2 with the drilled holes oriented vertically. Slip two corner brackets onto the sides of each mount bar at the end furthest from the drilled hole.",
    "Position the corner brackets with the brackets' legs flush with the end of the bar and tighten the screws to secure in place. This forms a \"T\" shape with the drilled hole at the bottom of the \"T\".\nLay a 1 foot aluminum extrusion on the work surface. Slip the T-nuts of one camera mount bar assembly (from the previous step) onto one side of the 1-foot bar. Center the mount bar along the 1 foot bar's length and tighten the screws to secure in place. Slip the other two mount bars onto the opposite side of the 1 foot bar.\nPosition the two bars equidistant from the middle of the 1-foot bar, with their inner corner brackets approximately 2.5 inches apart. Slip corner brackets onto the sides of the 1-foot bar, two at each end of the bar. Position the corner brackets with the brackets' legs flush with the ends of the bar and tighten the screws to secure in place.\nAttach the end bars to the center bar.\n\t\t\nSlip two 1-foot aluminum extrusions onto the T-nuts at each end of the assembly from the previous step forming an \"H\" shape. Center each end bar on the center bar and secure by tightening the four screws.\nSlip four corner brackets onto the top of the two end bars added in the previous step, one at each end of each bar. Position the corner brackets with the brackets' legs flush with the ends of the bars and tighten the screws to secure in place.\nAttach camera stands and holsters to the camera mount assembly.\n\t\t\nFor each of the three microscope camera stands, remove the camera holster by loosening the thumbscrew and sliding off the stand rod.",
    "For each camera mount bar (now secured to the center bar of the \"H\"), place one washer onto a round-head screw, slip the screw up through the drilled hole in the camera mount bar and place another washer down over the screw. Thread the tapped hole of the camera stand rod down onto the screw, tightening securely against the camera mount bar.\nRepeat steps 14.3.2 for the other two camera mount bars.\nSlip a camera holster onto each camera stand rod with the wider opening oriented toward the camera mount bar and screw. Temporarily secure the holster to the camera stand rod with the holster's thumbscrew.\n\t\t\tNOTE: The final operating position will be set in section 2.\nAssemble the behavior chamber frame (Figure 1A).\n\tNOTE: For ease of construction, assemble the frame upside down, beginning with the \"top\" of the chamber's frame on the work surface (Figure 1B, layer 1) and working upward toward the \"feet\" of the frame (Figure 1B, layer 3).\n\t\nTo assemble the top layer of the behavior chamber, attach four 1-foot extruded aluminum bars to the square polyester sheet (Figure 1B, layer 1).\n\t\t\nSlide one bar onto the two T-nuts along each edge of the fabric sheet, centering the bar along the fabric width. Tighten the fasteners to secure the fabric sheet to each bar.\nSpread the square polyester sheet on the work surface with the four attached aluminum bars on top. Slip eight corner brackets onto the top surfaces of the four aluminum bars, one at each end of each bar. Position the corner brackets on the bars with the brackets' vertical legs flush with the ends of the bars. Secure by tightening the screws into the T-nuts.",
    "In turn at each corner, stand an additional 1-foot aluminum extrusion upright, slipping the extrusion over the T-nuts on the two corner bracket legs.\nSecure the upright bar to the horizontal bars by tightening the fasteners, thus joining the two adjacent horizontal bars.\n\t\tNOTE: When completed, the eight extrusions (four horizontal and four vertical) will form a square ring on the table with four posts sticking upward (Figure 1B, layer 1).\nSlip the loose T-nuts of the \"H\"-shaped camera mount assembly from section 1.4 down into the uprights of the frame from the previous step. Let the \"H\" slip all the way down to rest on top of the corner brackets at each corner of the frame. Secure the camera mount assembly in place by tightening the four corner bracket screws.\nAssemble the bottom layer of the chamber using the final four 1 foot extruded aluminum bars (Figure 1B, layer 3).\n\t\t\nSlip one corner bracket onto each end of each 1-foot bar, position the corner brackets with the brackets' legs flush with the ends of the bar and tighten the screws to secure in place.\nSlip the bars down between the frame uprights with the loose T-nuts in the uprights' channels. Position the bars so the top edges of their corner brackets are 1-inch below the open end of the uprights and secure in place by tightening the corner bracket screws.\nSlide the T-nuts of the four rectangular polyester sheets down into the channels on the upright extrusion bars to cover the sides of the chamber and tighten the fasteners to secure in place.\nSelect one side to be a door for accessing the interior of the chamber and remove the two screws and T-nuts at the bottom layer of the chamber.",
    "NOTE: When the frame is turned upright, the bottom of this cover will hang loose at the bottom and can be lifted to access the chamber's interior.\nPlace a plastic cap on the top end of each corner member to serve as feet for the completed frame. Turn the frame right-side-up. Insert two panel holders per side inside the frame's base layer and twist to secure them in place (Figure 1B, layer 3). Place a 12 x 12 inch2 piece of clear acrylic on top of the panel holders to provide a stage for assay plates (Figure 1B, layer 3).\n2. Camera and Stage Template Positioning\nDownload and install the microscope camera video acquisition software onto the computer from the manufacturer's website.\nSlip a microscope camera into each of the three camera holsters with the camera optics pointed down toward the acrylic stage and backlight. Connect the cameras to the computer's USB ports. Position the infrared LED backlight panel under the frame, centering beneath the stage. Plug in the backlight panel to turn on.\nPrint the provided solution-placement and plate-alignment templates on transparency sheets (see Supplemental File).\n\tNOTE: On the solution-placement template, the plate perimeter circle is 3.8 cm in diameter and the inner region of interest circle is 0.9 cm in diameter.\nCut along the gridlines to obtain rectangular transparency pieces enclosing the circular templates.\nStart the video acquisition software and click the numbered thumbnails at the top of the window to view the cameras' feeds.\nAdjust microscope camera alignment and magnification.\nPosition a plate-alignment template under a microscope camera lens (Figure 2B).",
    "Change the working distance by vertically sliding the camera holster along the camera stand rod and adjust the camera's magnification by rotating the camera's magnification dial until the template's number markers are clearly visible at the edges of the camera's field of view.\nTape the plate-alignment template to the acrylic stage.\nPlace a sample plate of worms on the plate-alignment template under the microscope camera and further refine the magnification and working distance until a sharp image of the worms is achieved while still maintaining the number markers within the field of view.\nRepeat steps 2.6.1-2.6.4 for the other two microscope cameras.\n3. Nematode Growth and Synchronization\nFour days before the experiments, seed twenty-four 60 mm Nematode Growth Media (NGM) agar plates with 50 µL of OP50 Escherichia coli in Luria-Bertani (LB) broth (see section 5 for recipe).\n\tNOTE: Each 60-mm plate will provide enough worms for one assay plate. Acquiring six replicates per treatment or genotype is recommended.\nLeave the seeded plates to dry upright with lids on, overnight at room temperature.\nThe next day, transfer fifteen well-fed gravid hermaphrodites onto each seeded plate and allow worms to lay eggs for six hours. This will yield >360 eggs per plate.\nAfter 6 h, remove worms from seeded plates and let progeny grow for three days into adults at 20 °C.\n4. Chemosensory Preference Assay\nThe day before the experiment, prepare 35 mm NGM agar assay plates.\nPrepare 250 mL of NGM agar (see section 5 for recipe).\nArrange twenty-eight empty 35 mm plates in stacks of five or less on a flat surface. Fill each assay plate with 5 mL of NGM agar. Leave assay plates to dry upright with lids on, overnight at room temperature.",
    "NOTE: As a rule of thumb, prepare one additional assay plate for each treatment or genotype to be assayed in case of contingencies.\nOn the day of the experiment, turn on the backlight, boot the computer, and launch the microscope camera video capture software.\nConnect a microscope camera to the computer and adjust the video recording settings.\nClick on the numbered camera thumbnail at the top of the software window to view the camera's live feed.\nPull down the 'Video Format' menu at the top left corner of the camera feed and select 'MJPG 1280 x 1024'. Pull down the 'Folder' menu next to the 'Video Format' menu and select a folder in which to save the video files.\nClick on the 'Auto Exposure' icon at the top right corner of the camera feed and turn off the auto-exposure. Click on the 'LED' icon immediately to the right of the 'Auto Exposure' icon to turn off the inbuilt microscope camera LEDs. Click on the adjacent 'Settings' icon: Select 'Monochrome', maximize 'Contrast', and adjust 'Brightness' until worms appear distinct from the background.\nAcquire calibration videos.\nAlign a solution-placement template on top of a stage plate-alignment template (Figure 2A). Click on the 'Time-Lapsed Video' recording icon on the left side of the camera feed and enter '5' s for duration and '1' s for interval to record a 5 s video at 1 frame/s. Click on 'Start' to begin video recording.\nRepeat steps in 4.3 and 4.4 for the other two microscope cameras.\nRemove the solution-placement template from the chamber.\nWash worms three times with wash buffer to remove food.",
    "Use a 5 mL glass pipette to add 1.2 mL of NGM buffer to a plate of synchronized worms and gently agitate the plate to displace the worms into the buffer. Pipette up buffer from the plate and dispense worms in buffer into a clean microcentrifuge tube.\n\t\tNOTE: Worms are sensitive to deviations from their culturing agar salt concentration14. To minimize changes in agar salt concentration after worm placement, using NGM buffer for the washing process is recommended (see section 5 for recipe). Do not use plastic pipettes to remove worms from plates, as worms will stick to the sides. Prepare an equivalent number of tubes as the number of assay plates to be run simultaneously.\nLet the three tubes stand for 1-2 min to allow worms to settle to the bottom. Use a plastic pipette tip to remove as much wash buffer from the tubes as possible without disturbing the pellet of aggregated worms at the bottom of the tubes. Refill the tubes with 1 mL of clean NGM buffer each.\nRepeat step 4.7.2 once.\nAdd 10 mM CuCl2 and M13 buffer solutions to assay plates (see section 5 for recipes).\nTape a solution-placement template on top of the stage of the dissecting microscope.\nPlace a strip of double-sided tape on either side of a plate-alignment template. Ensure that the tape overlaps with the plate perimeter circle but does not occlude the recording region of interest at the center of the template.\nAlign the perimeter of the assay plate with the circle on the plate-alignment template and press down until the template adheres to the bottom of the plate. Align the assay plate template number markers with the solution-placement template markers on the dissecting microscope.",
    "Use a P2 pipette and plastic tip to place 1 µL of the M13 buffer each in quadrants 1 and 4 (Figure 2A). Use a new tip to place 1 µL of 10 mM CuCl2 solution each in quadrants 2 and 3 (Figure 2A).\nRepeat steps 4.8.2-4.8.4 for the other two assay plates.\nOnce the solution drops have been completely absorbed into the agar, use a glass Pasteur pipette to transfer washed worms from each microcentrifuge tube to the corresponding assay plate.\nPlace a drop of worms each on the area above and below the circular treated region. Fold a tissue four times and use the blunt edge to absorb excess wash buffer on all assay plates.\nImmediately arrange the three assay plates under the microscope cameras in the behavior chamber by aligning the numbers at the template corners. Wait for 2-3 min to allow the worms to acclimate to the assay plates.\n\tNOTE: Ensure that the behavior chamber door flap is closed prior to initiating video recording in the next step.\nClick on the 'Time-Lapsed Video' recording icon on the left side of the camera feed and enter '10' min for duration and '1' s for interval to record a 10 min video at 1 frame per second. Click on 'Start' to start video recording. After the videos have been recorded and saved, remove the assay plates from the chamber.\nRepeat steps 4.7-4.12 for the next round of assay plates. Acquire at least six replicates or two rounds of recording for each treatment or genotype.\n5. Reagent Preparation\nPrepare NGM agar and buffer.",
    "In a 1 L glass bottle, add 1.5 g of sodium chloride, 8.5 g of agar, and 1.25 g of peptone. Add 500 mL of distilled water and a stir bar to the bottle. Autoclave bottle with contents.\nPlace the bottle on a stir plate and switch on the stir function.\nAdd in order using sterile technique: 0.5 mL of 5 mg/mL cholesterol, 0.5 mL of 1 M calcium chloride, 0.5 mL of 1 M magnesium sulfate, and 12.5 mL of 1 M potassium phosphate.\nRepeat steps 5.1.1 to 5.1.2 to make NGM buffer but leave out the agar and peptone in step 5.1.1.\nPrepare LB broth.\nIn a 1 L glass bottle, add 5 g of tryptone, 2.5 g of yeast extract, 2.5 g of sodium chloride, 500 mL of distilled water, and 0.5 mL of 1 N sodium hydroxide. Autoclave bottle with contents.\nPrepare M13 buffer.\nIn a 1 L glass bottle, add 1.817 g of Tris, 2.922 g of sodium chloride, 0.373 g of potassium chloride, and 500 mL of distilled water. Autoclave the bottle with contents.\nPrepare copper chloride (CuCl2) solution.\nWeigh out 0.134 g of CuCl2. Add solute to 10 mL of M13 buffer in a 15-mL plastic tube to make 100 mM CuCl2 stock solution. Invert the plastic tube until all the solute has dissolved.\nUse a syringe and 0.2 µm membrane filter to filter purify the 100 mM CuCl2 solution into a clean 15 mL plastic tube.\nTo make 10 mM CuCl2 solution, add 900 µL of M13 buffer and 100 µL of 100 mM CuCl2 stock solution to a microcentrifuge tube. Invert the microcentrifuge tube to mix well.\n6. Video Analysis\nDownload Python 3 (https://www.python.org/downloads/) and the OpenCV software library (http://opencv.org/downloads.html).\nDownload the three Python scripts for analysis (https://github.com/WormLabCaltech/ResidentWorm).",
    "NOTE: Ensure that all video files to be used are in mp4 format before proceeding.\nTo view the function and parameter descriptions, type 'help(enter function name)' in the console and hit enter. For example, type 'help(calibration)' and hit enter.\nExecute the calibration function with input parameters to define the video regions of interest (ROI).\nEnter the filename of the calibration video taken in section 4 for the variable 'mp4filename'. Include quotation marks when entering the filename.\nStart with the values 600 and 360 for the 'Q*x' and 'Q*y' variables. *Enter quadrant numbers 1 to 4. Start with the value 310 for the 'rad' variable. Adjust the variable values until the ROI masks align with the quadrant outlines on the template.\nRecord the total number of pixels in each ROI that will be printed in the console upon execution of this function. Input this value for the 'ROI_size' parameter in the preference_index function.\nExecute the threshold_constant function to determine the appropriate thresholding constant. Adjust the 'constant' value until the worms (white) can be seen clearly and there is minimal salt-and-pepper noise in the background (black).\nExecute the preference_index function to generate a csv datasheet, the video's preference index, and the accompanying worm occupancy plot.\nUse the 'Q*x', 'Q*y', 'rad', 'ROI_size', and 'constant' values determined from steps 6.4 and 6.5 as input parameters for the preference_index function.\n\t\tNOTE: For each video frame, the preference_index function counts the number of worm pixels in each ROI and calculates the percentage of worm pixels out of the total number of ROI pixels. The function then generates a preference index value for each video frame using the formula:\nimgsrc://cloudfront.jove.com/files/ftp_upload/55963/55963eq1v2.jpg",
    "NOTE: Once the program has analyzed all the frames in the video, an average preference index value is generated for the video. A worm occupancy plot with the video’s preference index printed at the top as well as a csv datasheet containing worm pixel, percentage worm occupancy values, and the preference index for each video frame will be saved to the designated folder once the program has finished running."
  ],
  "subjectAreas": [
    "Behavior"
  ],
  "bigAreas": [
    "Ecology & Environmental Biology"
  ]
}